<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>耶氏台球报价系统</title>
    <style>
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
        }
        #app {
            height: 100%;
        }
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            font-size: 14px;
            color: #666;
        }
    </style>
    <!-- UniApp Compatibility Layer - Initialize before any modules -->
    <script>
    (function() {
        if (typeof window !== 'undefined' && !window.uni) {
            // Early initialization of UniApp compatibility layer
            window.uni = {
                // Storage methods
                getStorageSync: function(key) {
                    try {
                        var item = localStorage.getItem(key);
                        if (item === null) return undefined;
                        try {
                            return JSON.parse(item);
                        } catch (e) {
                            return item;
                        }
                    } catch (error) {
                        console.warn('Failed to get storage item:', key, error);
                        return undefined;
                    }
                },
                setStorageSync: function(key, data) {
                    try {
                        var value = typeof data === 'string' ? data : JSON.stringify(data);
                        localStorage.setItem(key, value);
                    } catch (error) {
                        console.warn('Failed to set storage item:', key, error);
                        throw error;
                    }
                },
                removeStorageSync: function(key) {
                    try {
                        localStorage.removeItem(key);
                    } catch (error) {
                        console.warn('Failed to remove storage item:', key, error);
                        throw error;
                    }
                },
                
                // Basic UI methods (will be enhanced by full compatibility layer)
                showModal: function(options) {
                    var result = confirm(
                        (options.title && options.content) 
                            ? options.title + '\n\n' + options.content
                            : (options.content || options.title || '确认操作?')
                    );
                    if (options.success) {
                        options.success({ confirm: result, cancel: !result });
                    }
                },
                showToast: function(options) {
                    console.log('[Toast]', options.title);
                },
                navigateTo: function(options) {
                    console.log('[Navigate]', options.url);
                },
                navigateBack: function(options) {
                    if (window.history && window.history.length > 1) {
                        window.history.back();
                    }
                },
                setNavigationBarTitle: function(options) {
                    document.title = options.title;
                }
            };
            console.log('Early UniApp compatibility layer initialized');
        }
    })();
    </script>
  <script type="module" crossorigin src="/assets/index.standard-BQkzYLEJ.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-CIRSQFo7.css">
</head>
<body>
    <div id="app">
        <div class="loading">加载中...</div>
    </div>
</body>
</html>