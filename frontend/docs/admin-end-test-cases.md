# 管理端功能验收测试用例

## 📋 概述

基于PRD需求设计的管理端详细测试用例，覆盖后台管理的所有核心功能模块。

## 🎯 测试用例分类

### 优先级定义
- **P0 (Critical)**: 核心管理功能，必须100%通过
- **P1 (High)**: 重要管理特性，≥95%通过率
- **P2 (Medium)**: 辅助管理功能，≥90%通过率
- **P3 (Low)**: 增强管理功能，≥80%通过率

---

## 🔐 TC-A01: 管理员认证与权限

### TC-A01-01: 管理员登录功能 [P0]
**测试目标**: 验证管理员登录认证功能  
**测试步骤**:
1. 访问管理端登录页面(/admin/login)
2. 使用正确的用户名和密码登录
3. 使用错误的用户名或密码登录
4. 测试空字段提交
5. 记录登录响应时间

**预期结果**:
- 正确凭据登录成功，跳转到仪表盘
- 错误凭据显示明确错误提示
- 空字段提交被阻止，显示提示
- 登录响应时间≤1秒
- 登录成功率≥99%

**验收标准**: 认证100%准确，响应时间≤1秒

### TC-A01-02: 权限验证功能 [P0]
**测试目标**: 验证管理员权限控制准确性  
**测试步骤**:
1. 登录成功后访问各个管理模块
2. 测试未登录用户访问管理页面
3. 验证权限不足时的处理
4. 测试会话过期后的行为

**预期结果**:
- 已登录用户可访问所有授权功能
- 未登录用户自动重定向到登录页
- 权限验证准确性100%
- 会话过期后自动跳转登录页

**验收标准**: 权限控制100%准确，无越权访问

### TC-A01-03: 登录状态管理 [P1]
**测试目标**: 验证登录状态持久化和管理  
**测试步骤**:
1. 登录后关闭浏览器重新打开
2. 测试长时间未操作的会话处理
3. 验证主动退出登录功能
4. 测试多标签页登录状态同步

**预期结果**:
- 登录状态在合理时间内保持
- 会话超时后安全退出
- 退出登录功能正常工作
- 多标签页状态同步

**验收标准**: 登录状态管理100%安全可靠

---

## 📊 TC-A02: 仪表盘与数据统计

### TC-A02-01: 仪表盘数据加载 [P0]
**测试目标**: 验证仪表盘关键数据统计功能  
**测试步骤**:
1. 成功登录后访问仪表盘页面
2. 验证报价总数统计准确性
3. 验证成交率计算正确性
4. 验证销售排行数据准确性
5. 验证本月报价单数量统计
6. 验证各品牌销量分布数据

**预期结果**:
- 仪表盘加载时间≤2秒
- 所有统计数据100%准确
- 数据实时更新或定期刷新
- 支持数据时间范围筛选

**验收标准**: 数据统计100%准确，加载时间≤2秒

### TC-A02-02: 数据可视化展示 [P1]
**测试目标**: 验证数据图表和可视化功能  
**测试步骤**:
1. 验证数据卡片样式和布局
2. 测试图表渲染效果
3. 验证数据交互功能
4. 测试响应式图表适配

**预期结果**:
- 数据卡片清晰美观
- 图表渲染正确无误
- 支持数据点击查看详情
- 图表在不同屏幕尺寸下正常显示

**验收标准**: 可视化效果100%正常，交互流畅

### TC-A02-03: 快捷入口功能 [P1]
**测试目标**: 验证仪表盘快捷操作入口  
**测试步骤**:
1. 点击报价管理快捷入口
2. 点击产品管理快捷入口
3. 验证其他管理模块入口
4. 测试跳转响应时间

**预期结果**:
- 所有快捷入口正确跳转
- 跳转响应时间≤0.5秒
- 页面导航面包屑正确
- 返回仪表盘功能正常

**验收标准**: 导航跳转100%正确，响应迅速

---

## 📋 TC-A03: 报价单管理

### TC-A03-01: 报价单列表功能 [P0]
**测试目标**: 验证报价单列表管理功能  
**测试步骤**:
1. 访问报价单管理页面
2. 验证报价单列表加载
3. 测试分页功能
4. 验证报价单信息显示完整性
5. 测试唯一编号显示

**预期结果**:
- 列表加载时间≤1秒
- 显示客户、销售、总价、状态、时间、唯一编号
- 分页功能正常工作
- 支持每页数量调整
- 状态标签颜色区分清晰

**验收标准**: 列表功能100%正常，数据显示完整

### TC-A03-02: 报价单筛选搜索 [P0]
**测试目标**: 验证报价单筛选和搜索功能  
**测试步骤**:
1. 使用客户姓名搜索
2. 使用销售人员筛选
3. 使用状态筛选
4. 使用日期范围筛选
5. 使用报价编号精确搜索
6. 测试组合条件筛选

**预期结果**:
- 搜索结果准确匹配
- 筛选响应时间≤0.5秒
- 支持多维度组合筛选
- 支持模糊和精确搜索
- 搜索历史记录保存

**验收标准**: 搜索准确率100%，响应时间达标

### TC-A03-03: 报价单审核功能 [P0]
**测试目标**: 验证报价单审核和修改功能  
**测试步骤**:
1. 选择待审核报价单
2. 查看报价单详细信息
3. 执行审核通过操作
4. 执行审核驳回操作
5. 测试修改报价单功能
6. 验证修改历史记录

**预期结果**:
- 审核操作需要二次确认
- 审核状态实时更新
- 支持批量审核操作
- 修改功能完整可用
- 操作历史完整记录

**验收标准**: 审核功能100%准确，操作历史完整

### TC-A03-04: 报价单导出功能 [P1]
**测试目标**: 验证报价单数据导出功能  
**测试步骤**:
1. 选择要导出的报价单
2. 测试单个报价单导出
3. 测试批量报价单导出
4. 测试不同格式导出(Excel/PDF)
5. 验证导出文件内容完整性

**预期结果**:
- 导出完成时间≤30秒
- 支持Excel和PDF格式
- 导出文件内容完整准确
- 支持自定义导出字段
- 大批量导出不影响系统性能

**验收标准**: 导出功能100%正常，数据完整无误

### TC-A03-05: 报价单删除功能 [P1]
**测试目标**: 验证报价单删除功能  
**测试步骤**:
1. 选择要删除的报价单
2. 测试单个删除功能
3. 测试批量删除功能
4. 验证删除确认机制
5. 测试删除后数据恢复能力

**预期结果**:
- 删除需要二次确认
- 支持单个和批量删除
- 删除操作记录到审计日志
- 关联数据正确处理
- 重要数据有恢复机制

**验收标准**: 删除操作100%安全，确认机制有效

---

## 🛍️ TC-A04: 产品管理

### TC-A04-01: 产品列表管理 [P0]
**测试目标**: 验证产品列表管理功能  
**测试步骤**:
1. 访问产品管理页面
2. 验证产品列表加载
3. 测试产品信息显示
4. 验证产品状态切换
5. 测试产品搜索功能

**预期结果**:
- 产品列表加载时间≤1秒
- 显示产品名称、型号、单价、状态
- 状态切换开关正常工作
- 搜索功能准确快速
- 支持按类别筛选

**验收标准**: 产品管理功能100%正常

### TC-A04-02: 产品增删改查 [P0]
**测试目标**: 验证产品CRUD操作功能  
**测试步骤**:
1. 测试新增产品功能
   - 填写完整产品信息
   - 上传产品图片
   - 设置价格和单位
2. 测试编辑产品功能
   - 修改产品信息
   - 更换产品图片
   - 调整价格
3. 测试删除产品功能
   - 单个产品删除
   - 批量产品删除

**预期结果**:
- 产品CRUD操作响应时间≤1秒
- 数据验证准确有效
- 图片上传和管理正常
- 价格必须为非负数验证
- 删除前检查关联数据

**验收标准**: CRUD操作100%正常，数据验证有效

### TC-A04-03: 地毯SKU管理 [P0]
**测试目标**: 验证地毯产品多SKU管理功能  
**测试步骤**:
1. 创建地毯类产品
2. 添加多个SKU规格
   - 不同尺寸规格
   - 不同颜色选项
   - 不同价格设置
3. 测试SKU编辑和删除
4. 验证SKU库存管理
5. 测试SKU在前端的显示

**预期结果**:
- 支持灵活的SKU规格定义
- 每个SKU可独立设置价格
- SKU库存管理功能完整
- 前端正确显示多SKU选项
- SKU数据结构支持扩展

**验收标准**: SKU管理100%灵活可用

### TC-A04-04: 产品图片管理 [P1]
**测试目标**: 验证产品图片管理功能  
**测试步骤**:
1. 上传产品主图
2. 上传产品详情图(多张)
3. 测试图片编辑和裁剪
4. 验证图片压缩和优化
5. 测试图片删除功能

**预期结果**:
- 支持多格式图片上传
- 图片自动压缩和优化
- 支持图片排序和管理
- 图片缩略图正常生成
- 删除图片同时清理文件

**验收标准**: 图片管理功能完整，性能优化

### TC-A04-05: 批量导入功能 [P1]
**测试目标**: 验证产品批量导入功能  
**测试步骤**:
1. 下载导入模板
2. 准备Excel导入文件
3. 执行批量导入操作
4. 验证导入结果和错误处理
5. 测试大批量数据导入

**预期结果**:
- 提供标准导入模板
- 支持Excel文件拖拽导入
- 导入进度实时显示
- 错误数据明确提示
- 大批量导入处理时间合理

**验收标准**: 批量导入功能完整可靠

---

## 👥 TC-A05: 用户与客户管理

### TC-A05-01: 销售人员管理 [P0]
**测试目标**: 验证销售人员账号管理功能  
**测试步骤**:
1. 创建新销售人员账号
2. 编辑销售人员信息
3. 禁用/启用销售人员账号
4. 重置销售人员密码
5. 删除销售人员账号

**预期结果**:
- 账号创建需要唯一用户名验证
- 密码加密存储，不可明文查看
- 禁用账号立即生效
- 重置密码需要二次确认
- 删除账号前检查关联数据

**验收标准**: 用户管理100%安全可靠

### TC-A05-02: 客户信息管理 [P1]
**测试目标**: 验证客户信息管理功能  
**测试步骤**:
1. 查看客户信息列表
2. 搜索特定客户信息
3. 查看客户详细信息
4. 编辑客户信息
5. 导出客户数据

**预期结果**:
- 客户列表显示完整信息
- 支持多字段搜索
- 客户详情页面信息全面
- 编辑功能保护数据完整性
- 支持客户数据批量导出

**验收标准**: 客户管理功能完整高效

### TC-A05-03: 客户报价历史 [P1]
**测试目标**: 验证客户关联报价历史查看  
**测试步骤**:
1. 在客户详情页查看报价历史
2. 筛选特定时间范围报价
3. 查看报价详情和状态
4. 分析客户成交转化率

**预期结果**:
- 客户报价历史完整显示
- 支持时间和状态筛选
- 一键跳转到报价详情
- 提供简单的转化率分析

**验收标准**: 关联数据查看100%准确

---

## 📈 TC-A06: 数据分析与报表

### TC-A06-01: 销售数据统计 [P1]
**测试目标**: 验证销售数据统计分析功能  
**测试步骤**:
1. 查看销售业绩统计
2. 分析产品销量排行
3. 查看销售趋势图表
4. 对比不同时间段数据

**预期结果**:
- 统计数据准确及时
- 图表渲染清晰美观
- 支持多维度数据分析
- 时间对比功能有效

**验收标准**: 数据统计100%准确，分析功能实用

### TC-A06-02: 报表导出功能 [P1]
**测试目标**: 验证各类数据报表导出功能  
**测试步骤**:
1. 导出销售业绩报表
2. 导出产品销量报表
3. 导出客户统计报表
4. 测试自定义报表功能

**预期结果**:
- 支持Excel和PDF格式导出
- 报表数据完整准确
- 导出速度合理
- 支持报表格式自定义

**验收标准**: 报表导出功能完整可靠

---

## 📝 TC-A07: 操作日志与审计

### TC-A07-01: 操作日志记录 [P1]
**测试目标**: 验证系统操作日志记录功能  
**测试步骤**:
1. 执行各种管理操作
2. 查看操作日志记录
3. 验证日志内容完整性
4. 测试日志搜索和筛选

**预期结果**:
- 关键操作100%记录
- 日志内容包含操作人、时间、对象、详情
- 支持日志搜索和筛选
- 日志数据安全存储

**验收标准**: 操作日志记录≥99%，内容完整

### TC-A07-02: 系统设置管理 [P2]
**测试目标**: 验证系统基础设置功能  
**测试步骤**:
1. 修改公司基本信息
2. 调整报价模板配置
3. 设置系统参数
4. 保存配置更改

**预期结果**:
- 设置修改立即生效
- 表单验证正确有效
- 配置数据安全存储
- 支持配置备份恢复

**验收标准**: 系统设置功能稳定可靠

---

## 🛡️ TC-A08: 安全性测试

### TC-A08-01: 数据访问控制 [P0]
**测试目标**: 验证数据访问权限控制  
**测试步骤**:
1. 测试基于RLS的数据隔离
2. 验证越权访问防护
3. 测试敏感数据保护
4. 验证数据传输安全

**预期结果**:
- 数据隔离100%有效
- 无越权访问漏洞
- 敏感数据加密传输
- API接口安全认证

**验收标准**: 安全控制100%有效

### TC-A08-02: 输入验证安全 [P0]
**测试目标**: 验证系统输入验证和过滤  
**测试步骤**:
1. 测试SQL注入防护
2. 测试XSS脚本防护
3. 验证文件上传安全
4. 测试CSRF防护

**预期结果**:
- SQL注入攻击被阻止
- XSS脚本被过滤
- 恶意文件上传被拦截
- CSRF令牌验证有效

**验收标准**: 安全防护100%有效

---

## 📊 执行计划与验收标准

### 测试执行顺序
1. **第1天**: TC-A01 管理员认证与权限
2. **第2天**: TC-A02 仪表盘与数据统计  
3. **第3-4天**: TC-A03 报价单管理功能
4. **第5天**: TC-A04 产品管理功能
5. **第6天**: TC-A05 用户与客户管理
6. **第7天**: TC-A06-A07 数据分析与日志
7. **第8天**: TC-A08 安全性测试

### 验收通过标准
- **P0用例**: 必须100%通过
- **P1用例**: ≥95%通过率
- **P2用例**: ≥90%通过率  
- **P3用例**: ≥80%通过率
- 无安全漏洞
- 无数据损坏风险

### 测试数据准备
- 管理员测试账号：不同权限级别
- 测试报价单：各种状态和场景
- 测试产品数据：包含多SKU地毯产品
- 测试客户数据：完整客户档案信息
- 测试操作日志：各类操作记录

### 测试环境要求
- **管理端访问**: Chrome、Safari、Firefox
- **数据库**: PostgreSQL测试环境
- **文件存储**: Supabase Storage测试环境
- **权限系统**: RLS策略完整配置

---

*本测试用例确保管理端功能完全符合PRD要求，为管理员提供高效安全的后台管理体验。*