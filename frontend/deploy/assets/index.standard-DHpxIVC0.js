const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CZJWB32D.js","assets/_plugin-vue_export-helper-DlAUqK2U.js","assets/index-CIqH-Imj.css","assets/create-DkD1EY45.js","assets/SalesButton-Bck0Vs7e.js","assets/SalesButton-BCN3BZkY.css","assets/SalesSelector-Ckk41PFW.js","assets/SalesSelector-CWaCQh2D.css","assets/create-D92Bl57l.css","assets/preview-D1C_T0CM.js","assets/preview-DLeOZV1M.css","assets/index-DSETpFfI.js","assets/index-3M9k99Hz.css","assets/index-C3dOjtqn.js","assets/app-DqkBhIqL.js","assets/index-BDGDviie.css","assets/index-BcqpE6YR.js","assets/useAuth-wzWGH3hv.js","assets/index-y7Q1q9qa.css","assets/index-l6JdEgeQ.js","assets/AdminLayout-CwVGqELj.js","assets/AdminLayout-Bfh_f6hz.css","assets/index-RSmrNTJe.css","assets/index-ClMK8STu.js","assets/common-actions-DhrMkVRx.js","assets/common-actions-Cu04DGgW.css","assets/index-BTlkMsuT.css","assets/detail-BEFBPYY1.js","assets/detail-C0PRbSaD.css","assets/index-CPPMRCQs.js","assets/index-Cx8OriB4.css","assets/edit-BDBZNk0u.js","assets/edit-DggZ8bwM.css","assets/index-B3N7EY9-.js","assets/index-BAjDXpyN.css","assets/index-BVfTmehC.js","assets/index-DJvyckaC.css","assets/detail-B9PSaX-W.js","assets/detail-OBiX5Lix.css","assets/edit-BTwOer-1.js","assets/edit-f4bzho79.css","assets/index-17E_L-lL.js","assets/RealtimeIndicator-BP6QFItv.js","assets/RealtimeIndicator-ki5AMz56.css","assets/index-Bl0ag65n.css","assets/index-C0l8NfA7.js","assets/index-aFelwHaW.css","assets/integration-B4-rthj9.js","assets/LoadingSkeleton-DpDZhGq1.js","assets/LoadingSkeleton-BH7Ib3s2.css","assets/integration-DFVnAjvm.css","assets/mobile-adaptation-m1JjfRcd.js","assets/mobile-adaptation-DuruS444.css"])))=>i.map(i=>d[i]);
var du=Object.defineProperty;var xu=(t,e,r)=>e in t?du(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _t=(t,e,r)=>xu(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=r(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function uo(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ee={},kr=[],dt=()=>{},pu=()=>!1,rn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),fo=t=>t.startsWith("onUpdate:"),Oe=Object.assign,ho=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},vu=Object.prototype.hasOwnProperty,me=(t,e)=>vu.call(t,e),re=Array.isArray,Fr=t=>Cs(t)==="[object Map]",sn=t=>Cs(t)==="[object Set]",Vo=t=>Cs(t)==="[object Date]",ie=t=>typeof t=="function",Te=t=>typeof t=="string",pt=t=>typeof t=="symbol",Ae=t=>t!==null&&typeof t=="object",Xc=t=>(Ae(t)||ie(t))&&ie(t.then)&&ie(t.catch),Yc=Object.prototype.toString,Cs=t=>Yc.call(t),gu=t=>Cs(t).slice(8,-1),Zc=t=>Cs(t)==="[object Object]",xo=t=>Te(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Yr=uo(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nn=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},_u=/-(\w)/g,ut=nn(t=>t.replace(_u,(e,r)=>r?r.toUpperCase():"")),mu=/\B([A-Z])/g,Yt=nn(t=>t.replace(mu,"-$1").toLowerCase()),on=nn(t=>t.charAt(0).toUpperCase()+t.slice(1)),Tn=nn(t=>t?`on${on(t)}`:""),Gt=(t,e)=>!Object.is(t,e),qs=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Oi=(t,e,r,s=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:s,value:r})},Ii=t=>{const e=parseFloat(t);return isNaN(e)?t:e},yu=t=>{const e=Te(t)?Number(t):NaN;return isNaN(e)?t:e};let Go;const an=()=>Go||(Go=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function po(t){if(re(t)){const e={};for(let r=0;r<t.length;r++){const s=t[r],n=Te(s)?Cu(s):po(s);if(n)for(const i in n)e[i]=n[i]}return e}else if(Te(t)||Ae(t))return t}const wu=/;(?![^(]*\))/g,bu=/:([^]+)/,Eu=/\/\*[^]*?\*\//g;function Cu(t){const e={};return t.replace(Eu,"").split(wu).forEach(r=>{if(r){const s=r.split(bu);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function vo(t){let e="";if(Te(t))e=t;else if(re(t))for(let r=0;r<t.length;r++){const s=vo(t[r]);s&&(e+=s+" ")}else if(Ae(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Au="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Su=uo(Au);function e0(t){return!!t||t===""}function Bu(t,e){if(t.length!==e.length)return!1;let r=!0;for(let s=0;r&&s<t.length;s++)r=Ir(t[s],e[s]);return r}function Ir(t,e){if(t===e)return!0;let r=Vo(t),s=Vo(e);if(r||s)return r&&s?t.getTime()===e.getTime():!1;if(r=pt(t),s=pt(e),r||s)return t===e;if(r=re(t),s=re(e),r||s)return r&&s?Bu(t,e):!1;if(r=Ae(t),s=Ae(e),r||s){if(!r||!s)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Ir(t[o],e[o]))return!1}}return String(t)===String(e)}function t0(t,e){return t.findIndex(r=>Ir(r,e))}const r0=t=>!!(t&&t.__v_isRef===!0),Du=t=>Te(t)?t:t==null?"":re(t)||Ae(t)&&(t.toString===Yc||!ie(t.toString))?r0(t)?Du(t.value):JSON.stringify(t,s0,2):String(t),s0=(t,e)=>r0(e)?s0(t,e.value):Fr(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[s,n],i)=>(r[Rn(s,i)+" =>"]=n,r),{})}:sn(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Rn(r))}:pt(e)?Rn(e):Ae(e)&&!re(e)&&!Zc(e)?String(e):e,Rn=(t,e="")=>{var r;return pt(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};function ku(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ze;class n0{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ze,!e&&ze&&(this.index=(ze.scopes||(ze.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=ze;try{return ze=this,e()}finally{ze=r}}}on(){++this._on===1&&(this.prevScope=ze,ze=this)}off(){this._on>0&&--this._on===0&&(ze=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,s;for(r=0,s=this.effects.length;r<s;r++)this.effects[r].stop();for(this.effects.length=0,r=0,s=this.cleanups.length;r<s;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,s=this.scopes.length;r<s;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function i0(t){return new n0(t)}function o0(){return ze}function Fu(t,e=!1){ze&&ze.cleanups.push(t)}let Be;const Pn=new WeakSet;class a0{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ze&&ze.active&&ze.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Pn.has(this)&&(Pn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||l0(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Qo(this),u0(this);const e=Be,r=xt;Be=this,xt=!0;try{return this.fn()}finally{f0(this),Be=e,xt=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)mo(e);this.deps=this.depsTail=void 0,Qo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Pn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){$i(this)&&this.run()}get dirty(){return $i(this)}}let c0=0,Zr,es;function l0(t,e=!1){if(t.flags|=8,e){t.next=es,es=t;return}t.next=Zr,Zr=t}function go(){c0++}function _o(){if(--c0>0)return;if(es){let e=es;for(es=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Zr;){let e=Zr;for(Zr=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(s){t||(t=s)}e=r}}if(t)throw t}function u0(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function f0(t){let e,r=t.depsTail,s=r;for(;s;){const n=s.prevDep;s.version===-1?(s===r&&(r=n),mo(s),Tu(s)):e=s,s.dep.activeLink=s.prevActiveLink,s.prevActiveLink=void 0,s=n}t.deps=e,t.depsTail=r}function $i(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(h0(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function h0(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===hs)||(t.globalVersion=hs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!$i(t))))return;t.flags|=2;const e=t.dep,r=Be,s=xt;Be=t,xt=!0;try{u0(t);const n=t.fn(t._value);(e.version===0||Gt(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{Be=r,xt=s,f0(t),t.flags&=-3}}function mo(t,e=!1){const{dep:r,prevSub:s,nextSub:n}=t;if(s&&(s.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=s,t.nextSub=void 0),r.subs===t&&(r.subs=s,!s&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)mo(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function Tu(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let xt=!0;const d0=[];function Pt(){d0.push(xt),xt=!1}function Ot(){const t=d0.pop();xt=t===void 0?!0:t}function Qo(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Be;Be=void 0;try{e()}finally{Be=r}}}let hs=0;class Ru{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yo{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Be||!xt||Be===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Be)r=this.activeLink=new Ru(Be,this),Be.deps?(r.prevDep=Be.depsTail,Be.depsTail.nextDep=r,Be.depsTail=r):Be.deps=Be.depsTail=r,x0(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const s=r.nextDep;s.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=s),r.prevDep=Be.depsTail,r.nextDep=void 0,Be.depsTail.nextDep=r,Be.depsTail=r,Be.deps===r&&(Be.deps=s)}return r}trigger(e){this.version++,hs++,this.notify(e)}notify(e){go();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{_o()}}}function x0(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let s=e.deps;s;s=s.nextDep)x0(s)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Ws=new WeakMap,hr=Symbol(""),ji=Symbol(""),ds=Symbol("");function We(t,e,r){if(xt&&Be){let s=Ws.get(t);s||Ws.set(t,s=new Map);let n=s.get(r);n||(s.set(r,n=new yo),n.map=s,n.key=r),n.track()}}function Ft(t,e,r,s,n,i){const o=Ws.get(t);if(!o){hs++;return}const a=c=>{c&&c.trigger()};if(go(),e==="clear")o.forEach(a);else{const c=re(t),l=c&&xo(r);if(c&&r==="length"){const u=Number(s);o.forEach((f,h)=>{(h==="length"||h===ds||!pt(h)&&h>=u)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),l&&a(o.get(ds)),e){case"add":c?l&&a(o.get("length")):(a(o.get(hr)),Fr(t)&&a(o.get(ji)));break;case"delete":c||(a(o.get(hr)),Fr(t)&&a(o.get(ji)));break;case"set":Fr(t)&&a(o.get(hr));break}}_o()}function Pu(t,e){const r=Ws.get(t);return r&&r.get(e)}function gr(t){const e=xe(t);return e===t?e:(We(e,"iterate",ds),ct(t)?e:e.map(Ne))}function cn(t){return We(t=xe(t),"iterate",ds),t}const Ou={__proto__:null,[Symbol.iterator](){return On(this,Symbol.iterator,Ne)},concat(...t){return gr(this).concat(...t.map(e=>re(e)?gr(e):e))},entries(){return On(this,"entries",t=>(t[1]=Ne(t[1]),t))},every(t,e){return Et(this,"every",t,e,void 0,arguments)},filter(t,e){return Et(this,"filter",t,e,r=>r.map(Ne),arguments)},find(t,e){return Et(this,"find",t,e,Ne,arguments)},findIndex(t,e){return Et(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Et(this,"findLast",t,e,Ne,arguments)},findLastIndex(t,e){return Et(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Et(this,"forEach",t,e,void 0,arguments)},includes(...t){return In(this,"includes",t)},indexOf(...t){return In(this,"indexOf",t)},join(t){return gr(this).join(t)},lastIndexOf(...t){return In(this,"lastIndexOf",t)},map(t,e){return Et(this,"map",t,e,void 0,arguments)},pop(){return zr(this,"pop")},push(...t){return zr(this,"push",t)},reduce(t,...e){return Jo(this,"reduce",t,e)},reduceRight(t,...e){return Jo(this,"reduceRight",t,e)},shift(){return zr(this,"shift")},some(t,e){return Et(this,"some",t,e,void 0,arguments)},splice(...t){return zr(this,"splice",t)},toReversed(){return gr(this).toReversed()},toSorted(t){return gr(this).toSorted(t)},toSpliced(...t){return gr(this).toSpliced(...t)},unshift(...t){return zr(this,"unshift",t)},values(){return On(this,"values",Ne)}};function On(t,e,r){const s=cn(t),n=s[e]();return s!==t&&!ct(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=r(i.value)),i}),n}const Iu=Array.prototype;function Et(t,e,r,s,n,i){const o=cn(t),a=o!==t&&!ct(t),c=o[e];if(c!==Iu[e]){const f=c.apply(t,i);return a?Ne(f):f}let l=r;o!==t&&(a?l=function(f,h){return r.call(this,Ne(f),h,t)}:r.length>2&&(l=function(f,h){return r.call(this,f,h,t)}));const u=c.call(o,l,s);return a&&n?n(u):u}function Jo(t,e,r,s){const n=cn(t);let i=r;return n!==t&&(ct(t)?r.length>3&&(i=function(o,a,c){return r.call(this,o,a,c,t)}):i=function(o,a,c){return r.call(this,o,Ne(a),c,t)}),n[e](i,...s)}function In(t,e,r){const s=xe(t);We(s,"iterate",ds);const n=s[e](...r);return(n===-1||n===!1)&&Eo(r[0])?(r[0]=xe(r[0]),s[e](...r)):n}function zr(t,e,r=[]){Pt(),go();const s=xe(t)[e].apply(t,r);return _o(),Ot(),s}const $u=uo("__proto__,__v_isRef,__isVue"),p0=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(pt));function ju(t){pt(t)||(t=String(t));const e=xe(this);return We(e,"has",t),e.hasOwnProperty(t)}class v0{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,s){if(r==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return i;if(r==="__v_raw")return s===(n?i?Vu:y0:i?m0:_0).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(s)?e:void 0;const o=re(e);if(!n){let c;if(o&&(c=Ou[r]))return c;if(r==="hasOwnProperty")return ju}const a=Reflect.get(e,r,Fe(e)?e:s);return(pt(r)?p0.has(r):$u(r))||(n||We(e,"get",r),i)?a:Fe(a)?o&&xo(r)?a:a.value:Ae(a)?n?b0(a):As(a):a}}class g0 extends v0{constructor(e=!1){super(!1,e)}set(e,r,s,n){let i=e[r];if(!this._isShallow){const c=Jt(i);if(!ct(s)&&!Jt(s)&&(i=xe(i),s=xe(s)),!re(e)&&Fe(i)&&!Fe(s))return c?!1:(i.value=s,!0)}const o=re(e)&&xo(r)?Number(r)<e.length:me(e,r),a=Reflect.set(e,r,s,Fe(e)?e:n);return e===xe(n)&&(o?Gt(s,i)&&Ft(e,"set",r,s):Ft(e,"add",r,s)),a}deleteProperty(e,r){const s=me(e,r);e[r];const n=Reflect.deleteProperty(e,r);return n&&s&&Ft(e,"delete",r,void 0),n}has(e,r){const s=Reflect.has(e,r);return(!pt(r)||!p0.has(r))&&We(e,"has",r),s}ownKeys(e){return We(e,"iterate",re(e)?"length":hr),Reflect.ownKeys(e)}}class Lu extends v0{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Uu=new g0,Nu=new Lu,qu=new g0(!0);const Li=t=>t,Rs=t=>Reflect.getPrototypeOf(t);function Hu(t,e,r){return function(...s){const n=this.__v_raw,i=xe(n),o=Fr(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=n[t](...s),u=r?Li:e?Ks:Ne;return!e&&We(i,"iterate",c?ji:hr),{next(){const{value:f,done:h}=l.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Ps(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Mu(t,e){const r={get(n){const i=this.__v_raw,o=xe(i),a=xe(n);t||(Gt(n,a)&&We(o,"get",n),We(o,"get",a));const{has:c}=Rs(o),l=e?Li:t?Ks:Ne;if(c.call(o,n))return l(i.get(n));if(c.call(o,a))return l(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&We(xe(n),"iterate",hr),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=xe(i),a=xe(n);return t||(Gt(n,a)&&We(o,"has",n),We(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,c=xe(a),l=e?Li:t?Ks:Ne;return!t&&We(c,"iterate",hr),a.forEach((u,f)=>n.call(i,l(u),l(f),o))}};return Oe(r,t?{add:Ps("add"),set:Ps("set"),delete:Ps("delete"),clear:Ps("clear")}:{add(n){!e&&!ct(n)&&!Jt(n)&&(n=xe(n));const i=xe(this);return Rs(i).has.call(i,n)||(i.add(n),Ft(i,"add",n,n)),this},set(n,i){!e&&!ct(i)&&!Jt(i)&&(i=xe(i));const o=xe(this),{has:a,get:c}=Rs(o);let l=a.call(o,n);l||(n=xe(n),l=a.call(o,n));const u=c.call(o,n);return o.set(n,i),l?Gt(i,u)&&Ft(o,"set",n,i):Ft(o,"add",n,i),this},delete(n){const i=xe(this),{has:o,get:a}=Rs(i);let c=o.call(i,n);c||(n=xe(n),c=o.call(i,n)),a&&a.call(i,n);const l=i.delete(n);return c&&Ft(i,"delete",n,void 0),l},clear(){const n=xe(this),i=n.size!==0,o=n.clear();return i&&Ft(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{r[n]=Hu(n,t,e)}),r}function wo(t,e){const r=Mu(t,e);return(s,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?s:Reflect.get(me(r,n)&&n in s?r:s,n,i)}const zu={get:wo(!1,!1)},Wu={get:wo(!1,!0)},Ku={get:wo(!0,!1)};const _0=new WeakMap,m0=new WeakMap,y0=new WeakMap,Vu=new WeakMap;function Gu(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qu(t){return t.__v_skip||!Object.isExtensible(t)?0:Gu(gu(t))}function As(t){return Jt(t)?t:bo(t,!1,Uu,zu,_0)}function w0(t){return bo(t,!1,qu,Wu,m0)}function b0(t){return bo(t,!0,Nu,Ku,y0)}function bo(t,e,r,s,n){if(!Ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=Qu(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?s:r);return n.set(t,a),a}function Qt(t){return Jt(t)?Qt(t.__v_raw):!!(t&&t.__v_isReactive)}function Jt(t){return!!(t&&t.__v_isReadonly)}function ct(t){return!!(t&&t.__v_isShallow)}function Eo(t){return t?!!t.__v_raw:!1}function xe(t){const e=t&&t.__v_raw;return e?xe(e):t}function Co(t){return!me(t,"__v_skip")&&Object.isExtensible(t)&&Oi(t,"__v_skip",!0),t}const Ne=t=>Ae(t)?As(t):t,Ks=t=>Ae(t)?b0(t):t;function Fe(t){return t?t.__v_isRef===!0:!1}function ue(t){return E0(t,!1)}function Ju(t){return E0(t,!0)}function E0(t,e){return Fe(t)?t:new Xu(t,e)}class Xu{constructor(e,r){this.dep=new yo,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:xe(e),this._value=r?e:Ne(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,s=this.__v_isShallow||ct(e)||Jt(e);e=s?e:xe(e),Gt(e,r)&&(this._rawValue=e,this._value=s?e:Ne(e),this.dep.trigger())}}function Tr(t){return Fe(t)?t.value:t}const Yu={get:(t,e,r)=>e==="__v_raw"?t:Tr(Reflect.get(t,e,r)),set:(t,e,r,s)=>{const n=t[e];return Fe(n)&&!Fe(r)?(n.value=r,!0):Reflect.set(t,e,r,s)}};function C0(t){return Qt(t)?t:new Proxy(t,Yu)}function Zu(t){const e=re(t)?new Array(t.length):{};for(const r in t)e[r]=tf(t,r);return e}class ef{constructor(e,r,s){this._object=e,this._key=r,this._defaultValue=s,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Pu(xe(this._object),this._key)}}function tf(t,e,r){const s=t[e];return Fe(s)?s:new ef(t,e,r)}class rf{constructor(e,r,s){this.fn=e,this.setter=r,this._value=void 0,this.dep=new yo(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=hs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=s}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return l0(this,!0),!0}get value(){const e=this.dep.track();return h0(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function sf(t,e,r=!1){let s,n;return ie(t)?s=t:(s=t.get,n=t.set),new rf(s,n,r)}const Os={},Vs=new WeakMap;let cr;function nf(t,e=!1,r=cr){if(r){let s=Vs.get(r);s||Vs.set(r,s=[]),s.push(t)}}function of(t,e,r=Ee){const{immediate:s,deep:n,once:i,scheduler:o,augmentJob:a,call:c}=r,l=_=>n?_:ct(_)||n===!1||n===0?Tt(_,1):Tt(_);let u,f,h,d,v=!1,m=!1;if(Fe(t)?(f=()=>t.value,v=ct(t)):Qt(t)?(f=()=>l(t),v=!0):re(t)?(m=!0,v=t.some(_=>Qt(_)||ct(_)),f=()=>t.map(_=>{if(Fe(_))return _.value;if(Qt(_))return l(_);if(ie(_))return c?c(_,2):_()})):ie(t)?e?f=c?()=>c(t,2):t:f=()=>{if(h){Pt();try{h()}finally{Ot()}}const _=cr;cr=u;try{return c?c(t,3,[d]):t(d)}finally{cr=_}}:f=dt,e&&n){const _=f,B=n===!0?1/0:n;f=()=>Tt(_(),B)}const g=o0(),b=()=>{u.stop(),g&&g.active&&ho(g.effects,u)};if(i&&e){const _=e;e=(...B)=>{_(...B),b()}}let p=m?new Array(t.length).fill(Os):Os;const x=_=>{if(!(!(u.flags&1)||!u.dirty&&!_))if(e){const B=u.run();if(n||v||(m?B.some((D,F)=>Gt(D,p[F])):Gt(B,p))){h&&h();const D=cr;cr=u;try{const F=[B,p===Os?void 0:m&&p[0]===Os?[]:p,d];p=B,c?c(e,3,F):e(...F)}finally{cr=D}}}else u.run()};return a&&a(x),u=new a0(f),u.scheduler=o?()=>o(x,!1):x,d=_=>nf(_,!1,u),h=u.onStop=()=>{const _=Vs.get(u);if(_){if(c)c(_,4);else for(const B of _)B();Vs.delete(u)}},e?s?x(!0):p=u.run():o?o(x.bind(null,!0),!0):u.run(),b.pause=u.pause.bind(u),b.resume=u.resume.bind(u),b.stop=b,b}function Tt(t,e=1/0,r){if(e<=0||!Ae(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Fe(t))Tt(t.value,e,r);else if(re(t))for(let s=0;s<t.length;s++)Tt(t[s],e,r);else if(sn(t)||Fr(t))t.forEach(s=>{Tt(s,e,r)});else if(Zc(t)){for(const s in t)Tt(t[s],e,r);for(const s of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,s)&&Tt(t[s],e,r)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ss(t,e,r,s){try{return s?t(...s):t()}catch(n){ln(n,e,r)}}function vt(t,e,r,s){if(ie(t)){const n=Ss(t,e,r,s);return n&&Xc(n)&&n.catch(i=>{ln(i,e,r)}),n}if(re(t)){const n=[];for(let i=0;i<t.length;i++)n.push(vt(t[i],e,r,s));return n}}function ln(t,e,r,s=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ee;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,l)===!1)return}a=a.parent}if(i){Pt(),Ss(i,null,10,[t,c,l]),Ot();return}}af(t,r,n,s,o)}function af(t,e,r,s=!0,n=!1){if(n)throw t;console.error(t)}const Je=[];let yt=-1;const Rr=[];let Ht=null,Ar=0;const A0=Promise.resolve();let Gs=null;function Ao(t){const e=Gs||A0;return t?e.then(this?t.bind(this):t):e}function cf(t){let e=yt+1,r=Je.length;for(;e<r;){const s=e+r>>>1,n=Je[s],i=xs(n);i<t||i===t&&n.flags&2?e=s+1:r=s}return e}function So(t){if(!(t.flags&1)){const e=xs(t),r=Je[Je.length-1];!r||!(t.flags&2)&&e>=xs(r)?Je.push(t):Je.splice(cf(e),0,t),t.flags|=1,S0()}}function S0(){Gs||(Gs=A0.then(k0))}function B0(t){re(t)?Rr.push(...t):Ht&&t.id===-1?Ht.splice(Ar+1,0,t):t.flags&1||(Rr.push(t),t.flags|=1),S0()}function Xo(t,e,r=yt+1){for(;r<Je.length;r++){const s=Je[r];if(s&&s.flags&2){if(t&&s.id!==t.uid)continue;Je.splice(r,1),r--,s.flags&4&&(s.flags&=-2),s(),s.flags&4||(s.flags&=-2)}}}function D0(t){if(Rr.length){const e=[...new Set(Rr)].sort((r,s)=>xs(r)-xs(s));if(Rr.length=0,Ht){Ht.push(...e);return}for(Ht=e,Ar=0;Ar<Ht.length;Ar++){const r=Ht[Ar];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ht=null,Ar=0}}const xs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function k0(t){try{for(yt=0;yt<Je.length;yt++){const e=Je[yt];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Ss(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;yt<Je.length;yt++){const e=Je[yt];e&&(e.flags&=-2)}yt=-1,Je.length=0,D0(),Gs=null,(Je.length||Rr.length)&&k0()}}let qe=null,F0=null;function Qs(t){const e=qe;return qe=t,F0=t&&t.type.__scopeId||null,e}function lf(t,e=qe,r){if(!e||t._n)return t;const s=(...n)=>{s._d&&ca(-1);const i=Qs(e);let o;try{o=t(...n)}finally{Qs(i),s._d&&ca(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function $g(t,e){if(qe===null)return t;const r=gn(qe),s=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,c=Ee]=e[n];i&&(ie(i)&&(i={mounted:i,updated:i}),i.deep&&Tt(o),s.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function rr(t,e,r,s){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(Pt(),vt(c,r,8,[t.el,a,t,e]),Ot())}}const uf=Symbol("_vte"),T0=t=>t.__isTeleport,Mt=Symbol("_leaveCb"),Is=Symbol("_enterCb");function ff(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return hn(()=>{t.isMounted=!0}),N0(()=>{t.isUnmounting=!0}),t}const it=[Function,Array],R0={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:it,onEnter:it,onAfterEnter:it,onEnterCancelled:it,onBeforeLeave:it,onLeave:it,onAfterLeave:it,onLeaveCancelled:it,onBeforeAppear:it,onAppear:it,onAfterAppear:it,onAppearCancelled:it},P0=t=>{const e=t.subTree;return e.component?P0(e.component):e},hf={name:"BaseTransition",props:R0,setup(t,{slots:e}){const r=vn(),s=ff();return()=>{const n=e.default&&$0(e.default(),!0);if(!n||!n.length)return;const i=O0(n),o=xe(t),{mode:a}=o;if(s.isLeaving)return $n(i);const c=Yo(i);if(!c)return $n(i);let l=Ui(c,o,s,r,f=>l=f);c.type!==Ke&&ps(c,l);let u=r.subTree&&Yo(r.subTree);if(u&&u.type!==Ke&&!ur(c,u)&&P0(r).type!==Ke){let f=Ui(u,o,s,r);if(ps(u,f),a==="out-in"&&c.type!==Ke)return s.isLeaving=!0,f.afterLeave=()=>{s.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,u=void 0},$n(i);a==="in-out"&&c.type!==Ke?f.delayLeave=(h,d,v)=>{const m=I0(s,u);m[String(u.key)]=u,h[Mt]=()=>{d(),h[Mt]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{v(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function O0(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Ke){e=r;break}}return e}const df=hf;function I0(t,e){const{leavingVNodes:r}=t;let s=r.get(e.type);return s||(s=Object.create(null),r.set(e.type,s)),s}function Ui(t,e,r,s,n){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:d,onAfterLeave:v,onLeaveCancelled:m,onBeforeAppear:g,onAppear:b,onAfterAppear:p,onAppearCancelled:x}=e,_=String(t.key),B=I0(r,t),D=(k,w)=>{k&&vt(k,s,9,w)},F=(k,w)=>{const A=w[1];D(k,w),re(k)?k.every(y=>y.length<=1)&&A():k.length<=1&&A()},E={mode:o,persisted:a,beforeEnter(k){let w=c;if(!r.isMounted)if(i)w=g||c;else return;k[Mt]&&k[Mt](!0);const A=B[_];A&&ur(t,A)&&A.el[Mt]&&A.el[Mt](),D(w,[k])},enter(k){let w=l,A=u,y=f;if(!r.isMounted)if(i)w=b||l,A=p||u,y=x||f;else return;let T=!1;const P=k[Is]=W=>{T||(T=!0,W?D(y,[k]):D(A,[k]),E.delayedLeave&&E.delayedLeave(),k[Is]=void 0)};w?F(w,[k,P]):P()},leave(k,w){const A=String(t.key);if(k[Is]&&k[Is](!0),r.isUnmounting)return w();D(h,[k]);let y=!1;const T=k[Mt]=P=>{y||(y=!0,w(),P?D(m,[k]):D(v,[k]),k[Mt]=void 0,B[A]===t&&delete B[A])};B[A]=t,d?F(d,[k,T]):T()},clone(k){const w=Ui(k,e,r,s,n);return n&&n(w),w}};return E}function $n(t){if(un(t))return t=Xt(t),t.children=null,t}function Yo(t){if(!un(t))return T0(t.type)&&t.children?O0(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&ie(r.default))return r.default()}}function ps(t,e){t.shapeFlag&6&&t.component?(t.transition=e,ps(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function $0(t,e=!1,r){let s=[],n=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Ze?(o.patchFlag&128&&n++,s=s.concat($0(o.children,e,a))):(e||o.type!==Ke)&&s.push(a!=null?Xt(o,{key:a}):o)}if(n>1)for(let i=0;i<s.length;i++)s[i].patchFlag=-2;return s}/*! #__NO_SIDE_EFFECTS__ */function Bo(t,e){return ie(t)?Oe({name:t.name},e,{setup:t}):t}function j0(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function ts(t,e,r,s,n=!1){if(re(t)){t.forEach((v,m)=>ts(v,e&&(re(e)?e[m]:e),r,s,n));return}if(Pr(s)&&!n){s.shapeFlag&512&&s.type.__asyncResolved&&s.component.subTree.component&&ts(t,e,r,s.component.subTree);return}const i=s.shapeFlag&4?gn(s.component):s.el,o=n?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===Ee?a.refs={}:a.refs,f=a.setupState,h=xe(f),d=f===Ee?()=>!1:v=>me(h,v);if(l!=null&&l!==c&&(Te(l)?(u[l]=null,d(l)&&(f[l]=null)):Fe(l)&&(l.value=null)),ie(c))Ss(c,a,12,[o,u]);else{const v=Te(c),m=Fe(c);if(v||m){const g=()=>{if(t.f){const b=v?d(c)?f[c]:u[c]:c.value;n?re(b)&&ho(b,i):re(b)?b.includes(i)||b.push(i):v?(u[c]=[i],d(c)&&(f[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else v?(u[c]=o,d(c)&&(f[c]=o)):m&&(c.value=o,t.k&&(u[t.k]=o))};o?(g.id=-1,rt(g,r)):g()}}}an().requestIdleCallback;an().cancelIdleCallback;const Pr=t=>!!t.type.__asyncLoader,un=t=>t.type.__isKeepAlive;function xf(t,e){L0(t,"a",e)}function pf(t,e){L0(t,"da",e)}function L0(t,e,r=Ve){const s=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(fn(e,s,r),r){let n=r.parent;for(;n&&n.parent;)un(n.parent.vnode)&&vf(s,e,r,n),n=n.parent}}function vf(t,e,r,s){const n=fn(e,t,s,!0);dn(()=>{ho(s[e],n)},r)}function fn(t,e,r=Ve,s=!1){if(r){const n=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Pt();const a=Bs(r),c=vt(e,r,t,o);return a(),Ot(),c});return s?n.unshift(i):n.push(i),i}}const It=t=>(e,r=Ve)=>{(!_s||t==="sp")&&fn(t,(...s)=>e(...s),r)},gf=It("bm"),hn=It("m"),U0=It("bu"),_f=It("u"),N0=It("bum"),dn=It("um"),mf=It("sp"),yf=It("rtg"),wf=It("rtc");function bf(t,e=Ve){fn("ec",t,e)}const Ef="components";function Cf(t,e){return Sf(Ef,t,!0,e)||t}const Af=Symbol.for("v-ndc");function Sf(t,e,r=!0,s=!1){const n=qe||Ve;if(n){const i=n.type;{const a=ph(i,!1);if(a&&(a===e||a===ut(e)||a===on(ut(e))))return i}const o=Zo(n[t]||i[t],e)||Zo(n.appContext[t],e);return!o&&s?i:o}}function Zo(t,e){return t&&(t[e]||t[ut(e)]||t[on(ut(e))])}function jg(t,e,r,s){let n;const i=r,o=re(t);if(o||Te(t)){const a=o&&Qt(t);let c=!1,l=!1;a&&(c=!ct(t),l=Jt(t),t=cn(t)),n=new Array(t.length);for(let u=0,f=t.length;u<f;u++)n[u]=e(c?l?Ks(Ne(t[u])):Ne(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(Ae(t))if(t[Symbol.iterator])n=Array.from(t,(a,c)=>e(a,c,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];n[c]=e(t[u],u,c,i)}}else n=[];return n}function Lg(t,e,r={},s,n){if(qe.ce||qe.parent&&Pr(qe.parent)&&qe.parent.ce)return e!=="default"&&(r.name=e),Xs(),zi(Ze,null,[Ge("slot",r,s&&s())],64);let i=t[e];i&&i._c&&(i._d=!1),Xs();const o=i&&q0(i(r)),a=r.key||o&&o.key,c=zi(Ze,{key:(a&&!pt(a)?a:`_${e}`)+(!o&&s?"_fb":"")},o||(s?s():[]),o&&t._===1?64:-2);return i&&i._c&&(i._d=!0),c}function q0(t){return t.some(e=>gs(e)?!(e.type===Ke||e.type===Ze&&!q0(e.children)):!0)?t:null}const Ni=t=>t?cl(t)?gn(t):Ni(t.parent):null,rs=Oe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ni(t.parent),$root:t=>Ni(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>M0(t),$forceUpdate:t=>t.f||(t.f=()=>{So(t.update)}),$nextTick:t=>t.n||(t.n=Ao.bind(t.proxy)),$watch:t=>Gf.bind(t)}),jn=(t,e)=>t!==Ee&&!t.__isScriptSetup&&me(t,e),Bf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:s,data:n,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return s[e];case 2:return n[e];case 4:return r[e];case 3:return i[e]}else{if(jn(s,e))return o[e]=1,s[e];if(n!==Ee&&me(n,e))return o[e]=2,n[e];if((l=t.propsOptions[0])&&me(l,e))return o[e]=3,i[e];if(r!==Ee&&me(r,e))return o[e]=4,r[e];qi&&(o[e]=0)}}const u=rs[e];let f,h;if(u)return e==="$attrs"&&We(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==Ee&&me(r,e))return o[e]=4,r[e];if(h=c.config.globalProperties,me(h,e))return h[e]},set({_:t},e,r){const{data:s,setupState:n,ctx:i}=t;return jn(n,e)?(n[e]=r,!0):s!==Ee&&me(s,e)?(s[e]=r,!0):me(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:s,appContext:n,propsOptions:i}},o){let a;return!!r[o]||t!==Ee&&me(t,o)||jn(e,o)||(a=i[0])&&me(a,o)||me(s,o)||me(rs,o)||me(n.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:me(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function ea(t){return re(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let qi=!0;function Df(t){const e=M0(t),r=t.proxy,s=t.ctx;qi=!1,e.beforeCreate&&ta(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:v,activated:m,deactivated:g,beforeDestroy:b,beforeUnmount:p,destroyed:x,unmounted:_,render:B,renderTracked:D,renderTriggered:F,errorCaptured:E,serverPrefetch:k,expose:w,inheritAttrs:A,components:y,directives:T,filters:P}=e;if(l&&kf(l,s,null),o)for(const V in o){const Y=o[V];ie(Y)&&(s[V]=Y.bind(r))}if(n){const V=n.call(r,r);Ae(V)&&(t.data=As(V))}if(qi=!0,i)for(const V in i){const Y=i[V],le=ie(Y)?Y.bind(r,r):ie(Y.get)?Y.get.bind(r,r):dt,ae=!ie(Y)&&ie(Y.set)?Y.set.bind(r):dt,I=Ce({get:le,set:ae});Object.defineProperty(s,V,{enumerable:!0,configurable:!0,get:()=>I.value,set:U=>I.value=U})}if(a)for(const V in a)H0(a[V],s,r,V);if(c){const V=ie(c)?c.call(r):c;Reflect.ownKeys(V).forEach(Y=>{Hs(Y,V[Y])})}u&&ta(u,t,"c");function M(V,Y){re(Y)?Y.forEach(le=>V(le.bind(r))):Y&&V(Y.bind(r))}if(M(gf,f),M(hn,h),M(U0,d),M(_f,v),M(xf,m),M(pf,g),M(bf,E),M(wf,D),M(yf,F),M(N0,p),M(dn,_),M(mf,k),re(w))if(w.length){const V=t.exposed||(t.exposed={});w.forEach(Y=>{Object.defineProperty(V,Y,{get:()=>r[Y],set:le=>r[Y]=le,enumerable:!0})})}else t.exposed||(t.exposed={});B&&t.render===dt&&(t.render=B),A!=null&&(t.inheritAttrs=A),y&&(t.components=y),T&&(t.directives=T),k&&j0(t)}function kf(t,e,r=dt){re(t)&&(t=Hi(t));for(const s in t){const n=t[s];let i;Ae(n)?"default"in n?i=lt(n.from||s,n.default,!0):i=lt(n.from||s):i=lt(n),Fe(i)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[s]=i}}function ta(t,e,r){vt(re(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,r)}function H0(t,e,r,s){let n=s.includes(".")?rl(r,s):()=>r[s];if(Te(t)){const i=e[t];ie(i)&&Or(n,i)}else if(ie(t))Or(n,t.bind(r));else if(Ae(t))if(re(t))t.forEach(i=>H0(i,e,r,s));else{const i=ie(t.handler)?t.handler.bind(r):e[t.handler];ie(i)&&Or(n,i,t)}}function M0(t){const e=t.type,{mixins:r,extends:s}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!n.length&&!r&&!s?c=e:(c={},n.length&&n.forEach(l=>Js(c,l,o,!0)),Js(c,e,o)),Ae(e)&&i.set(e,c),c}function Js(t,e,r,s=!1){const{mixins:n,extends:i}=e;i&&Js(t,i,r,!0),n&&n.forEach(o=>Js(t,o,r,!0));for(const o in e)if(!(s&&o==="expose")){const a=Ff[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Ff={data:ra,props:sa,emits:sa,methods:Jr,computed:Jr,beforeCreate:Qe,created:Qe,beforeMount:Qe,mounted:Qe,beforeUpdate:Qe,updated:Qe,beforeDestroy:Qe,beforeUnmount:Qe,destroyed:Qe,unmounted:Qe,activated:Qe,deactivated:Qe,errorCaptured:Qe,serverPrefetch:Qe,components:Jr,directives:Jr,watch:Rf,provide:ra,inject:Tf};function ra(t,e){return e?t?function(){return Oe(ie(t)?t.call(this,this):t,ie(e)?e.call(this,this):e)}:e:t}function Tf(t,e){return Jr(Hi(t),Hi(e))}function Hi(t){if(re(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Qe(t,e){return t?[...new Set([].concat(t,e))]:e}function Jr(t,e){return t?Oe(Object.create(null),t,e):e}function sa(t,e){return t?re(t)&&re(e)?[...new Set([...t,...e])]:Oe(Object.create(null),ea(t),ea(e??{})):e}function Rf(t,e){if(!t)return e;if(!e)return t;const r=Oe(Object.create(null),t);for(const s in e)r[s]=Qe(t[s],e[s]);return r}function z0(){return{app:null,config:{isNativeTag:pu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Pf=0;function Of(t,e){return function(s,n=null){ie(s)||(s=Oe({},s)),n!=null&&!Ae(n)&&(n=null);const i=z0(),o=new WeakSet,a=[];let c=!1;const l=i.app={_uid:Pf++,_component:s,_props:n,_container:null,_context:i,_instance:null,version:gh,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&ie(u.install)?(o.add(u),u.install(l,...f)):ie(u)&&(o.add(u),u(l,...f))),l},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),l},component(u,f){return f?(i.components[u]=f,l):i.components[u]},directive(u,f){return f?(i.directives[u]=f,l):i.directives[u]},mount(u,f,h){if(!c){const d=l._ceVNode||Ge(s,n);return d.appContext=i,h===!0?h="svg":h===!1&&(h=void 0),t(d,u,h),c=!0,l._container=u,u.__vue_app__=l,gn(d.component)}},onUnmount(u){a.push(u)},unmount(){c&&(vt(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return i.provides[u]=f,l},runWithContext(u){const f=dr;dr=l;try{return u()}finally{dr=f}}};return l}}let dr=null;function Hs(t,e){if(Ve){let r=Ve.provides;const s=Ve.parent&&Ve.parent.provides;s===r&&(r=Ve.provides=Object.create(s)),r[t]=e}}function lt(t,e,r=!1){const s=vn();if(s||dr){let n=dr?dr._context.provides:s?s.parent==null||s.ce?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return r&&ie(e)?e.call(s&&s.proxy):e}}function If(){return!!(vn()||dr)}const W0={},K0=()=>Object.create(W0),V0=t=>Object.getPrototypeOf(t)===W0;function $f(t,e,r,s=!1){const n={},i=K0();t.propsDefaults=Object.create(null),G0(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);r?t.props=s?n:w0(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function jf(t,e,r,s){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=xe(n),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(xn(t.emitsOptions,h))continue;const d=e[h];if(c)if(me(i,h))d!==i[h]&&(i[h]=d,l=!0);else{const v=ut(h);n[v]=Mi(c,a,v,d,t,!1)}else d!==i[h]&&(i[h]=d,l=!0)}}}else{G0(t,e,n,i)&&(l=!0);let u;for(const f in a)(!e||!me(e,f)&&((u=Yt(f))===f||!me(e,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(n[f]=Mi(c,a,f,void 0,t,!0)):delete n[f]);if(i!==a)for(const f in i)(!e||!me(e,f))&&(delete i[f],l=!0)}l&&Ft(t.attrs,"set","")}function G0(t,e,r,s){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Yr(c))continue;const l=e[c];let u;n&&me(n,u=ut(c))?!i||!i.includes(u)?r[u]=l:(a||(a={}))[u]=l:xn(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=xe(r),l=a||Ee;for(let u=0;u<i.length;u++){const f=i[u];r[f]=Mi(n,c,f,l[f],t,!me(l,f))}}return o}function Mi(t,e,r,s,n,i){const o=t[r];if(o!=null){const a=me(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ie(c)){const{propsDefaults:l}=n;if(r in l)s=l[r];else{const u=Bs(n);s=l[r]=c.call(null,e),u()}}else s=c;n.ce&&n.ce._setProp(r,s)}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===Yt(r))&&(s=!0))}return s}const Lf=new WeakMap;function Q0(t,e,r=!1){const s=r?Lf:e.propsCache,n=s.get(t);if(n)return n;const i=t.props,o={},a=[];let c=!1;if(!ie(t)){const u=f=>{c=!0;const[h,d]=Q0(f,e,!0);Oe(o,h),d&&a.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Ae(t)&&s.set(t,kr),kr;if(re(i))for(let u=0;u<i.length;u++){const f=ut(i[u]);na(f)&&(o[f]=Ee)}else if(i)for(const u in i){const f=ut(u);if(na(f)){const h=i[u],d=o[f]=re(h)||ie(h)?{type:h}:Oe({},h),v=d.type;let m=!1,g=!0;if(re(v))for(let b=0;b<v.length;++b){const p=v[b],x=ie(p)&&p.name;if(x==="Boolean"){m=!0;break}else x==="String"&&(g=!1)}else m=ie(v)&&v.name==="Boolean";d[0]=m,d[1]=g,(m||me(d,"default"))&&a.push(f)}}const l=[o,a];return Ae(t)&&s.set(t,l),l}function na(t){return t[0]!=="$"&&!Yr(t)}const Do=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",ko=t=>re(t)?t.map(bt):[bt(t)],Uf=(t,e,r)=>{if(e._n)return e;const s=lf((...n)=>ko(e(...n)),r);return s._c=!1,s},J0=(t,e,r)=>{const s=t._ctx;for(const n in t){if(Do(n))continue;const i=t[n];if(ie(i))e[n]=Uf(n,i,s);else if(i!=null){const o=ko(i);e[n]=()=>o}}},X0=(t,e)=>{const r=ko(e);t.slots.default=()=>r},Y0=(t,e,r)=>{for(const s in e)(r||!Do(s))&&(t[s]=e[s])},Nf=(t,e,r)=>{const s=t.slots=K0();if(t.vnode.shapeFlag&32){const n=e.__;n&&Oi(s,"__",n,!0);const i=e._;i?(Y0(s,e,r),r&&Oi(s,"_",i,!0)):J0(e,s)}else e&&X0(t,e)},qf=(t,e,r)=>{const{vnode:s,slots:n}=t;let i=!0,o=Ee;if(s.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:Y0(n,e,r):(i=!e.$stable,J0(e,n)),o=e}else e&&(X0(t,e),o={default:1});if(i)for(const a in n)!Do(a)&&o[a]==null&&delete n[a]},rt=th;function Hf(t){return Mf(t)}function Mf(t,e){const r=an();r.__VUE__=!0;const{insert:s,remove:n,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:h,setScopeId:d=dt,insertStaticContent:v}=t,m=(C,S,R,$=null,L=null,j=null,J=void 0,G=null,K=!!S.dynamicChildren)=>{if(C===S)return;C&&!ur(C,S)&&($=O(C),U(C,L,j,!0),C=null),S.patchFlag===-2&&(K=!1,S.dynamicChildren=null);const{type:H,ref:Z,shapeFlag:Q}=S;switch(H){case pn:g(C,S,R,$);break;case Ke:b(C,S,R,$);break;case ss:C==null&&p(S,R,$,J);break;case Ze:y(C,S,R,$,L,j,J,G,K);break;default:Q&1?B(C,S,R,$,L,j,J,G,K):Q&6?T(C,S,R,$,L,j,J,G,K):(Q&64||Q&128)&&H.process(C,S,R,$,L,j,J,G,K,ee)}Z!=null&&L?ts(Z,C&&C.ref,j,S||C,!S):Z==null&&C&&C.ref!=null&&ts(C.ref,null,j,C,!0)},g=(C,S,R,$)=>{if(C==null)s(S.el=a(S.children),R,$);else{const L=S.el=C.el;S.children!==C.children&&l(L,S.children)}},b=(C,S,R,$)=>{C==null?s(S.el=c(S.children||""),R,$):S.el=C.el},p=(C,S,R,$)=>{[C.el,C.anchor]=v(C.children,S,R,$,C.el,C.anchor)},x=({el:C,anchor:S},R,$)=>{let L;for(;C&&C!==S;)L=h(C),s(C,R,$),C=L;s(S,R,$)},_=({el:C,anchor:S})=>{let R;for(;C&&C!==S;)R=h(C),n(C),C=R;n(S)},B=(C,S,R,$,L,j,J,G,K)=>{S.type==="svg"?J="svg":S.type==="math"&&(J="mathml"),C==null?D(S,R,$,L,j,J,G,K):k(C,S,L,j,J,G,K)},D=(C,S,R,$,L,j,J,G)=>{let K,H;const{props:Z,shapeFlag:Q,transition:te,dirs:ne}=C;if(K=C.el=o(C.type,j,Z&&Z.is,Z),Q&8?u(K,C.children):Q&16&&E(C.children,K,null,$,L,Ln(C,j),J,G),ne&&rr(C,null,$,"created"),F(K,C,C.scopeId,J,$),Z){for(const pe in Z)pe!=="value"&&!Yr(pe)&&i(K,pe,null,Z[pe],j,$);"value"in Z&&i(K,"value",null,Z.value,j),(H=Z.onVnodeBeforeMount)&&mt(H,$,C)}ne&&rr(C,null,$,"beforeMount");const ce=zf(L,te);ce&&te.beforeEnter(K),s(K,S,R),((H=Z&&Z.onVnodeMounted)||ce||ne)&&rt(()=>{H&&mt(H,$,C),ce&&te.enter(K),ne&&rr(C,null,$,"mounted")},L)},F=(C,S,R,$,L)=>{if(R&&d(C,R),$)for(let j=0;j<$.length;j++)d(C,$[j]);if(L){let j=L.subTree;if(S===j||nl(j.type)&&(j.ssContent===S||j.ssFallback===S)){const J=L.vnode;F(C,J,J.scopeId,J.slotScopeIds,L.parent)}}},E=(C,S,R,$,L,j,J,G,K=0)=>{for(let H=K;H<C.length;H++){const Z=C[H]=G?zt(C[H]):bt(C[H]);m(null,Z,S,R,$,L,j,J,G)}},k=(C,S,R,$,L,j,J)=>{const G=S.el=C.el;let{patchFlag:K,dynamicChildren:H,dirs:Z}=S;K|=C.patchFlag&16;const Q=C.props||Ee,te=S.props||Ee;let ne;if(R&&sr(R,!1),(ne=te.onVnodeBeforeUpdate)&&mt(ne,R,S,C),Z&&rr(S,C,R,"beforeUpdate"),R&&sr(R,!0),(Q.innerHTML&&te.innerHTML==null||Q.textContent&&te.textContent==null)&&u(G,""),H?w(C.dynamicChildren,H,G,R,$,Ln(S,L),j):J||Y(C,S,G,null,R,$,Ln(S,L),j,!1),K>0){if(K&16)A(G,Q,te,R,L);else if(K&2&&Q.class!==te.class&&i(G,"class",null,te.class,L),K&4&&i(G,"style",Q.style,te.style,L),K&8){const ce=S.dynamicProps;for(let pe=0;pe<ce.length;pe++){const ge=ce[pe],$e=Q[ge],je=te[ge];(je!==$e||ge==="value")&&i(G,ge,$e,je,L,R)}}K&1&&C.children!==S.children&&u(G,S.children)}else!J&&H==null&&A(G,Q,te,R,L);((ne=te.onVnodeUpdated)||Z)&&rt(()=>{ne&&mt(ne,R,S,C),Z&&rr(S,C,R,"updated")},$)},w=(C,S,R,$,L,j,J)=>{for(let G=0;G<S.length;G++){const K=C[G],H=S[G],Z=K.el&&(K.type===Ze||!ur(K,H)||K.shapeFlag&198)?f(K.el):R;m(K,H,Z,null,$,L,j,J,!0)}},A=(C,S,R,$,L)=>{if(S!==R){if(S!==Ee)for(const j in S)!Yr(j)&&!(j in R)&&i(C,j,S[j],null,L,$);for(const j in R){if(Yr(j))continue;const J=R[j],G=S[j];J!==G&&j!=="value"&&i(C,j,G,J,L,$)}"value"in R&&i(C,"value",S.value,R.value,L)}},y=(C,S,R,$,L,j,J,G,K)=>{const H=S.el=C?C.el:a(""),Z=S.anchor=C?C.anchor:a("");let{patchFlag:Q,dynamicChildren:te,slotScopeIds:ne}=S;ne&&(G=G?G.concat(ne):ne),C==null?(s(H,R,$),s(Z,R,$),E(S.children||[],R,Z,L,j,J,G,K)):Q>0&&Q&64&&te&&C.dynamicChildren?(w(C.dynamicChildren,te,R,L,j,J,G),(S.key!=null||L&&S===L.subTree)&&Z0(C,S,!0)):Y(C,S,R,Z,L,j,J,G,K)},T=(C,S,R,$,L,j,J,G,K)=>{S.slotScopeIds=G,C==null?S.shapeFlag&512?L.ctx.activate(S,R,$,J,K):P(S,R,$,L,j,J,K):W(C,S,K)},P=(C,S,R,$,L,j,J)=>{const G=C.component=uh(C,$,L);if(un(C)&&(G.ctx.renderer=ee),fh(G,!1,J),G.asyncDep){if(L&&L.registerDep(G,M,J),!C.el){const K=G.subTree=Ge(Ke);b(null,K,S,R),C.placeholder=K.el}}else M(G,C,S,R,L,j,J)},W=(C,S,R)=>{const $=S.component=C.component;if(Zf(C,S,R))if($.asyncDep&&!$.asyncResolved){V($,S,R);return}else $.next=S,$.update();else S.el=C.el,$.vnode=S},M=(C,S,R,$,L,j,J)=>{const G=()=>{if(C.isMounted){let{next:Q,bu:te,u:ne,parent:ce,vnode:pe}=C;{const He=el(C);if(He){Q&&(Q.el=pe.el,V(C,Q,J)),He.asyncDep.then(()=>{C.isUnmounted||G()});return}}let ge=Q,$e;sr(C,!1),Q?(Q.el=pe.el,V(C,Q,J)):Q=pe,te&&qs(te),($e=Q.props&&Q.props.onVnodeBeforeUpdate)&&mt($e,ce,Q,pe),sr(C,!0);const je=oa(C),Le=C.subTree;C.subTree=je,m(Le,je,f(Le.el),O(Le),C,L,j),Q.el=je.el,ge===null&&eh(C,je.el),ne&&rt(ne,L),($e=Q.props&&Q.props.onVnodeUpdated)&&rt(()=>mt($e,ce,Q,pe),L)}else{let Q;const{el:te,props:ne}=S,{bm:ce,m:pe,parent:ge,root:$e,type:je}=C,Le=Pr(S);sr(C,!1),ce&&qs(ce),!Le&&(Q=ne&&ne.onVnodeBeforeMount)&&mt(Q,ge,S),sr(C,!0);{$e.ce&&$e.ce._def.shadowRoot!==!1&&$e.ce._injectChildStyle(je);const He=C.subTree=oa(C);m(null,He,R,$,C,L,j),S.el=He.el}if(pe&&rt(pe,L),!Le&&(Q=ne&&ne.onVnodeMounted)){const He=S;rt(()=>mt(Q,ge,He),L)}(S.shapeFlag&256||ge&&Pr(ge.vnode)&&ge.vnode.shapeFlag&256)&&C.a&&rt(C.a,L),C.isMounted=!0,S=R=$=null}};C.scope.on();const K=C.effect=new a0(G);C.scope.off();const H=C.update=K.run.bind(K),Z=C.job=K.runIfDirty.bind(K);Z.i=C,Z.id=C.uid,K.scheduler=()=>So(Z),sr(C,!0),H()},V=(C,S,R)=>{S.component=C;const $=C.vnode.props;C.vnode=S,C.next=null,jf(C,S.props,$,R),qf(C,S.children,R),Pt(),Xo(C),Ot()},Y=(C,S,R,$,L,j,J,G,K=!1)=>{const H=C&&C.children,Z=C?C.shapeFlag:0,Q=S.children,{patchFlag:te,shapeFlag:ne}=S;if(te>0){if(te&128){ae(H,Q,R,$,L,j,J,G,K);return}else if(te&256){le(H,Q,R,$,L,j,J,G,K);return}}ne&8?(Z&16&&fe(H,L,j),Q!==H&&u(R,Q)):Z&16?ne&16?ae(H,Q,R,$,L,j,J,G,K):fe(H,L,j,!0):(Z&8&&u(R,""),ne&16&&E(Q,R,$,L,j,J,G,K))},le=(C,S,R,$,L,j,J,G,K)=>{C=C||kr,S=S||kr;const H=C.length,Z=S.length,Q=Math.min(H,Z);let te;for(te=0;te<Q;te++){const ne=S[te]=K?zt(S[te]):bt(S[te]);m(C[te],ne,R,null,L,j,J,G,K)}H>Z?fe(C,L,j,!0,!1,Q):E(S,R,$,L,j,J,G,K,Q)},ae=(C,S,R,$,L,j,J,G,K)=>{let H=0;const Z=S.length;let Q=C.length-1,te=Z-1;for(;H<=Q&&H<=te;){const ne=C[H],ce=S[H]=K?zt(S[H]):bt(S[H]);if(ur(ne,ce))m(ne,ce,R,null,L,j,J,G,K);else break;H++}for(;H<=Q&&H<=te;){const ne=C[Q],ce=S[te]=K?zt(S[te]):bt(S[te]);if(ur(ne,ce))m(ne,ce,R,null,L,j,J,G,K);else break;Q--,te--}if(H>Q){if(H<=te){const ne=te+1,ce=ne<Z?S[ne].el:$;for(;H<=te;)m(null,S[H]=K?zt(S[H]):bt(S[H]),R,ce,L,j,J,G,K),H++}}else if(H>te)for(;H<=Q;)U(C[H],L,j,!0),H++;else{const ne=H,ce=H,pe=new Map;for(H=ce;H<=te;H++){const Me=S[H]=K?zt(S[H]):bt(S[H]);Me.key!=null&&pe.set(Me.key,H)}let ge,$e=0;const je=te-ce+1;let Le=!1,He=0;const tr=new Array(je);for(H=0;H<je;H++)tr[H]=0;for(H=ne;H<=Q;H++){const Me=C[H];if($e>=je){U(Me,L,j,!0);continue}let nt;if(Me.key!=null)nt=pe.get(Me.key);else for(ge=ce;ge<=te;ge++)if(tr[ge-ce]===0&&ur(Me,S[ge])){nt=ge;break}nt===void 0?U(Me,L,j,!0):(tr[nt-ce]=H+1,nt>=He?He=nt:Le=!0,m(Me,S[nt],R,null,L,j,J,G,K),$e++)}const Hr=Le?Wf(tr):kr;for(ge=Hr.length-1,H=je-1;H>=0;H--){const Me=ce+H,nt=S[Me],Ts=S[Me+1],Mr=Me+1<Z?Ts.el||Ts.placeholder:$;tr[H]===0?m(null,nt,R,Mr,L,j,J,G,K):Le&&(ge<0||H!==Hr[ge]?I(nt,R,Mr,2):ge--)}}},I=(C,S,R,$,L=null)=>{const{el:j,type:J,transition:G,children:K,shapeFlag:H}=C;if(H&6){I(C.component.subTree,S,R,$);return}if(H&128){C.suspense.move(S,R,$);return}if(H&64){J.move(C,S,R,ee);return}if(J===Ze){s(j,S,R);for(let Q=0;Q<K.length;Q++)I(K[Q],S,R,$);s(C.anchor,S,R);return}if(J===ss){x(C,S,R);return}if($!==2&&H&1&&G)if($===0)G.beforeEnter(j),s(j,S,R),rt(()=>G.enter(j),L);else{const{leave:Q,delayLeave:te,afterLeave:ne}=G,ce=()=>{C.ctx.isUnmounted?n(j):s(j,S,R)},pe=()=>{Q(j,()=>{ce(),ne&&ne()})};te?te(j,ce,pe):pe()}else s(j,S,R)},U=(C,S,R,$=!1,L=!1)=>{const{type:j,props:J,ref:G,children:K,dynamicChildren:H,shapeFlag:Z,patchFlag:Q,dirs:te,cacheIndex:ne}=C;if(Q===-2&&(L=!1),G!=null&&(Pt(),ts(G,null,R,C,!0),Ot()),ne!=null&&(S.renderCache[ne]=void 0),Z&256){S.ctx.deactivate(C);return}const ce=Z&1&&te,pe=!Pr(C);let ge;if(pe&&(ge=J&&J.onVnodeBeforeUnmount)&&mt(ge,S,C),Z&6)ye(C.component,R,$);else{if(Z&128){C.suspense.unmount(R,$);return}ce&&rr(C,null,S,"beforeUnmount"),Z&64?C.type.remove(C,S,R,ee,$):H&&!H.hasOnce&&(j!==Ze||Q>0&&Q&64)?fe(H,S,R,!1,!0):(j===Ze&&Q&384||!L&&Z&16)&&fe(K,S,R),$&&z(C)}(pe&&(ge=J&&J.onVnodeUnmounted)||ce)&&rt(()=>{ge&&mt(ge,S,C),ce&&rr(C,null,S,"unmounted")},R)},z=C=>{const{type:S,el:R,anchor:$,transition:L}=C;if(S===Ze){N(R,$);return}if(S===ss){_(C);return}const j=()=>{n(R),L&&!L.persisted&&L.afterLeave&&L.afterLeave()};if(C.shapeFlag&1&&L&&!L.persisted){const{leave:J,delayLeave:G}=L,K=()=>J(R,j);G?G(C.el,j,K):K()}else j()},N=(C,S)=>{let R;for(;C!==S;)R=h(C),n(C),C=R;n(S)},ye=(C,S,R)=>{const{bum:$,scope:L,job:j,subTree:J,um:G,m:K,a:H,parent:Z,slots:{__:Q}}=C;ia(K),ia(H),$&&qs($),Z&&re(Q)&&Q.forEach(te=>{Z.renderCache[te]=void 0}),L.stop(),j&&(j.flags|=8,U(J,C,S,R)),G&&rt(G,S),rt(()=>{C.isUnmounted=!0},S),S&&S.pendingBranch&&!S.isUnmounted&&C.asyncDep&&!C.asyncResolved&&C.suspenseId===S.pendingId&&(S.deps--,S.deps===0&&S.resolve())},fe=(C,S,R,$=!1,L=!1,j=0)=>{for(let J=j;J<C.length;J++)U(C[J],S,R,$,L)},O=C=>{if(C.shapeFlag&6)return O(C.component.subTree);if(C.shapeFlag&128)return C.suspense.next();const S=h(C.anchor||C.el),R=S&&S[uf];return R?h(R):S};let q=!1;const X=(C,S,R)=>{C==null?S._vnode&&U(S._vnode,null,null,!0):m(S._vnode||null,C,S,null,null,null,R),S._vnode=C,q||(q=!0,Xo(),D0(),q=!1)},ee={p:m,um:U,m:I,r:z,mt:P,mc:E,pc:Y,pbc:w,n:O,o:t};return{render:X,hydrate:void 0,createApp:Of(X)}}function Ln({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function sr({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function zf(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Z0(t,e,r=!1){const s=t.children,n=e.children;if(re(s)&&re(n))for(let i=0;i<s.length;i++){const o=s[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=zt(n[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Z0(o,a)),a.type===pn&&(a.el=o.el),a.type===Ke&&!a.el&&(a.el=o.el)}}function Wf(t){const e=t.slice(),r=[0];let s,n,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(n=r[r.length-1],t[n]<l){e[s]=n,r.push(s);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<l?i=a+1:o=a;l<t[r[i]]&&(i>0&&(e[s]=r[i-1]),r[i]=s)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function el(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:el(e)}function ia(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Kf=Symbol.for("v-scx"),Vf=()=>lt(Kf);function Or(t,e,r){return tl(t,e,r)}function tl(t,e,r=Ee){const{immediate:s,deep:n,flush:i,once:o}=r,a=Oe({},r),c=e&&s||!e&&i!=="post";let l;if(_s){if(i==="sync"){const d=Vf();l=d.__watcherHandles||(d.__watcherHandles=[])}else if(!c){const d=()=>{};return d.stop=dt,d.resume=dt,d.pause=dt,d}}const u=Ve;a.call=(d,v,m)=>vt(d,u,v,m);let f=!1;i==="post"?a.scheduler=d=>{rt(d,u&&u.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(d,v)=>{v?d():So(d)}),a.augmentJob=d=>{e&&(d.flags|=4),f&&(d.flags|=2,u&&(d.id=u.uid,d.i=u))};const h=of(t,e,a);return _s&&(l?l.push(h):c&&h()),h}function Gf(t,e,r){const s=this.proxy,n=Te(t)?t.includes(".")?rl(s,t):()=>s[t]:t.bind(s,s);let i;ie(e)?i=e:(i=e.handler,r=e);const o=Bs(this),a=tl(n,i.bind(s),r);return o(),a}function rl(t,e){const r=e.split(".");return()=>{let s=t;for(let n=0;n<r.length&&s;n++)s=s[r[n]];return s}}const Qf=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${ut(e)}Modifiers`]||t[`${Yt(e)}Modifiers`];function Jf(t,e,...r){if(t.isUnmounted)return;const s=t.vnode.props||Ee;let n=r;const i=e.startsWith("update:"),o=i&&Qf(s,e.slice(7));o&&(o.trim&&(n=r.map(u=>Te(u)?u.trim():u)),o.number&&(n=r.map(Ii)));let a,c=s[a=Tn(e)]||s[a=Tn(ut(e))];!c&&i&&(c=s[a=Tn(Yt(e))]),c&&vt(c,t,6,n);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,vt(l,t,6,n)}}function sl(t,e,r=!1){const s=e.emitsCache,n=s.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!ie(t)){const c=l=>{const u=sl(l,e,!0);u&&(a=!0,Oe(o,u))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(Ae(t)&&s.set(t,null),null):(re(i)?i.forEach(c=>o[c]=null):Oe(o,i),Ae(t)&&s.set(t,o),o)}function xn(t,e){return!t||!rn(e)?!1:(e=e.slice(2).replace(/Once$/,""),me(t,e[0].toLowerCase()+e.slice(1))||me(t,Yt(e))||me(t,e))}function oa(t){const{type:e,vnode:r,proxy:s,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:f,data:h,setupState:d,ctx:v,inheritAttrs:m}=t,g=Qs(t);let b,p;try{if(r.shapeFlag&4){const _=n||s,B=_;b=bt(l.call(B,_,u,f,d,h,v)),p=a}else{const _=e;b=bt(_.length>1?_(f,{attrs:a,slots:o,emit:c}):_(f,null)),p=e.props?a:Xf(a)}}catch(_){ns.length=0,ln(_,t,1),b=Ge(Ke)}let x=b;if(p&&m!==!1){const _=Object.keys(p),{shapeFlag:B}=x;_.length&&B&7&&(i&&_.some(fo)&&(p=Yf(p,i)),x=Xt(x,p,!1,!0))}return r.dirs&&(x=Xt(x,null,!1,!0),x.dirs=x.dirs?x.dirs.concat(r.dirs):r.dirs),r.transition&&ps(x,r.transition),b=x,Qs(g),b}const Xf=t=>{let e;for(const r in t)(r==="class"||r==="style"||rn(r))&&((e||(e={}))[r]=t[r]);return e},Yf=(t,e)=>{const r={};for(const s in t)(!fo(s)||!(s.slice(9)in e))&&(r[s]=t[s]);return r};function Zf(t,e,r){const{props:s,children:n,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return s?aa(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==s[h]&&!xn(l,h))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?aa(s,o,l):!0:!!o;return!1}function aa(t,e,r){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let n=0;n<s.length;n++){const i=s[n];if(e[i]!==t[i]&&!xn(r,i))return!0}return!1}function eh({vnode:t,parent:e},r){for(;e;){const s=e.subTree;if(s.suspense&&s.suspense.activeBranch===t&&(s.el=t.el),s===t)(t=e.vnode).el=r,e=e.parent;else break}}const nl=t=>t.__isSuspense;function th(t,e){e&&e.pendingBranch?re(t)?e.effects.push(...t):e.effects.push(t):B0(t)}const Ze=Symbol.for("v-fgt"),pn=Symbol.for("v-txt"),Ke=Symbol.for("v-cmt"),ss=Symbol.for("v-stc"),ns=[];let st=null;function Xs(t=!1){ns.push(st=t?null:[])}function rh(){ns.pop(),st=ns[ns.length-1]||null}let vs=1;function ca(t,e=!1){vs+=t,t<0&&st&&e&&(st.hasOnce=!0)}function il(t){return t.dynamicChildren=vs>0?st||kr:null,rh(),vs>0&&st&&st.push(t),t}function sh(t,e,r,s,n,i){return il(al(t,e,r,s,n,i,!0))}function zi(t,e,r,s,n){return il(Ge(t,e,r,s,n,!0))}function gs(t){return t?t.__v_isVNode===!0:!1}function ur(t,e){return t.type===e.type&&t.key===e.key}const ol=({key:t})=>t??null,Ms=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Te(t)||Fe(t)||ie(t)?{i:qe,r:t,k:e,f:!!r}:t:null);function al(t,e=null,r=null,s=0,n=null,i=t===Ze?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ol(e),ref:e&&Ms(e),scopeId:F0,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:qe};return a?(Fo(c,r),i&128&&t.normalize(c)):r&&(c.shapeFlag|=Te(r)?8:16),vs>0&&!o&&st&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&st.push(c),c}const Ge=nh;function nh(t,e=null,r=null,s=0,n=null,i=!1){if((!t||t===Af)&&(t=Ke),gs(t)){const a=Xt(t,e,!0);return r&&Fo(a,r),vs>0&&!i&&st&&(a.shapeFlag&6?st[st.indexOf(t)]=a:st.push(a)),a.patchFlag=-2,a}if(vh(t)&&(t=t.__vccOpts),e){e=ih(e);let{class:a,style:c}=e;a&&!Te(a)&&(e.class=vo(a)),Ae(c)&&(Eo(c)&&!re(c)&&(c=Oe({},c)),e.style=po(c))}const o=Te(t)?1:nl(t)?128:T0(t)?64:Ae(t)?4:ie(t)?2:0;return al(t,e,r,s,n,o,i,!0)}function ih(t){return t?Eo(t)||V0(t)?Oe({},t):t:null}function Xt(t,e,r=!1,s=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:c}=t,l=e?ah(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&ol(l),ref:e&&e.ref?r&&i?re(i)?i.concat(Ms(e)):[i,Ms(e)]:Ms(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Xt(t.ssContent),ssFallback:t.ssFallback&&Xt(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&s&&ps(u,c.clone(u)),u}function oh(t=" ",e=0){return Ge(pn,null,t,e)}function Ug(t,e){const r=Ge(ss,null,t);return r.staticCount=e,r}function Ng(t="",e=!1){return e?(Xs(),zi(Ke,null,t)):Ge(Ke,null,t)}function bt(t){return t==null||typeof t=="boolean"?Ge(Ke):re(t)?Ge(Ze,null,t.slice()):gs(t)?zt(t):Ge(pn,null,String(t))}function zt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Xt(t)}function Fo(t,e){let r=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(re(e))r=16;else if(typeof e=="object")if(s&65){const n=e.default;n&&(n._c&&(n._d=!1),Fo(t,n()),n._c&&(n._d=!0));return}else{r=32;const n=e._;!n&&!V0(e)?e._ctx=qe:n===3&&qe&&(qe.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ie(e)?(e={default:e,_ctx:qe},r=32):(e=String(e),s&64?(r=16,e=[oh(e)]):r=8);t.children=e,t.shapeFlag|=r}function ah(...t){const e={};for(let r=0;r<t.length;r++){const s=t[r];for(const n in s)if(n==="class")e.class!==s.class&&(e.class=vo([e.class,s.class]));else if(n==="style")e.style=po([e.style,s.style]);else if(rn(n)){const i=e[n],o=s[n];o&&i!==o&&!(re(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=s[n])}return e}function mt(t,e,r,s=null){vt(t,e,7,[r,s])}const ch=z0();let lh=0;function uh(t,e,r){const s=t.type,n=(e?e.appContext:t.appContext)||ch,i={uid:lh++,vnode:t,type:s,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new n0(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Q0(s,n),emitsOptions:sl(s,n),emit:null,emitted:null,propsDefaults:Ee,inheritAttrs:s.inheritAttrs,ctx:Ee,data:Ee,props:Ee,attrs:Ee,slots:Ee,refs:Ee,setupState:Ee,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Jf.bind(null,i),t.ce&&t.ce(i),i}let Ve=null;const vn=()=>Ve||qe;let Ys,Wi;{const t=an(),e=(r,s)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(s),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Ys=e("__VUE_INSTANCE_SETTERS__",r=>Ve=r),Wi=e("__VUE_SSR_SETTERS__",r=>_s=r)}const Bs=t=>{const e=Ve;return Ys(t),t.scope.on(),()=>{t.scope.off(),Ys(e)}},la=()=>{Ve&&Ve.scope.off(),Ys(null)};function cl(t){return t.vnode.shapeFlag&4}let _s=!1;function fh(t,e=!1,r=!1){e&&Wi(e);const{props:s,children:n}=t.vnode,i=cl(t);$f(t,s,i,e),Nf(t,n,r||e);const o=i?hh(t,e):void 0;return e&&Wi(!1),o}function hh(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Bf);const{setup:s}=r;if(s){Pt();const n=t.setupContext=s.length>1?xh(t):null,i=Bs(t),o=Ss(s,t,0,[t.props,n]),a=Xc(o);if(Ot(),i(),(a||t.sp)&&!Pr(t)&&j0(t),a){if(o.then(la,la),e)return o.then(c=>{ua(t,c)}).catch(c=>{ln(c,t,0)});t.asyncDep=o}else ua(t,o)}else ll(t)}function ua(t,e,r){ie(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ae(e)&&(t.setupState=C0(e)),ll(t)}function ll(t,e,r){const s=t.type;t.render||(t.render=s.render||dt);{const n=Bs(t);Pt();try{Df(t)}finally{Ot(),n()}}}const dh={get(t,e){return We(t,"get",""),t[e]}};function xh(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,dh),slots:t.slots,emit:t.emit,expose:e}}function gn(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(C0(Co(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in rs)return rs[r](t)},has(e,r){return r in e||r in rs}})):t.proxy}function ph(t,e=!0){return ie(t)?t.displayName||t.name:t.name||e&&t.__name}function vh(t){return ie(t)&&"__vccOpts"in t}const Ce=(t,e)=>sf(t,e,_s);function To(t,e,r){const s=arguments.length;return s===2?Ae(e)&&!re(e)?gs(e)?Ge(t,null,[e]):Ge(t,e):Ge(t,null,e):(s>3?r=Array.prototype.slice.call(arguments,2):s===3&&gs(r)&&(r=[r]),Ge(t,e,r))}const gh="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ki;const fa=typeof window<"u"&&window.trustedTypes;if(fa)try{Ki=fa.createPolicy("vue",{createHTML:t=>t})}catch{}const ul=Ki?t=>Ki.createHTML(t):t=>t,_h="http://www.w3.org/2000/svg",mh="http://www.w3.org/1998/Math/MathML",Bt=typeof document<"u"?document:null,ha=Bt&&Bt.createElement("template"),yh={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,s)=>{const n=e==="svg"?Bt.createElementNS(_h,t):e==="mathml"?Bt.createElementNS(mh,t):r?Bt.createElement(t,{is:r}):Bt.createElement(t);return t==="select"&&s&&s.multiple!=null&&n.setAttribute("multiple",s.multiple),n},createText:t=>Bt.createTextNode(t),createComment:t=>Bt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Bt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,s,n,i){const o=r?r.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),r),!(n===i||!(n=n.nextSibling)););else{ha.innerHTML=ul(s==="svg"?`<svg>${t}</svg>`:s==="mathml"?`<math>${t}</math>`:t);const a=ha.content;if(s==="svg"||s==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},jt="transition",Wr="animation",ms=Symbol("_vtc"),fl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},wh=Oe({},R0,fl),bh=t=>(t.displayName="Transition",t.props=wh,t),qg=bh((t,{slots:e})=>To(df,Eh(t),e)),nr=(t,e=[])=>{re(t)?t.forEach(r=>r(...e)):t&&t(...e)},da=t=>t?re(t)?t.some(e=>e.length>1):t.length>1:!1;function Eh(t){const e={};for(const y in t)y in fl||(e[y]=t[y]);if(t.css===!1)return e;const{name:r="v",type:s,duration:n,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=t,v=Ch(n),m=v&&v[0],g=v&&v[1],{onBeforeEnter:b,onEnter:p,onEnterCancelled:x,onLeave:_,onLeaveCancelled:B,onBeforeAppear:D=b,onAppear:F=p,onAppearCancelled:E=x}=e,k=(y,T,P,W)=>{y._enterCancelled=W,ir(y,T?u:a),ir(y,T?l:o),P&&P()},w=(y,T)=>{y._isLeaving=!1,ir(y,f),ir(y,d),ir(y,h),T&&T()},A=y=>(T,P)=>{const W=y?F:p,M=()=>k(T,y,P);nr(W,[T,M]),xa(()=>{ir(T,y?c:i),Ct(T,y?u:a),da(W)||pa(T,s,m,M)})};return Oe(e,{onBeforeEnter(y){nr(b,[y]),Ct(y,i),Ct(y,o)},onBeforeAppear(y){nr(D,[y]),Ct(y,c),Ct(y,l)},onEnter:A(!1),onAppear:A(!0),onLeave(y,T){y._isLeaving=!0;const P=()=>w(y,T);Ct(y,f),y._enterCancelled?(Ct(y,h),_a()):(_a(),Ct(y,h)),xa(()=>{y._isLeaving&&(ir(y,f),Ct(y,d),da(_)||pa(y,s,g,P))}),nr(_,[y,P])},onEnterCancelled(y){k(y,!1,void 0,!0),nr(x,[y])},onAppearCancelled(y){k(y,!0,void 0,!0),nr(E,[y])},onLeaveCancelled(y){w(y),nr(B,[y])}})}function Ch(t){if(t==null)return null;if(Ae(t))return[Un(t.enter),Un(t.leave)];{const e=Un(t);return[e,e]}}function Un(t){return yu(t)}function Ct(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[ms]||(t[ms]=new Set)).add(e)}function ir(t,e){e.split(/\s+/).forEach(s=>s&&t.classList.remove(s));const r=t[ms];r&&(r.delete(e),r.size||(t[ms]=void 0))}function xa(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ah=0;function pa(t,e,r,s){const n=t._endId=++Ah,i=()=>{n===t._endId&&s()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:c}=Sh(t,e);if(!o)return s();const l=o+"end";let u=0;const f=()=>{t.removeEventListener(l,h),i()},h=d=>{d.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),t.addEventListener(l,h)}function Sh(t,e){const r=window.getComputedStyle(t),s=v=>(r[v]||"").split(", "),n=s(`${jt}Delay`),i=s(`${jt}Duration`),o=va(n,i),a=s(`${Wr}Delay`),c=s(`${Wr}Duration`),l=va(a,c);let u=null,f=0,h=0;e===jt?o>0&&(u=jt,f=o,h=i.length):e===Wr?l>0&&(u=Wr,f=l,h=c.length):(f=Math.max(o,l),u=f>0?o>l?jt:Wr:null,h=u?u===jt?i.length:c.length:0);const d=u===jt&&/\b(transform|all)(,|$)/.test(s(`${jt}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:d}}function va(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,s)=>ga(r)+ga(t[s])))}function ga(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function _a(){return document.body.offsetHeight}function Bh(t,e,r){const s=t[ms];s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const ma=Symbol("_vod"),Dh=Symbol("_vsh"),hl=Symbol("");function Hg(t){const e=vn();if(!e)return;const r=e.ut=(n=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Zs(i,n))},s=()=>{const n=t(e.proxy);e.ce?Zs(e.ce,n):Vi(e.subTree,n),r(n)};U0(()=>{B0(s)}),hn(()=>{Or(s,dt,{flush:"post"});const n=new MutationObserver(s);n.observe(e.subTree.el.parentNode,{childList:!0}),dn(()=>n.disconnect())})}function Vi(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Vi(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Zs(t.el,e);else if(t.type===Ze)t.children.forEach(r=>Vi(r,e));else if(t.type===ss){let{el:r,anchor:s}=t;for(;r&&(Zs(r,e),r!==s);)r=r.nextSibling}}function Zs(t,e){if(t.nodeType===1){const r=t.style;let s="";for(const n in e){const i=ku(e[n]);r.setProperty(`--${n}`,i),s+=`--${n}: ${i};`}r[hl]=s}}const kh=/(^|;)\s*display\s*:/;function Fh(t,e,r){const s=t.style,n=Te(r);let i=!1;if(r&&!n){if(e)if(Te(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&zs(s,a,"")}else for(const o in e)r[o]==null&&zs(s,o,"");for(const o in r)o==="display"&&(i=!0),zs(s,o,r[o])}else if(n){if(e!==r){const o=s[hl];o&&(r+=";"+o),s.cssText=r,i=kh.test(r)}}else e&&t.removeAttribute("style");ma in t&&(t[ma]=i?s.display:"",t[Dh]&&(s.display="none"))}const ya=/\s*!important$/;function zs(t,e,r){if(re(r))r.forEach(s=>zs(t,e,s));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const s=Th(t,e);ya.test(r)?t.setProperty(Yt(s),r.replace(ya,""),"important"):t[s]=r}}const wa=["Webkit","Moz","ms"],Nn={};function Th(t,e){const r=Nn[e];if(r)return r;let s=ut(e);if(s!=="filter"&&s in t)return Nn[e]=s;s=on(s);for(let n=0;n<wa.length;n++){const i=wa[n]+s;if(i in t)return Nn[e]=i}return e}const ba="http://www.w3.org/1999/xlink";function Ea(t,e,r,s,n,i=Su(e)){s&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(ba,e.slice(6,e.length)):t.setAttributeNS(ba,e,r):r==null||i&&!e0(r)?t.removeAttribute(e):t.setAttribute(e,i?"":pt(r)?String(r):r)}function Ca(t,e,r,s,n){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?ul(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=e0(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(n||e)}function Kt(t,e,r,s){t.addEventListener(e,r,s)}function Rh(t,e,r,s){t.removeEventListener(e,r,s)}const Aa=Symbol("_vei");function Ph(t,e,r,s,n=null){const i=t[Aa]||(t[Aa]={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=Oh(e);if(s){const l=i[e]=jh(s,n);Kt(t,a,l,c)}else o&&(Rh(t,a,o,c),i[e]=void 0)}}const Sa=/(?:Once|Passive|Capture)$/;function Oh(t){let e;if(Sa.test(t)){e={};let s;for(;s=t.match(Sa);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Yt(t.slice(2)),e]}let qn=0;const Ih=Promise.resolve(),$h=()=>qn||(Ih.then(()=>qn=0),qn=Date.now());function jh(t,e){const r=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=r.attached)return;vt(Lh(s,r.value),e,5,[s])};return r.value=t,r.attached=$h(),r}function Lh(t,e){if(re(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(s=>n=>!n._stopped&&s&&s(n))}else return e}const Ba=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Uh=(t,e,r,s,n,i)=>{const o=n==="svg";e==="class"?Bh(t,s,o):e==="style"?Fh(t,r,s):rn(e)?fo(e)||Ph(t,e,r,s,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Nh(t,e,s,o))?(Ca(t,e,s),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Ea(t,e,s,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Te(s))?Ca(t,ut(e),s,i,e):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),Ea(t,e,s,o))};function Nh(t,e,r,s){if(s)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ba(e)&&ie(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return Ba(e)&&Te(r)?!1:e in t}const $r=t=>{const e=t.props["onUpdate:modelValue"]||!1;return re(e)?r=>qs(e,r):e};function qh(t){t.target.composing=!0}function Da(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Rt=Symbol("_assign"),Mg={created(t,{modifiers:{lazy:e,trim:r,number:s}},n){t[Rt]=$r(n);const i=s||n.props&&n.props.type==="number";Kt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=Ii(a)),t[Rt](a)}),r&&Kt(t,"change",()=>{t.value=t.value.trim()}),e||(Kt(t,"compositionstart",qh),Kt(t,"compositionend",Da),Kt(t,"change",Da))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:s,trim:n,number:i}},o){if(t[Rt]=$r(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ii(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(s&&e===r||n&&t.value.trim()===c)||(t.value=c))}},zg={deep:!0,created(t,e,r){t[Rt]=$r(r),Kt(t,"change",()=>{const s=t._modelValue,n=dl(t),i=t.checked,o=t[Rt];if(re(s)){const a=t0(s,n),c=a!==-1;if(i&&!c)o(s.concat(n));else if(!i&&c){const l=[...s];l.splice(a,1),o(l)}}else if(sn(s)){const a=new Set(s);i?a.add(n):a.delete(n),o(a)}else o(xl(t,i))})},mounted:ka,beforeUpdate(t,e,r){t[Rt]=$r(r),ka(t,e,r)}};function ka(t,{value:e,oldValue:r},s){t._modelValue=e;let n;if(re(e))n=t0(e,s.props.value)>-1;else if(sn(e))n=e.has(s.props.value);else{if(e===r)return;n=Ir(e,xl(t,!0))}t.checked!==n&&(t.checked=n)}const Wg={created(t,{value:e},r){t.checked=Ir(e,r.props.value),t[Rt]=$r(r),Kt(t,"change",()=>{t[Rt](dl(t))})},beforeUpdate(t,{value:e,oldValue:r},s){t[Rt]=$r(s),e!==r&&(t.checked=Ir(e,s.props.value))}};function dl(t){return"_value"in t?t._value:t.value}function xl(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Hh=["ctrl","shift","alt","meta"],Mh={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Hh.some(r=>t[`${r}Key`]&&!e.includes(r))},Kg=(t,e)=>{const r=t._withMods||(t._withMods={}),s=e.join(".");return r[s]||(r[s]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Mh[e[o]];if(a&&a(n,e))return}return t(n,...i)})},zh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Vg=(t,e)=>{const r=t._withKeys||(t._withKeys={}),s=e.join(".");return r[s]||(r[s]=n=>{if(!("key"in n))return;const i=Yt(n.key);if(e.some(o=>o===i||zh[o]===i))return t(n)})},Wh=Oe({patchProp:Uh},yh);let Fa;function Kh(){return Fa||(Fa=Hf(Wh))}const Vh=(...t)=>{const e=Kh().createApp(...t),{mount:r}=e;return e.mount=s=>{const n=Qh(s);if(!n)return;const i=e._component;!ie(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=r(n,!1,Gh(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Gh(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Qh(t){return Te(t)?document.querySelector(t):t}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let pl;const _n=t=>pl=t,vl=Symbol();function Gi(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var is;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(is||(is={}));function Jh(){const t=i0(!0),e=t.run(()=>ue({}));let r=[],s=[];const n=Co({install(i){_n(n),n._a=i,i.provide(vl,n),i.config.globalProperties.$pinia=n,s.forEach(o=>r.push(o)),s=[]},use(i){return this._a?r.push(i):s.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return n}const gl=()=>{};function Ta(t,e,r,s=gl){t.push(e);const n=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),s())};return!r&&o0()&&Fu(n),n}function _r(t,...e){t.slice().forEach(r=>{r(...e)})}const Xh=t=>t(),Ra=Symbol(),Hn=Symbol();function Qi(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,s)=>t.set(s,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const s=e[r],n=t[r];Gi(n)&&Gi(s)&&t.hasOwnProperty(r)&&!Fe(s)&&!Qt(s)?t[r]=Qi(n,s):t[r]=s}return t}const Yh=Symbol();function Zh(t){return!Gi(t)||!t.hasOwnProperty(Yh)}const{assign:Nt}=Object;function ed(t){return!!(Fe(t)&&t.effect)}function td(t,e,r,s){const{state:n,actions:i,getters:o}=e,a=r.state.value[t];let c;function l(){a||(r.state.value[t]=n?n():{});const u=Zu(r.state.value[t]);return Nt(u,i,Object.keys(o||{}).reduce((f,h)=>(f[h]=Co(Ce(()=>{_n(r);const d=r._s.get(t);return o[h].call(d,d)})),f),{}))}return c=_l(t,l,e,r,s,!0),c}function _l(t,e,r={},s,n,i){let o;const a=Nt({actions:{}},r),c={deep:!0};let l,u,f=[],h=[],d;const v=s.state.value[t];!i&&!v&&(s.state.value[t]={}),ue({});let m;function g(E){let k;l=u=!1,typeof E=="function"?(E(s.state.value[t]),k={type:is.patchFunction,storeId:t,events:d}):(Qi(s.state.value[t],E),k={type:is.patchObject,payload:E,storeId:t,events:d});const w=m=Symbol();Ao().then(()=>{m===w&&(l=!0)}),u=!0,_r(f,k,s.state.value[t])}const b=i?function(){const{state:k}=r,w=k?k():{};this.$patch(A=>{Nt(A,w)})}:gl;function p(){o.stop(),f=[],h=[],s._s.delete(t)}const x=(E,k="")=>{if(Ra in E)return E[Hn]=k,E;const w=function(){_n(s);const A=Array.from(arguments),y=[],T=[];function P(V){y.push(V)}function W(V){T.push(V)}_r(h,{args:A,name:w[Hn],store:B,after:P,onError:W});let M;try{M=E.apply(this&&this.$id===t?this:B,A)}catch(V){throw _r(T,V),V}return M instanceof Promise?M.then(V=>(_r(y,V),V)).catch(V=>(_r(T,V),Promise.reject(V))):(_r(y,M),M)};return w[Ra]=!0,w[Hn]=k,w},_={_p:s,$id:t,$onAction:Ta.bind(null,h),$patch:g,$reset:b,$subscribe(E,k={}){const w=Ta(f,E,k.detached,()=>A()),A=o.run(()=>Or(()=>s.state.value[t],y=>{(k.flush==="sync"?u:l)&&E({storeId:t,type:is.direct,events:d},y)},Nt({},c,k)));return w},$dispose:p},B=As(_);s._s.set(t,B);const F=(s._a&&s._a.runWithContext||Xh)(()=>s._e.run(()=>(o=i0()).run(()=>e({action:x}))));for(const E in F){const k=F[E];if(Fe(k)&&!ed(k)||Qt(k))i||(v&&Zh(k)&&(Fe(k)?k.value=v[E]:Qi(k,v[E])),s.state.value[t][E]=k);else if(typeof k=="function"){const w=x(k,E);F[E]=w,a.actions[E]=k}}return Nt(B,F),Nt(xe(B),F),Object.defineProperty(B,"$state",{get:()=>s.state.value[t],set:E=>{g(k=>{Nt(k,E)})}}),s._p.forEach(E=>{Nt(B,o.run(()=>E({store:B,app:s._a,pinia:s,options:a})))}),v&&i&&r.hydrate&&r.hydrate(B.$state,v),l=!0,u=!0,B}/*! #__NO_SIDE_EFFECTS__ */function Ds(t,e,r){let s,n;const i=typeof e=="function";typeof t=="string"?(s=t,n=i?r:e):(n=t,s=t.id);function o(a,c){const l=If();return a=a||(l?lt(vl,null):null),a&&_n(a),a=pl,a._s.has(s)||(i?_l(s,e,n,a):td(s,n,a)),a._s.get(s)}return o.$id=s,o}const rd="modulepreload",sd=function(t){return"/"+t},Pa={},De=function(e,r,s){let n=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));n=Promise.allSettled(r.map(c=>{if(c=sd(c),c in Pa)return;Pa[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=l?"stylesheet":rd,l||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),l)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},nd=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>De(async()=>{const{default:s}=await Promise.resolve().then(()=>Nr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)};class Ro extends Error{constructor(e,r="FunctionsError",s){super(e),this.name=r,this.context=s}}class id extends Ro{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Oa extends Ro{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ia extends Ro{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ji;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ji||(Ji={}));var od=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(f){o(f)}}function c(u){try{l(s.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):n(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};class ad{constructor(e,{headers:r={},customFetch:s,region:n=Ji.Any}={}){this.url=e,this.headers=r,this.region=n,this.fetch=nd(s)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var s;return od(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=r;let a={},{region:c}=r;c||(c=this.region);const l=new URL(`${this.url}/${e}`);c&&c!=="any"&&(a["x-region"]=c,l.searchParams.set("forceFunctionRegion",c));let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const f=yield this.fetch(l.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(m=>{throw new id(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Oa(f);if(!f.ok)throw new Ia(f);let d=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),v;return d==="application/json"?v=yield f.json():d==="application/octet-stream"?v=yield f.blob():d==="text/event-stream"?v=f:d==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof Ia||n instanceof Oa?n.context:void 0}}})}}var se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ml(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function s(){return this instanceof s?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(s){var n=Object.getOwnPropertyDescriptor(t,s);Object.defineProperty(r,s,n.get?n:{enumerable:!0,get:function(){return t[s]}})}),r}var et={},Po={},mn={},ks={},yn={},wn={},cd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jr=cd();const ld=jr.fetch,yl=jr.fetch.bind(jr),wl=jr.Headers,ud=jr.Request,fd=jr.Response,Nr=Object.freeze(Object.defineProperty({__proto__:null,Headers:wl,Request:ud,Response:fd,default:yl,fetch:ld},Symbol.toStringTag,{value:"Module"})),hd=ml(Nr);var bn={};Object.defineProperty(bn,"__esModule",{value:!0});let dd=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};bn.default=dd;var bl=se&&se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wn,"__esModule",{value:!0});const xd=bl(hd),pd=bl(bn);let vd=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=xd.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const s=this.fetch;let n=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,c;let l=null,u=null,f=null,h=i.status,d=i.statusText;if(i.ok){if(this.method!=="HEAD"){const b=await i.text();b===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=b:u=JSON.parse(b))}const m=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(l={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,f=null,h=406,d="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const m=await i.text();try{l=JSON.parse(m),Array.isArray(l)&&i.status===404&&(u=[],l=null,h=200,d="OK")}catch{i.status===404&&m===""?(h=204,d="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l==null?void 0:l.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,h=200,d="OK"),l&&this.shouldThrowOnError)throw new pd.default(l)}return{error:l,data:u,count:f,status:h,statusText:d}});return this.shouldThrowOnError||(n=n.catch(i=>{var o,a,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),n.then(e,r)}returns(){return this}overrideTypes(){return this}};wn.default=vd;var gd=se&&se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yn,"__esModule",{value:!0});const _d=gd(wn);let md=class extends _d.default{select(e){let r=!1;const s=(e??"*").split("").map(n=>/\s/.test(n)&&!r?"":(n==='"'&&(r=!r),n)).join("");return this.url.searchParams.set("select",s),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:s,foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:s=r}={}){const n=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:s,referencedTable:n=s}={}){const i=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:s=!1,buffers:n=!1,wal:i=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,r?"verbose":null,s?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};yn.default=md;var yd=se&&se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ks,"__esModule",{value:!0});const wd=yd(yn);let bd=class extends wd.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const s=Array.from(new Set(r)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${s})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:s,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const o=s===void 0?"":`(${s})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,s])=>{this.url.searchParams.append(r,`eq.${s}`)}),this}not(e,r,s){return this.url.searchParams.append(e,`not.${r}.${s}`),this}or(e,{foreignTable:r,referencedTable:s=r}={}){const n=s?`${s}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,r,s){return this.url.searchParams.append(e,`${r}.${s}`),this}};ks.default=bd;var Ed=se&&se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(mn,"__esModule",{value:!0});const Kr=Ed(ks);let Cd=class{constructor(e,{headers:r={},schema:s,fetch:n}){this.url=e,this.headers=r,this.schema=s,this.fetch=n}select(e,{head:r=!1,count:s}={}){const n=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),s&&(this.headers.Prefer=`count=${s}`),new Kr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:s=!0}={}){const n="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),s||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Kr.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:s=!1,count:n,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${s?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Kr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const s="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),r&&n.push(`count=${r}`),this.headers.Prefer=n.join(","),new Kr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",s=[];return e&&s.push(`count=${e}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Kr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};mn.default=Cd;var En={},Cn={};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.version=void 0;Cn.version="0.0.0-automated";Object.defineProperty(En,"__esModule",{value:!0});En.DEFAULT_HEADERS=void 0;const Ad=Cn;En.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ad.version}`};var El=se&&se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Po,"__esModule",{value:!0});const Sd=El(mn),Bd=El(ks),Dd=En;let kd=class Cl{constructor(e,{headers:r={},schema:s,fetch:n}={}){this.url=e,this.headers=Object.assign(Object.assign({},Dd.DEFAULT_HEADERS),r),this.schemaName=s,this.fetch=n}from(e){const r=new URL(`${this.url}/${e}`);return new Sd.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Cl(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:s=!1,get:n=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let c;s||n?(o=s?"HEAD":"GET",Object.entries(r).filter(([u,f])=>f!==void 0).map(([u,f])=>[u,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([u,f])=>{a.searchParams.append(u,f)})):(o="POST",c=r);const l=Object.assign({},this.headers);return i&&(l.Prefer=`count=${i}`),new Bd.default({method:o,url:a,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Po.default=kd;var qr=se&&se.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(et,"__esModule",{value:!0});et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const Al=qr(Po);et.PostgrestClient=Al.default;const Sl=qr(mn);et.PostgrestQueryBuilder=Sl.default;const Bl=qr(ks);et.PostgrestFilterBuilder=Bl.default;const Dl=qr(yn);et.PostgrestTransformBuilder=Dl.default;const kl=qr(wn);et.PostgrestBuilder=kl.default;const Fl=qr(bn);et.PostgrestError=Fl.default;var Fd=et.default={PostgrestClient:Al.default,PostgrestQueryBuilder:Sl.default,PostgrestFilterBuilder:Bl.default,PostgrestTransformBuilder:Dl.default,PostgrestBuilder:kl.default,PostgrestError:Fl.default};const{PostgrestClient:Td,PostgrestQueryBuilder:Zg,PostgrestFilterBuilder:e1,PostgrestTransformBuilder:t1,PostgrestBuilder:r1,PostgrestError:s1}=Fd;class Rd{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);if(s>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const n=this.dynamicRequire("undici");if(n&&n.WebSocket)return{type:"native",constructor:n.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const n=this.dynamicRequire("ws");if(n)return{type:"ws",constructor:(r=n.WebSocket)!==null&&r!==void 0?r:n};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${s} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const s=this.getWebSocketConstructor();return new s(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Pd="2.15.0",Od=`realtime-js/${Pd}`,Id="1.0.0",Xi=1e4,$d=1e3,jd=100;var os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(os||(os={}));var Re;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Re||(Re={}));var ht;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ht||(ht={}));var Yi;(function(t){t.websocket="websocket"})(Yi||(Yi={}));var fr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fr||(fr={}));class Ld{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),s=new TextDecoder;return this._decodeBroadcast(e,r,s)}_decodeBroadcast(e,r,s){const n=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=s.decode(e.slice(o,o+n));o=o+n;const c=s.decode(e.slice(o,o+i));o=o+i;const l=JSON.parse(s.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:c,payload:l}}}class Tl{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Se||(Se={}));const $a=(t,e,r={})=>{var s;const n=(s=r.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(e).reduce((i,o)=>(i[o]=Ud(o,t,e,n),i),{})},Ud=(t,e,r,s)=>{const n=e.find(a=>a.name===t),i=n==null?void 0:n.type,o=r[t];return i&&!s.includes(i)?Rl(i,o):Zi(o)},Rl=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Md(e,r)}switch(t){case Se.bool:return Nd(e);case Se.float4:case Se.float8:case Se.int2:case Se.int4:case Se.int8:case Se.numeric:case Se.oid:return qd(e);case Se.json:case Se.jsonb:return Hd(e);case Se.timestamp:return zd(e);case Se.abstime:case Se.date:case Se.daterange:case Se.int4range:case Se.int8range:case Se.money:case Se.reltime:case Se.text:case Se.time:case Se.timestamptz:case Se.timetz:case Se.tsrange:case Se.tstzrange:return Zi(e);default:return Zi(e)}},Zi=t=>t,Nd=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},qd=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Hd=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Md=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,s=t[r];if(t[0]==="{"&&s==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Rl(e,a))}return t},zd=t=>typeof t=="string"?t.replace(" ","T"):t,Pl=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Mn{constructor(e,r,s={},n=Xi){this.channel=e,this.event=r,this.payload=s,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var s;return this._hasReceived(e)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(s=>s.status===e).forEach(s=>s.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ja;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(ja||(ja={}));class as{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=as.syncState(this.state,n,i,o),this.pendingDiffs.forEach(c=>{this.state=as.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(s.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=as.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,s,n){const i=this.cloneDeep(e),o=this.transformState(r),a={},c={};return this.map(i,(l,u)=>{o[l]||(c[l]=u)}),this.map(o,(l,u)=>{const f=i[l];if(f){const h=u.map(g=>g.presence_ref),d=f.map(g=>g.presence_ref),v=u.filter(g=>d.indexOf(g.presence_ref)<0),m=f.filter(g=>h.indexOf(g.presence_ref)<0);v.length>0&&(a[l]=v),m.length>0&&(c[l]=m)}else a[l]=u}),this.syncDiff(i,{joins:a,leaves:c},s,n)}static syncDiff(e,r,s,n){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),n||(n=()=>{}),this.map(i,(a,c)=>{var l;const u=(l=e[a])!==null&&l!==void 0?l:[];if(e[a]=this.cloneDeep(c),u.length>0){const f=e[a].map(d=>d.presence_ref),h=u.filter(d=>f.indexOf(d.presence_ref)<0);e[a].unshift(...h)}s(a,u,c)}),this.map(o,(a,c)=>{let l=e[a];if(!l)return;const u=c.map(f=>f.presence_ref);l=l.filter(f=>u.indexOf(f.presence_ref)<0),e[a]=l,n(a,l,c),l.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(s=>r(s,e[s]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,s)=>{const n=e[s];return"metas"in n?r[s]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=n,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var La;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(La||(La={}));var cs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(cs||(cs={}));var Dt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Dt||(Dt={}));class Oo{constructor(e,r={config:{}},s){this.topic=e,this.params=r,this.socket=s,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Mn(this,ht.join,this.params,this.timeout),this.rejoinTimer=new Tl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ht.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new as(this),this.broadcastEndpointURL=Pl(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var s,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,c=(n=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(h=>h.filter))!==null&&n!==void 0?n:[],l=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0,u={},f={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:l}),postgres_changes:c,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(Dt.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(Dt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},u)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:h})=>{var d;if(this.socket.setAuth(),h===void 0){e==null||e(Dt.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,m=(d=v==null?void 0:v.length)!==null&&d!==void 0?d:0,g=[];for(let b=0;b<m;b++){const p=v[b],{filter:{event:x,schema:_,table:B,filter:D}}=p,F=h&&h[b];if(F&&F.event===x&&F.schema===_&&F.table===B&&F.filter===D)g.push(Object.assign(Object.assign({},p),{id:F.id}));else{this.unsubscribe(),this.state=Re.errored,e==null||e(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(Dt.SUBSCRIBED);return}}).receive("error",h=>{this.state=Re.errored,e==null||e(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,s){return this.state===Re.joined&&e===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,s)}async send(e,r={}){var s,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((n=l.body)===null||n===void 0?void 0:n.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,c;const l=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Re.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ht.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(n=>{s=new Mn(this,ht.leave,{},e),s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(e,r,s){const n=new AbortController,i=setTimeout(()=>n.abort(),s),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:n.signal}));return clearTimeout(i),o}_push(e,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new Mn(this,e,r,s);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>jd){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,s){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,s){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:l,join:u}=ht;if(s&&[a,c,l,u].indexOf(o)>=0&&s!==this._joinRef())return;let h=this._onMessage(o,r,s);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(d=>{var v,m,g;return((v=d.filter)===null||v===void 0?void 0:v.event)==="*"||((g=(m=d.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(d=>d.callback(h,s)):(i=this.bindings[o])===null||i===void 0||i.filter(d=>{var v,m,g,b,p,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const _=d.id,B=(v=d.filter)===null||v===void 0?void 0:v.event;return _&&((m=r.ids)===null||m===void 0?void 0:m.includes(_))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((g=r.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{const _=(p=(b=d==null?void 0:d.filter)===null||b===void 0?void 0:b.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:g,commit_timestamp:b,type:p,errors:x}=v;h=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:b,eventType:p,new:{},old:{},errors:x}),this._getPayloadRecords(v))}d.callback(h,s)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,s){const n=e.toLocaleLowerCase(),i={type:n,filter:r,callback:s};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,r){const s=e.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&Oo.isEqual(n.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const s in e)if(e[s]!==r[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ht.close,{},e)}_onError(e){this._on(ht.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=$a(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=$a(e.columns,e.old_record)),r}}const Ua=()=>{},$s={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wd=[1e3,2e3,5e3,1e4],Kd=1e4,Vd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gd{constructor(e,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xi,this.transport=null,this.heartbeatIntervalMs=$s.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ua,this.ref=0,this.reconnectTimer=null,this.logger=Ua,this.conn=null,this.sendBuffer=[],this.serializer=new Ld,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>De(async()=>{const{default:a}=await Promise.resolve().then(()=>Nr);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Yi.websocket}`,this.httpEndpoint=Pl(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Rd.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Id}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,s){this.logger(e,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case os.connecting:return fr.Connecting;case os.open:return fr.Open;case os.closing:return fr.Closing;default:return fr.Closed}}isConnected(){return this.connectionState()===fr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const s=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===s);if(n)return n;{const i=new Oo(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:s,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${s} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close($d,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},$s.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(s=>s.topic===e&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:n,payload:i,ref:o}=r,a=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${s} ${n} ${a}`.trim(),i),this.channels.filter(l=>l._isMember(s)).forEach(l=>l._trigger(n,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ht.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const s=e.match(/\?/)?"&":"?",n=new URLSearchParams(r);return`${e}${s}${n}`}_workerObjectUrl(e){let r;if(e)r=e;else{const s=new Blob([Vd],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const n={access_token:r,version:Od};r&&s.updateJoinPayload(n),s.joinedOnce&&s._isJoined()&&s._push(ht.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(s=>{try{s(r)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(s){this.log("error",`error triggering ${e} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new Tl(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},$s.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,s,n,i,o,a,c,l;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(s=e==null?void 0:e.timeout)!==null&&s!==void 0?s:Xi,this.heartbeatIntervalMs=(n=e==null?void 0:e.heartbeatIntervalMs)!==null&&n!==void 0?n:$s.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:u=>Wd[u-1]||Kd,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(u,f)=>f(JSON.stringify(u)),this.decode=(l=e==null?void 0:e.decode)!==null&&l!==void 0?l:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Io extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Pe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Qd extends Io{constructor(e,r,s){super(e),this.name="StorageApiError",this.status=r,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class eo extends Io{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Jd=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(f){o(f)}}function c(u){try{l(s.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):n(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};const Ol=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>De(async()=>{const{default:s}=await Promise.resolve().then(()=>Nr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Xd=()=>Jd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield De(()=>Promise.resolve().then(()=>Nr),void 0)).Response:Response}),to=t=>{if(Array.isArray(t))return t.map(r=>to(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,s])=>{const n=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=to(s)}),e},Yd=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var xr=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(f){o(f)}}function c(u){try{l(s.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):n(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};const zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zd=(t,e,r)=>xr(void 0,void 0,void 0,function*(){const s=yield Xd();t instanceof s&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,o=(n==null?void 0:n.statusCode)||i+"";e(new Qd(zn(n),i,o))}).catch(n=>{e(new eo(zn(n),n))}):e(new eo(zn(t),t))}),ex=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!s?n:(Yd(s)?(n.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n.body=JSON.stringify(s)):n.body=s,Object.assign(Object.assign({},n),r))};function Fs(t,e,r,s,n,i){return xr(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,ex(e,s,n,i)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Zd(c,a,s))})})}function en(t,e,r,s){return xr(this,void 0,void 0,function*(){return Fs(t,"GET",e,r,s)})}function kt(t,e,r,s,n){return xr(this,void 0,void 0,function*(){return Fs(t,"POST",e,s,n,r)})}function ro(t,e,r,s,n){return xr(this,void 0,void 0,function*(){return Fs(t,"PUT",e,s,n,r)})}function tx(t,e,r,s){return xr(this,void 0,void 0,function*(){return Fs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),s)})}function Il(t,e,r,s,n){return xr(this,void 0,void 0,function*(){return Fs(t,"DELETE",e,s,n,r)})}var Xe=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(f){o(f)}}function c(u){try{l(s.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):n(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};const rx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Na={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sx{constructor(e,r={},s,n){this.url=e,this.headers=r,this.bucketId=s,this.fetch=Ol(n)}uploadOrUpdate(e,r,s,n){return Xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Na),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&s instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",s)):typeof FormData<"u"&&s instanceof FormData?(i=s,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=s,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),n!=null&&n.headers&&(a=Object.assign(Object.assign({},a),n.headers));const l=this._removeEmptyFolders(r),u=this._getFinalPath(l),f=yield(e=="PUT"?ro:kt)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:l,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(Pe(i))return{data:null,error:i};throw i}})}upload(e,r,s){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,s)})}uploadToSignedUrl(e,r,s,n){return Xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let c;const l=Object.assign({upsert:Na.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",l.cacheControl)):(c=s,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType);const f=yield ro(this.fetch,a.toString(),c,{headers:u});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(Pe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=Object.assign({},this.headers);r!=null&&r.upsert&&(n["x-upsert"]="true");const i=yield kt(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Io("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}update(e,r,s){return Xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,s)})}move(e,r,s){return Xe(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}copy(e,r,s){return Xe(this,void 0,void 0,function*(){try{return{data:{path:(yield kt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,r,s){return Xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield kt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:r},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const o=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,r,s){return Xe(this,void 0,void 0,function*(){try{const n=yield kt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}download(e,r){return Xe(this,void 0,void 0,function*(){const n=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield en(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Pe(a))return{data:null,error:a};throw a}})}info(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const s=yield en(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:to(s),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}exists(e){return Xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield tx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(Pe(s)&&s instanceof eo){const n=s.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:s}}throw s}})}getPublicUrl(e,r){const s=this._getFinalPath(e),n=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&n.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&n.push(c);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${s}${l}`)}}}remove(e){return Xe(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}list(e,r,s){return Xe(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},rx),r),{prefix:e||""});return{data:yield kt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},s),error:null}}catch(n){if(Pe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const nx="2.10.4",ix={"X-Client-Info":`storage-js/${nx}`};var mr=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(f){o(f)}}function c(u){try{l(s.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):n(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};class ox{constructor(e,r={},s,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},ix),r),this.fetch=Ol(s)}listBuckets(){return mr(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Pe(e))return{data:null,error:e};throw e}})}getBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return mr(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return mr(this,void 0,void 0,function*(){try{return{data:yield ro(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(Pe(s))return{data:null,error:s};throw s}})}emptyBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield kt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}deleteBucket(e){return mr(this,void 0,void 0,function*(){try{return{data:yield Il(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Pe(r))return{data:null,error:r};throw r}})}}class ax extends ox{constructor(e,r={},s,n){super(e,r,s,n)}from(e){return new sx(this.url,this.headers,e,this.fetch)}}const cx="2.54.0";let Xr="";typeof Deno<"u"?Xr="deno":typeof document<"u"?Xr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xr="react-native":Xr="node";const lx={"X-Client-Info":`supabase-js-${Xr}/${cx}`},ux={headers:lx},fx={schema:"public"},hx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},dx={};var xx=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(f){o(f)}}function c(u){try{l(s.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):n(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};const px=t=>{let e;return t?e=t:typeof fetch>"u"?e=yl:e=fetch,(...r)=>e(...r)},vx=()=>typeof Headers>"u"?wl:Headers,gx=(t,e,r)=>{const s=px(r),n=vx();return(i,o)=>xx(void 0,void 0,void 0,function*(){var a;const c=(a=yield e())!==null&&a!==void 0?a:t;let l=new n(o==null?void 0:o.headers);return l.has("apikey")||l.set("apikey",t),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),s(i,Object.assign(Object.assign({},o),{headers:l}))})};var _x=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(f){o(f)}}function c(u){try{l(s.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):n(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};function mx(t){return t.endsWith("/")?t:t+"/"}function yx(t,e){var r,s;const{db:n,auth:i,realtime:o,global:a}=t,{db:c,auth:l,realtime:u,global:f}=e,h={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},l),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(s=a==null?void 0:a.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>_x(this,void 0,void 0,function*(){return""})};return t.accessToken?h.accessToken=t.accessToken:delete h.accessToken,h}const $l="2.71.1",Sr=30*1e3,so=3,Wn=so*Sr,wx="http://localhost:9999",bx="supabase.auth.token",Ex={"X-Client-Info":`gotrue-js/${$l}`},no="X-Supabase-Api-Version",jl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Cx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ax=10*60*1e3;class $o extends Error{constructor(e,r,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Sx extends $o{constructor(e,r,s){super(e,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function Bx(t){return oe(t)&&t.name==="AuthApiError"}class Ll extends $o{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Zt extends $o{constructor(e,r,s,n){super(e,s,n),this.name=r,this.status=s}}class qt extends Zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Dx(t){return oe(t)&&t.name==="AuthSessionMissingError"}class js extends Zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ls extends Zt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Us extends Zt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function kx(t){return oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class qa extends Zt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class io extends Zt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Kn(t){return oe(t)&&t.name==="AuthRetryableFetchError"}class Ha extends Zt{constructor(e,r,s){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class oo extends Zt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const tn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ma=` 	
\r=`.split(""),Fx=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ma.length;e+=1)t[Ma[e].charCodeAt(0)]=-2;for(let e=0;e<tn.length;e+=1)t[tn[e].charCodeAt(0)]=e;return t})();function za(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(tn[s]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const s=e.queue>>e.queuedBits-6&63;r(tn[s]),e.queuedBits-=6}}function Ul(t,e,r){const s=Fx[t];if(s>-1)for(e.queue=e.queue<<6|s,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Wa(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Px(o,s,r)};for(let o=0;o<t.length;o+=1)Ul(t.charCodeAt(o),n,i);return e.join("")}function Tx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Rx(t,e){for(let r=0;r<t.length;r+=1){let s=t.charCodeAt(r);if(s>55295&&s<=56319){const n=(s-55296)*1024&65535;s=(t.charCodeAt(r+1)-56320&65535|n)+65536,r+=1}Tx(s,e)}}function Px(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let s=1;s<6;s+=1)if(!(t>>7-s&1)){e.utf8seq=s;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ox(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Ul(t.charCodeAt(n),r,s);return new Uint8Array(e)}function Ix(t){const e=[];return Rx(t,r=>e.push(r)),new Uint8Array(e)}function $x(t){const e=[],r={queue:0,queuedBits:0},s=n=>{e.push(n)};return t.forEach(n=>za(n,r,s)),za(null,r,s),e.join("")}function jx(t){return Math.round(Date.now()/1e3)+t}function Lx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ft=()=>typeof window<"u"&&typeof document<"u",or={tested:!1,writable:!1},Nl=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(or.tested)return or.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),or.tested=!0,or.writable=!0}catch{or.tested=!0,or.writable=!1}return or.writable};function Ux(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return r.searchParams.forEach((s,n)=>{e[n]=s}),e}const ql=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>De(async()=>{const{default:s}=await Promise.resolve().then(()=>Nr);return{default:s}},void 0).then(({default:s})=>s(...r)):e=fetch,(...r)=>e(...r)},Nx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Br=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ar=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Lt=async(t,e)=>{await t.removeItem(e)};class An{constructor(){this.promise=new An.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}An.promiseConstructor=Promise;function Vn(t){const e=t.split(".");if(e.length!==3)throw new oo("Invalid JWT structure");for(let s=0;s<e.length;s++)if(!Cx.test(e[s]))throw new oo("JWT not in base64url format");return{header:JSON.parse(Wa(e[0])),payload:JSON.parse(Wa(e[1])),signature:Ox(e[2]),raw:{header:e[0],payload:e[1]}}}async function qx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Hx(t,e){return new Promise((s,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){s(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Mx(t){return("0"+t.toString(16)).substr(-2)}function zx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let n="";for(let i=0;i<56;i++)n+=r.charAt(Math.floor(Math.random()*s));return n}return crypto.getRandomValues(e),Array.from(e,Mx).join("")}async function Wx(t){const r=new TextEncoder().encode(t),s=await crypto.subtle.digest("SHA-256",r),n=new Uint8Array(s);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Kx(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Wx(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yr(t,e,r=!1){const s=zx();let n=s;r&&(n+="/PASSWORD_RECOVERY"),await Br(t,`${e}-code-verifier`,n);const i=await Kx(s);return[i,s===i?"plain":"s256"]}const Vx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Gx(t){const e=t.headers.get(no);if(!e||!e.match(Vx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Qx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Jx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wr(t){if(!Xx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Gn(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ka(t){return JSON.parse(JSON.stringify(t))}var Yx=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};const lr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zx=[502,503,504];async function Va(t){var e;if(!Nx(t))throw new io(lr(t),0);if(Zx.includes(t.status))throw new io(lr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Ll(lr(i),i)}let s;const n=Gx(t);if(n&&n.getTime()>=jl["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new Ha(lr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(s==="session_not_found")throw new qt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ha(lr(r),t.status,r.weak_password.reasons);throw new Sx(lr(r),t.status||500,s)}const ep=(t,e,r,s)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(s),Object.assign(Object.assign({},n),r))};async function he(t,e,r,s){var n;const i=Object.assign({},s==null?void 0:s.headers);i[no]||(i[no]=jl["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const o=(n=s==null?void 0:s.query)!==null&&n!==void 0?n:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await tp(t,e,r+a,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function tp(t,e,r,s,n,i){const o=ep(e,s,n,i);let a;try{a=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new io(lr(c),0)}if(a.ok||await Va(a),s!=null&&s.noResolveJson)return a;try{return await a.json()}catch(c){await Va(c)}}function St(t){var e;let r=null;ip(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=jx(t.expires_in)));const s=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:s},error:null}}function Ga(t){const e=St(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Vt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function rp(t){return{data:t,error:null}}function sp(t){const{action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i}=t,o=Yx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:s,redirect_to:n,verification_type:i},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function np(t){return t}function ip(t){return t.access_token&&t.refresh_token&&t.expires_in}const Qn=["global","local","others"];var op=function(t,e){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)e.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};class ap{constructor({url:e="",headers:r={},fetch:s}){this.url=e,this.headers=r,this.fetch=ql(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Qn[0]){if(Qn.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Qn.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}async inviteUserByEmail(e,r={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vt})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async generateLink(e){try{const{options:r}=e,s=op(e,["options"]),n=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(n.new_email=s==null?void 0:s.newEmail,delete n.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:sp,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vt})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,s,n,i,o,a,c;try{const l={nextPage:null,lastPage:0,total:0},u=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(n=e==null?void 0:e.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:np});if(u.error)throw u.error;const f=await u.json(),h=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(c=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return d.length>0&&(d.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(v.split(";")[1].split("=")[1]);l[`${g}Page`]=m}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},f),l),error:null}}catch(l){if(oe(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){wr(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vt})}catch(r){if(oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){wr(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Vt})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async deleteUser(e,r=!1){wr(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vt})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async _listFactors(e){wr(e.userId);try{const{data:r,error:s}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:r,error:s}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){wr(e.userId),wr(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}}function Qa(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function cp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const br={debug:!!(globalThis&&Nl()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Hl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lp extends Hl{}async function up(t,e,r){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const s=new globalThis.AbortController;return e>0&&setTimeout(()=>{s.abort(),br.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async n=>{if(n){br.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await r()}finally{br.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw br.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lp(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(br.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}cp();const fp={url:wx,storageKey:bx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ex,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Ja(t,e,r){return await r()}const Er={};class ys{constructor(e){var r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ys.nextInstanceID,ys.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},fp),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ap({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=ql(n.fetch),this.lock=n.lock||Ja,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ft()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=up:this.lock=Ja,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:Nl()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qa(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Qa(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Er[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Er[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Er[this.storageKey]=Object.assign(Object.assign({},Er[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$l}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ux(window.location.href);let s="none";if(this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce"),ft()&&this.detectSessionInUrl&&s!=="none"){const{data:n,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),kx(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return oe(r)?{error:r}:{error:new Ll("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,s,n;try{const i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.captchaToken}},xform:St}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,s,n;try{let i;if("email"in e){const{email:u,password:f,options:h}=e;let d=null,v=null;this.flowType==="pkce"&&([d,v]=await yr(this.storage,this.storageKey)),i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:u,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:v},xform:St})}else if("phone"in e){const{phone:u,password:f,options:h}=e;i=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:St})}else throw new Ls("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const c=o.session,l=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(i){if(oe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ga})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ga})}else throw new Ls("You must provide either an email or phone number and a password");const{data:s,error:n}=r;return n?{data:{user:null,session:null},error:n}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new js}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:n})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,s,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=e.options)===null||s===void 0?void 0:s.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,s,n,i,o,a,c,l,u,f,h,d;let v,m;if("message"in e)v=e.message,m=e.signature;else{const{chain:g,wallet:b,statement:p,options:x}=e;let _;if(ft())if(typeof b=="object")_=b;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))_=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=b}const B=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const D=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),p?{statement:p}:null));let F;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")F=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)F=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)v=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),m=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${B.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(n=(s=x==null?void 0:x.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(u=x==null?void 0:x.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const D=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=D}}try{const{data:g,error:b}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:$x(m)},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:St});if(b)throw b;return!g||!g.session||!g.user?{data:{user:null,session:null},error:new js}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:Object.assign({},g),error:b})}catch(g){if(oe(g))return{data:{user:null,session:null},error:g};throw g}}async _exchangeCodeForSession(e){const r=await ar(this.storage,`${this.storageKey}-code-verifier`),[s,n]=(r??"").split("/");try{const{data:i,error:o}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:St});if(await Lt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new js}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(oe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:s,token:n,access_token:i,nonce:o}=e,a=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:St}),{data:c,error:l}=a;return l?{data:{user:null,session:null},error:l}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new js}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:l})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,s,n,i,o;try{if("email"in e){const{email:a,options:c}=e;let l=null,u=null;this.flowType==="pkce"&&([l,u]=await yr(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:a,options:c}=e,{data:l,error:u}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new Ls("You must provide either an email or phone number.")}catch(a){if(oe(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,s;try{let n,i;"options"in e&&(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(s=e.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:a}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:St});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,l=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:l,session:c},error:null}}catch(n){if(oe(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var r,s,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await yr(this.storage,this.storageKey)),await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((n=e==null?void 0:e.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:rp})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:s}=e;if(s)throw s;if(!r)throw new qt;const{error:n}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:s,type:n,options:i}=e,{error:o}=await he(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:s,type:n,options:i}=e,{data:o,error:a}=await he(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:n,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ls("You must provide either an email or phone number and a type")}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ar(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const s=e.expires_at?e.expires_at*1e3-Date.now()<Wn:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",e.expires_at),!s){if(this.userStorage){const o=await ar(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Gn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,l,u)=>(!o&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,l,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vt}):await this._useSession(async r=>{var s,n,i;const{data:o,error:a}=r;if(a)throw a;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:Vt})})}catch(r){if(oe(r))return Dx(r)&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async s=>{const{data:n,error:i}=s;if(i)throw i;if(!n.session)throw new qt;const o=n.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await yr(this.storage,this.storageKey));const{data:l,error:u}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:Vt});if(u)throw u;return o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(s){if(oe(s))return{data:{user:null},error:s};throw s}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qt;const r=Date.now()/1e3;let s=r,n=!0,i=null;const{payload:o}=Vn(e.access_token);if(o.exp&&(s=o.exp,n=s<=r),n){const{session:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var s;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(e!=null&&e.refresh_token))throw new qt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ft())throw new Us("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Us(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new qa("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Us("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new qa("No code detected.");const{data:p,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:c,token_type:l}=e;if(!i||!a||!o||!l)throw new Us("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(a);let h=u+f;c&&(h=parseInt(c));const d=h-u;d*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const v=h-f;u-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,u):u-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,u);const{data:m,error:g}=await this._getUser(i);if(g)throw g;const b={provider_token:s,provider_refresh_token:n,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:e.type},error:null}}catch(s){if(oe(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ar(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{error:i};const o=(s=n.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Bx(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Lt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Lx(),s={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(e){return await this._useSession(async r=>{var s,n;try{const{data:{session:i},error:o}=r;if(o)throw o;await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let s=null,n=null;this.flowType==="pkce"&&([s,n]=await yr(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:n,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(oe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(oe(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:s,error:n}=await this._useSession(async i=>{var o,a,c,l,u;const{data:f,error:h}=i;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return ft()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:e.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(oe(s))return{data:{provider:e.provider,url:null},error:s};throw s}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)throw o;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&n!==void 0?n:void 0})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await Hx(async n=>(n>0&&await qx(200*Math.pow(2,n-1)),this._debug(r,"refreshing attempt",n),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:St})),(n,i)=>{const o=200*Math.pow(2,n);return i&&Kn(i)&&Date.now()+o-s<Sr})}catch(s){if(this._debug(r,"error",s),oe(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",s),ft()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:e,url:s},error:null}}async _recoverAndRefresh(){var e,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await ar(this.storage,this.storageKey);if(n&&this.userStorage){let o=await ar(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await Br(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Gn()}else if(n&&!n.user&&!n.user){const o=await ar(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(n.user=o.user,await Lt(this.storage,this.storageKey+"-user"),await Br(this.storage,this.storageKey,n)):n.user=Gn()}if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const i=((r=n.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Wn;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Wn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Kn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&(o!=null&&o.user)?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var r,s;if(!e)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new An;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new qt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),oe(i)){const o={session:null,error:i};return Kn(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,r,s=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Br(this.userStorage,this.storageKey+"-user",{user:r.user});const n=Object.assign({},r);delete n.user;const i=Ka(n);await Br(this.storage,this.storageKey,i)}else{const n=Ka(r);await Br(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Lt(this.storage,this.storageKey),await Lt(this.storage,this.storageKey+"-code-verifier"),await Lt(this.storage,this.storageKey+"-user"),this.userStorage&&await Lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((s.expires_at*1e3-e)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${Sr}ms, refresh threshold is ${so} ticks`),n<=so&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Hl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,s){const n=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&n.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&n.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,o]=await yr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);n.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&n.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var s,n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:l}=await he(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return l?{data:null,error:l}:(e.factorType==="totp"&&(!((n=c==null?void 0:c.totp)===null||n===void 0)&&n.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(oe(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:n,error:i}=r;return i?{data:null,error:i}:await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(s=n==null?void 0:n.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:s}=await this._challenge({factorId:e.factorId});return s?{data:null,error:s}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const s=(e==null?void 0:e.factors)||[],n=s.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=s.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:s,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,s;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Vn(n.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((s=(r=n.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,r={keys:[]}){let s=r.keys.find(a=>a.kid===e);if(s)return s;const n=Date.now();if(s=this.jwks.keys.find(a=>a.kid===e),s&&this.jwks_cached_at+Ax>n)return s;const{data:i,error:o}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,s=i.keys.find(a=>a.kid===e),!s)?null:s}async getClaims(e,r={}){try{let s=e;if(!s){const{data:d,error:v}=await this.getSession();if(v||!d.session)return{data:null,error:v};s=d.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:c}}=Vn(s);r!=null&&r.allowExpired||Qx(i.exp);const l=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!l){const{error:d}=await this.getUser(s);if(d)throw d;return{data:{claims:i,header:n,signature:o},error:null}}const u=Jx(n.alg),f=await crypto.subtle.importKey("jwk",l,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,Ix(`${a}.${c}`)))throw new oo("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(s){if(oe(s))return{data:null,error:s};throw s}}}ys.nextInstanceID=0;const hp=ys;class dp extends hp{constructor(e){super(e)}}var xp=function(t,e,r,s){function n(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(u){try{l(s.next(u))}catch(f){o(f)}}function c(u){try{l(s.throw(u))}catch(f){o(f)}}function l(u){u.done?i(u.value):n(u.value).then(a,c)}l((s=s.apply(t,e||[])).next())})};class pp{constructor(e,r,s){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=mx(e),c=new URL(a);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const l=`sb-${c.hostname.split(".")[0]}-auth-token`,u={db:fx,realtime:dx,auth:Object.assign(Object.assign({},hx),{storageKey:l}),global:ux},f=yx(s??{},u);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=gx(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Td(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new ax(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new ad(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},s={}){return this.rest.rpc(e,r,s)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return xp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(r=(e=s.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,storageKey:i,flowType:o,lock:a,debug:c},l,u){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dp({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),l),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:s,storage:n,flowType:o,lock:a,debug:c,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Gd(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,s)=>{this._handleTokenChanged(r,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(e,r,s){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vp=(t,e,r)=>new pp(t,e,r);function gp(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}gp()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const _p=()=>({supabaseUrl:"https://your-project.supabase.co",supabaseAnonKey:"your_production_anon_key_here",timeout:parseInt("30000"),retryAttempts:parseInt("3"),retryDelay:parseInt("1000"),enableCache:!0}),ls=_p(),mp=()=>({getItem:t=>{try{return typeof window<"u"&&window.uni&&window.uni.getStorageSync?window.uni.getStorageSync(t)||null:typeof window<"u"&&window.localStorage?localStorage.getItem(t):null}catch(e){return console.warn("[Storage] Failed to get item:",t,e),null}},setItem:(t,e)=>{try{if(typeof window<"u"&&window.uni&&window.uni.setStorageSync){window.uni.setStorageSync(t,e);return}if(typeof window<"u"&&window.localStorage){localStorage.setItem(t,e);return}console.warn("[Storage] No storage method available")}catch(r){throw console.warn("[Storage] Failed to set item:",t,r),r}},removeItem:t=>{try{if(typeof window<"u"&&window.uni&&window.uni.removeStorageSync){window.uni.removeStorageSync(t);return}if(typeof window<"u"&&window.localStorage){localStorage.removeItem(t);return}console.warn("[Storage] No storage method available")}catch(e){throw console.warn("[Storage] Failed to remove item:",t,e),e}}}),be=vp(ls.supabaseUrl,ls.supabaseAnonKey,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1,storage:mp()},global:{headers:{"X-Client-Info":"yessales-uniapp","X-Client-Version":"1.0.0"}}}),yp=()=>(console.log("✅ API 配置验证通过"),!0),Cr={UNAUTHORIZED:"UNAUTHORIZED",FORBIDDEN:"FORBIDDEN",NOT_FOUND:"NOT_FOUND",INVALID_INPUT:"INVALID_INPUT",DUPLICATE_ENTRY:"DUPLICATE_ENTRY",SERVER_ERROR:"SERVER_ERROR"},Vr={BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,CONFLICT:409};class we{static init(){if(!yp())throw new Error("API 配置验证失败，请检查环境变量");return this.addRequestInterceptor(e=>(console.log(`🚀 [API Request] ${e.method} ${e.table}`,e.options),e)),this.addResponseInterceptor(e=>(e.success?console.log("✅ [API Response] Success",e.data):console.error("❌ [API Response] Error",e.error),e)),!0}static addRequestInterceptor(e){this.requestInterceptors.push(e)}static addResponseInterceptor(e){this.responseInterceptors.push(e)}static async executeRequestInterceptors(e){let r=e;for(const s of this.requestInterceptors)r=await s(r);return r}static async executeResponseInterceptors(e){let r=e;for(const s of this.responseInterceptors)r=await s(r);return r}static getCacheKey(e,r,s){return`${e}_${r}_${JSON.stringify(s||{})}`}static getCache(e){const r=this.cache.get(e);return r&&Date.now()-r.timestamp<this.CACHE_TTL?(console.log("📦 [Cache Hit]",e),r.data):(r&&this.cache.delete(e),null)}static setCache(e,r){this.cache.set(e,{data:r,timestamp:Date.now()})}static clearExpiredCache(){const e=Date.now();for(const[r,s]of this.cache.entries())e-s.timestamp>=this.CACHE_TTL&&this.cache.delete(r)}static delay(e){return new Promise(r=>setTimeout(r,e))}static async handleError(e,r=1){console.error(`API Error (Attempt ${r}):`,e);let s={code:Cr.SERVER_ERROR,message:"服务器错误，请稍后重试",details:e};return e.status===Vr.UNAUTHORIZED?s={code:Cr.UNAUTHORIZED,message:"未授权，请重新登录"}:e.status===Vr.FORBIDDEN?s={code:Cr.FORBIDDEN,message:"无权限访问该资源"}:e.status===Vr.NOT_FOUND?s={code:Cr.NOT_FOUND,message:"请求的资源不存在"}:e.status===Vr.BAD_REQUEST?s={code:Cr.INVALID_INPUT,message:e.message||"请求参数错误"}:e.status===Vr.CONFLICT&&(s={code:Cr.DUPLICATE_ENTRY,message:e.message||"数据已存在"}),{success:!1,error:s}}static async request(e,r,s){const n={method:e,table:r,options:s},i=await this.executeRequestInterceptors(n);if(e==="GET"&&(s==null?void 0:s.enableCache)!==!1){const o=this.getCacheKey(e,r,s),a=this.getCache(o);if(a)return this.executeResponseInterceptors(a)}return this.executeWithRetry(i)}static async executeWithRetry(e,r=1){try{const{method:s,table:n,options:i}=e,o=await this.executeRequest(s,n,i);if(o.success&&s==="GET"&&(i==null?void 0:i.enableCache)!==!1){const a=this.getCacheKey(s,n,i);this.setCache(a,o)}return this.executeResponseInterceptors(o)}catch(s){if(r<ls.retryAttempts&&this.shouldRetry(s))return console.log(`🔄 [API Retry] Attempt ${r+1}/${ls.retryAttempts}`),await this.delay(ls.retryDelay*r),this.executeWithRetry(e,r+1);const n=await this.handleError(s,r);return this.executeResponseInterceptors(n)}}static shouldRetry(e){return!e.status||e.status>=500||e.status===429}static async executeRequest(e,r,s){var i;const n=be.from(r);if(e==="GET"&&(s!=null&&s.id)){const{data:o,error:a}=await n.select(s.select||"*").eq("id",s.id).single();if(a)throw a;return{success:!0,data:o}}if(e==="GET"){let o=n.select((s==null?void 0:s.select)||"*");s!=null&&s.query&&Object.entries(s.query).forEach(([u,f])=>{var h;if(f!=null)if(u==="limit"&&typeof f=="number")o=o.limit(f);else if(u==="offset"&&typeof f=="number"){const d=((h=s.query)==null?void 0:h.limit)||20;o=o.range(f,f+d-1)}else if(u==="order"&&typeof f=="string"){const[d,v]=f.split(",");o=o.order(d,{ascending:v==="asc"})}else o=o.eq(u,f)});const{data:a,error:c,count:l}=await o;if(c)throw c;return{success:!0,data:a,pagination:(i=s==null?void 0:s.query)!=null&&i.page?{page:s.query.page,page_size:s.query.page_size||20,total:l||0}:void 0}}if(e==="POST"){const{data:o,error:a}=await n.insert(s==null?void 0:s.data).select().single();if(a)throw a;return{success:!0,data:o}}if(e==="PUT"&&(s!=null&&s.id)){const{data:o,error:a}=await n.update(s.data).eq("id",s.id).select().single();if(a)throw a;return{success:!0,data:o}}if(e==="DELETE"&&(s!=null&&s.id)){const{error:o}=await n.delete().eq("id",s.id);if(o)throw o;return{success:!0}}throw new Error("Invalid request parameters")}static async uploadFile(e,r,s){try{const{data:n,error:i}=await be.storage.from(r).upload(s,e,{cacheControl:"3600",upsert:!1});if(i)throw i;const{data:{publicUrl:o}}=be.storage.from(r).getPublicUrl(n.path);return{success:!0,data:{url:o}}}catch(n){return this.handleError(n)}}}_t(we,"requestInterceptors",[]),_t(we,"responseInterceptors",[]),_t(we,"cache",new Map),_t(we,"CACHE_TTL",5*60*1e3);class Ye{static async login(e){var r,s;try{const n=e.username.includes("@")?e.username:`${e.username}@yessales.local`,{data:i,error:o}=await be.auth.signInWithPassword({email:n,password:e.password});if(o)throw o;if(!i.user||!i.session)throw new Error("登录失败");const{data:a,error:c}=await be.from("users").select("*").eq("id",i.user.id).single();if(c)throw c;return{success:!0,data:{access_token:i.session.access_token,token_type:"bearer",expires_in:i.session.expires_in||3600,refresh_token:i.session.refresh_token,user:{id:a.id,username:a.username,role:a.role,name:a.name}}}}catch(n){console.error("Login error:",n);let i="登录失败，请检查用户名和密码";return(r=n.message)!=null&&r.includes("Invalid login credentials")?i="用户名或密码错误":(s=n.message)!=null&&s.includes("Email not confirmed")&&(i="账号未激活，请联系管理员"),{success:!1,error:{code:"UNAUTHORIZED",message:i}}}}static async logout(){try{const{error:e}=await be.auth.signOut();if(e)throw e;return uni.removeStorageSync("supabase.auth.token"),{success:!0}}catch(e){return we.handleError(e)}}static async getCurrentUser(){try{const{data:{user:e}}=await be.auth.getUser();if(!e)return{success:!0,data:null};const{data:r,error:s}=await be.from("users").select("*").eq("id",e.id).single();if(s)throw s;return{success:!0,data:r}}catch(e){return we.handleError(e)}}static async refreshToken(){try{const{data:e,error:r}=await be.auth.refreshSession();if(r)throw r;if(!e.session)throw new Error("刷新令牌失败");const{data:s,error:n}=await be.from("users").select("*").eq("id",e.user.id).single();if(n)throw n;return{success:!0,data:{access_token:e.session.access_token,token_type:"bearer",expires_in:e.session.expires_in||3600,refresh_token:e.session.refresh_token,user:{id:s.id,username:s.username,role:s.role,name:s.name}}}}catch(e){return we.handleError(e)}}static async changePassword(e,r){try{const{error:s}=await be.auth.updateUser({password:r});if(s)throw s;return{success:!0}}catch(s){return we.handleError(s)}}static isAuthenticated(){return!!uni.getStorageSync("supabase.auth.token")}static getAuthToken(){return uni.getStorageSync("supabase.auth.token")||null}}const at=()=>typeof uni<"u",wt={getItem:t=>{if(at())try{return uni.getStorageSync(t)||null}catch(e){return console.error("Storage getItem error:",e),null}else try{return localStorage.getItem(t)}catch(e){return console.error("Storage getItem error:",e),null}},setItem:(t,e)=>{if(at())try{uni.setStorageSync(t,e)}catch(r){console.error("Storage setItem error:",r)}else try{localStorage.setItem(t,e)}catch(r){console.error("Storage setItem error:",r)}},removeItem:t=>{if(at())try{uni.removeStorageSync(t)}catch(e){console.error("Storage removeItem error:",e)}else try{localStorage.removeItem(t)}catch(e){console.error("Storage removeItem error:",e)}},getJSON:t=>{const e=wt.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch(r){return console.error("Storage getJSON parse error:",r),null}},setJSON:(t,e)=>{try{const r=JSON.stringify(e);wt.setItem(t,r)}catch(r){console.error("Storage setJSON stringify error:",r)}}},Xa={show:(t,e="none",r=2e3)=>{at()?uni.showToast({title:t,icon:e,duration:r}):alert(t)},success:(t,e=2e3)=>{Xa.show(t,"success",e)},error:(t,e=2e3)=>{Xa.show(t,"error",e)}},n1={confirm:t=>new Promise(e=>{if(at())uni.showModal({title:t.title||"提示",content:t.content,confirmText:t.confirmText||"确定",cancelText:t.cancelText||"取消",success:r=>{e(r.confirm)},fail:()=>{e(!1)}});else{const r=confirm(`${t.title||"提示"}
${t.content}`);e(r)}})},i1={getCurrentPosition:()=>new Promise((t,e)=>{at()?uni.getLocation({type:"gcj02",success:r=>{t({latitude:r.latitude,longitude:r.longitude})},fail:r=>{e(r)}}):navigator.geolocation?navigator.geolocation.getCurrentPosition(r=>{t({latitude:r.coords.latitude,longitude:r.coords.longitude})},r=>{e(r)}):e(new Error("Geolocation not supported"))})},o1={report:(t,e={})=>{at()&&uni.reportAnalytics?uni.reportAnalytics(t,e):console.log("Analytics:",t,e)}},Ml={navigateTo:t=>{at()?uni.navigateTo({url:t}):typeof window<"u"&&window.__VUE_ROUTER__?window.__VUE_ROUTER__.push(t):window.location.href=t},redirectTo:t=>{at()?uni.redirectTo({url:t}):typeof window<"u"&&window.__VUE_ROUTER__?window.__VUE_ROUTER__.replace(t):window.location.replace(t)},goBack:(t=1)=>{at()?uni.navigateBack({delta:t,fail:()=>{uni.switchTab({url:"/pages/sales/index"})}}):typeof window<"u"&&window.__VUE_ROUTER__?window.__VUE_ROUTER__.go(-t):window.history.go(-t)},switchTab:t=>{at()?uni.switchTab({url:t}):Ml.navigateTo(t)},reLaunch:t=>{at()?uni.reLaunch({url:t}):window.location.href=t}},ws=Ds("auth",()=>{const t=ue(null),e=ue(null),r=ue(!1),s=ue(null),n=Ce(()=>!!e.value&&!!t.value),i=Ce(()=>{var g;return((g=t.value)==null?void 0:g.role)==="admin"}),o=Ce(()=>{var g,b;return((g=t.value)==null?void 0:g.name)||((b=t.value)==null?void 0:b.username)||""});async function a(g){var b;r.value=!0,s.value=null;try{const p=await Ye.login(g);return p.success&&p.data?(t.value={id:p.data.user.id,username:p.data.user.username,role:p.data.user.role,name:p.data.user.name,is_active:!0,created_at:new Date().toISOString()},e.value=p.data.access_token,wt.setItem("auth_token",p.data.access_token),wt.setJSON("auth_user",t.value),{success:!0}):(s.value=((b=p.error)==null?void 0:b.message)||"登录失败",{success:!1,error:s.value})}catch{return s.value="网络错误，请稍后重试",{success:!1,error:s.value}}finally{r.value=!1}}async function c(){r.value=!0,s.value=null;try{await Ye.logout()}catch(g){console.error("Logout error:",g)}finally{t.value=null,e.value=null,wt.removeItem("auth_token"),wt.removeItem("auth_user"),r.value=!1,Ml.reLaunch("/admin/login")}}async function l(){try{const g=await Ye.refreshToken();return g.success&&g.data?(e.value=g.data.access_token,wt.setItem("auth_token",g.data.access_token),!0):!1}catch(g){return console.error("Refresh token error:",g),!1}}async function u(){const g=wt.getItem("auth_token"),b=wt.getJSON("auth_user");if(g&&b){e.value=g,t.value=b;const p=await Ye.getCurrentUser();return p.success&&p.data?(t.value=p.data,!0):(await c(),!1)}return!1}async function f(g,b){var p;r.value=!0,s.value=null;try{const x=await Ye.changePassword(g,b);return x.success?{success:!0}:(s.value=((p=x.error)==null?void 0:p.message)||"修改密码失败",{success:!1,error:s.value})}catch{return s.value="网络错误，请稍后重试",{success:!1,error:s.value}}finally{r.value=!1}}async function h(g){var p;const b=await a(g);return b.success&&((p=t.value)==null?void 0:p.role)!=="admin"?(s.value="权限不足，请使用管理员账号登录",await c(),{success:!1,error:s.value}):b}async function d(){try{const g=await Ye.getCurrentUser();return g.success&&g.data&&(t.value=g.data,wt.setJSON("auth_user",g.data)),g}catch(g){return console.error("Get current user error:",g),{success:!1,error:{message:"获取用户信息失败"}}}}async function v(){await u()}async function m(){e.value&&!t.value&&await d()}return{user:t,token:e,isLoading:r,error:s,isAuthenticated:n,isAdmin:i,userName:o,login:a,loginAdmin:h,logout:c,refreshToken:l,checkAuth:u,getCurrentUser:d,initializeAuth:v,checkAuthStatus:m,updatePassword:f}}),Ya={PUBLIC:["pages/sales/index","pages/sales/quote/create","pages/sales/quote/preview","pages/sales/history/index","pages/sales/history/detail","pages/admin/login/index"],AUTHENTICATED:["pages/admin/dashboard/index"],MANAGER:["pages/admin/quotes/index","pages/admin/quotes/detail","pages/admin/products/index","pages/admin/products/edit","pages/admin/customers/index","pages/admin/customers/detail","pages/admin/customers/edit"],ADMIN_ONLY:["pages/admin/users/index","pages/admin/users/edit","pages/admin/logs/index","pages/admin/settings/index"]},wp={admin:["PUBLIC","AUTHENTICATED","MANAGER","ADMIN_ONLY"],sales_manager:["PUBLIC","AUTHENTICATED","MANAGER"],sales_rep:["PUBLIC","AUTHENTICATED"],viewer:["PUBLIC","AUTHENTICATED"]};function bp(t,e){if(Ya.PUBLIC.includes(e))return!0;if(!t)return!1;const r=wp[t.role]||[];for(const[s,n]of Object.entries(Ya))if(n.includes(e))return r.includes(s);return!1}function Ep(t,e){return t?"/pages/admin/dashboard/index":"/pages/admin/login/index"}async function Ns(t){try{const e=ws();if(!e.user&&e.token&&!(await e.getCurrentUser()).success)return e.logout(),{allowed:!1,redirectTo:"/pages/admin/login/index",reason:"Session expired"};const r=e.user;return bp(r,t)?{allowed:!0}:{allowed:!1,redirectTo:Ep(r,t),reason:r?"Insufficient permissions":"Authentication required"}}catch(e){return console.error("Route guard error:",e),{allowed:!1,redirectTo:"/pages/admin/login/index",reason:"Route guard error"}}}function a1(t){const r=ws().user;return r?({user_management:["admin"],system_settings:["admin"],user_roles:["admin"],system_logs:["admin","sales_manager"],product_management:["admin","sales_manager"],customer_management:["admin","sales_manager"],quote_approval:["admin","sales_manager"],quote_export:["admin","sales_manager"],dashboard_access:["admin","sales_manager","sales_rep","viewer"]}[t]||[]).includes(r.role):!1}function Cp(){const t=uni.navigateTo,e=uni.redirectTo,r=uni.reLaunch,s=uni.switchTab;uni.navigateTo=async function(n){const i=n.url.split("?")[0],o=i.startsWith("/")?i.substring(1):i,a=await Ns(o);return a.allowed?t.call(this,n):(console.warn(`Route access denied: ${o} - ${a.reason}`),a.redirectTo?(uni.showToast({title:a.reason||"访问被拒绝",icon:"none",duration:2e3}),e.call(this,{url:a.redirectTo})):Promise.reject(new Error(a.reason)))},uni.redirectTo=async function(n){const i=n.url.split("?")[0],o=i.startsWith("/")?i.substring(1):i,a=await Ns(o);return!a.allowed&&a.redirectTo&&(console.warn(`Route access denied: ${o} - ${a.reason}`),n.url=a.redirectTo),e.call(this,n)},uni.reLaunch=async function(n){const i=n.url.split("?")[0],o=i.startsWith("/")?i.substring(1):i,a=await Ns(o);return!a.allowed&&a.redirectTo&&(console.warn(`Route access denied: ${o} - ${a.reason}`),n.url=a.redirectTo),r.call(this,n)},uni.switchTab=async function(n){const i=n.url.split("?")[0],o=i.startsWith("/")?i.substring(1):i,a=await Ns(o);return a.allowed?s.call(this,n):(console.warn(`Tab access denied: ${o} - ${a.reason}`),uni.showToast({title:a.reason||"访问被拒绝",icon:"none"}),Promise.reject(new Error(a.reason)))}}class ot{static async getProducts(e){return we.request("GET","products",{query:{...e,is_active:!0},select:"*, skus:product_skus(*)"})}static async getProduct(e){return we.request("GET","products",{id:e,select:"*, skus:product_skus(*)"})}static async createProduct(e){return we.request("POST","products",{data:e})}static async updateProduct(e,r){return we.request("PUT","products",{id:e,data:{...r,updated_at:new Date().toISOString()}})}static async deleteProduct(e){return we.request("DELETE","products",{id:e})}static async getProductSkus(e){return we.request("GET","product_skus",{query:{product_id:e,is_active:!0}})}static async getAccessories(e){return we.request("GET","accessories",{query:{...e,is_active:!0}})}static async getAccessory(e){return we.request("GET","accessories",{id:e})}static async createAccessory(e){return we.request("POST","accessories",{data:e})}static async updateAccessory(e,r){return we.request("PUT","accessories",{id:e,data:{...r,updated_at:new Date().toISOString()}})}static async deleteAccessory(e){return we.request("DELETE","accessories",{id:e})}static async searchProducts(e){const{data:r,error:s}=await be.from("products").select("*, skus:product_skus(*)").or(`name.ilike.%${e}%,model.ilike.%${e}%`).eq("is_active",!0).limit(20);return s?we.handleError(s):{success:!0,data:r||[]}}}class Ue{static async getQuotes(e){return we.request("GET","quotes",{query:e,select:`
        *,
        customer:customers(*),
        sales:users(*),
        items:quote_items(*)
      `})}static async getQuote(e){return we.request("GET","quotes",{id:e,select:`
        *,
        customer:customers(*),
        sales:users(*),
        items:quote_items(*)
      `})}static async createQuote(e){try{let r;const{data:s}=await be.from("customers").select("id").eq("phone",e.customer.phone).single();if(s)r=s.id,await be.from("customers").update({...e.customer,updated_at:new Date().toISOString()}).eq("id",r);else{const{data:f,error:h}=await be.from("customers").insert(e.customer).select().single();if(h)throw h;r=f.id}const{data:n,error:i}=await be.functions.invoke("generate-quote-no");if(i)throw i;const o=e.items.reduce((f,h)=>f+h.total_price,0),{data:a,error:c}=await be.from("quotes").insert({quote_no:n.quote_no,customer_id:r,total_price:o,status:"pending",remark:e.remark}).select().single();if(c)throw c;const l=e.items.map(f=>({...f,quote_id:a.id})),{error:u}=await be.from("quote_items").insert(l);if(u)throw u;return this.getQuote(a.id)}catch(r){return we.handleError(r)}}static async updateQuote(e,r){return we.request("PUT","quotes",{id:e,data:{...r,updated_at:new Date().toISOString()}})}static async deleteQuote(e){return we.request("DELETE","quotes",{id:e})}static async getQuotesByPhone(e){try{const{data:r,error:s}=await be.from("customers").select("id").eq("phone",e);if(s)throw s;if(!r||r.length===0)return{success:!0,data:[]};const n=r.map(a=>a.id),{data:i,error:o}=await be.from("quotes").select(`
          *,
          customer:customers(*),
          sales:users(*),
          items:quote_items(*)
        `).in("customer_id",n).order("created_at",{ascending:!1});if(o)throw o;return{success:!0,data:i||[]}}catch(r){return we.handleError(r)}}static async approveQuote(e){return this.updateQuote(e,{status:"approved"})}static async rejectQuote(e,r){return this.updateQuote(e,{status:"rejected",remark:r})}static async exportQuotes(e){try{const{data:r,error:s}=await be.functions.invoke("export-quotes",{body:e});if(s)throw s;return{success:!0,data:r}}catch(r){return we.handleError(r)}}}class ke{static async getProducts(e){return ot.getProducts(e)}static async getProduct(e){return ot.getProduct(e)}static async getAccessories(e){return ot.getAccessories(e)}static async searchProducts(e){return ot.searchProducts(e)}static async getQuotes(e){return Ue.getQuotes(e)}static async getQuote(e){return Ue.getQuote(e)}static async getQuotesByPhone(e){return Ue.getQuotesByPhone(e)}static async createQuote(e){return Ue.createQuote(e)}static async updateQuote(e,r){return Ue.updateQuote(e,r)}static async deleteQuote(e){return Ue.deleteQuote(e)}static async approveQuote(e){return Ue.approveQuote(e)}static async rejectQuote(e,r){return Ue.rejectQuote(e,r)}static async login(e){return Ye.login(e)}static async logout(){return Ye.logout()}static async getCurrentUser(){return Ye.getCurrentUser()}static async refreshToken(){return Ye.refreshToken()}static async changePassword(e,r){return Ye.changePassword(e,r)}static isAuthenticated(){return Ye.isAuthenticated()}static getAuthToken(){return Ye.getAuthToken()}static async getSalesStats(e){try{const{data:r,error:s}=await Ue.getQuotes({...e,startDate:e==null?void 0:e.startDate,endDate:e==null?void 0:e.endDate});if(s||!r)return{success:!1,error:{code:"FETCH_ERROR",message:"获取统计数据失败"}};const n=r;return{success:!0,data:{totalQuotes:n.length,totalAmount:n.reduce((o,a)=>o+(a.total_price||0),0),approvedQuotes:n.filter(o=>o.status==="approved").length,pendingQuotes:n.filter(o=>o.status==="pending").length,rejectedQuotes:n.filter(o=>o.status==="rejected").length}}}catch{return{success:!1,error:{code:"CALCULATION_ERROR",message:"计算统计数据失败"}}}}static async exportQuotes(e){return Ue.exportQuotes(e)}static async uploadFile(e,r="attachments",s){const n=s||`uploads/${Date.now()}_${Math.random().toString(36).substr(2,9)}`;return we.uploadFile(e,r,n)}static async healthCheck(){var e;try{const s=(await ot.getProducts({limit:1})).success,n=await Ye.getCurrentUser(),i=n.success||((e=n.error)==null?void 0:e.code)!=="SERVER_ERROR",o=!0;return{success:!0,data:{status:s&&i&&o?"healthy":"unhealthy",timestamp:new Date().toISOString(),services:{database:s,auth:i,storage:o}}}}catch{return{success:!1,error:{code:"HEALTH_CHECK_FAILED",message:"健康检查失败"}}}}}const c1=Object.freeze(Object.defineProperty({__proto__:null,ApiService:ke,default:ke},Symbol.toStringTag,{value:"Module"})),Ap=Ds("customers",()=>{const t=ue([]),e=ue(null),r=ue(0),s=ue(!1),n=ue(null),i=Ce(()=>{const E={total:t.value.length,individual:0,business:0,active:0,inactive:0,potential:0,blacklist:0,walk_in:0,referral:0,online:0,phone:0,exhibition:0,other:0,total_revenue:0,average_quote_value:0,active_customers_with_quotes:0};return t.value.forEach(k=>{switch(k.customer_type==="individual"?E.individual++:E.business++,k.status){case"active":E.active++;break;case"inactive":E.inactive++;break;case"potential":E.potential++;break;case"blacklist":E.blacklist++;break}switch(k.source){case"walk_in":E.walk_in++;break;case"referral":E.referral++;break;case"online":E.online++;break;case"phone":E.phone++;break;case"exhibition":E.exhibition++;break;case"other":E.other++;break}k.total_amount&&(E.total_revenue+=k.total_amount,k.total_quotes&&k.total_quotes>0&&E.active_customers_with_quotes++)}),E.active_customers_with_quotes>0&&(E.average_quote_value=E.total_revenue/E.active_customers_with_quotes),E});async function o(E={}){s.value=!0,n.value=null;try{const k=await ke.get("/api/customers",{params:{page:E.page||1,pageSize:E.pageSize||20,search:E.search,customer_type:E.customer_type,status:E.status,source:E.source,city:E.city,district:E.district,sortBy:E.sortBy||"created_at",sortOrder:E.sortOrder||"desc",startDate:E.startDate,endDate:E.endDate,hasQuotes:E.hasQuotes,minAmount:E.minAmount,maxAmount:E.maxAmount,lastQuoteBefore:E.lastQuoteBefore,lastQuoteAfter:E.lastQuoteAfter}});t.value=k.data.data,r.value=k.data.total}catch(k){n.value=k.message||"获取客户列表失败",console.error("Failed to fetch customers:",k)}finally{s.value=!1}}async function a(E,k=!0,w=!0){s.value=!0,n.value=null;try{const A=await ke.get(`/api/customers/${E}`,{params:{include_quotes:k,include_activities:w}});return e.value=A.data,A.data}catch(A){throw n.value=A.message||"获取客户详情失败",console.error("Failed to fetch customer:",A),A}finally{s.value=!1}}async function c(E){s.value=!0,n.value=null;try{const k=await ke.post("/api/customers",E);return t.value.unshift(k.data),r.value++,k.data}catch(k){throw n.value=k.message||"创建客户失败",console.error("Failed to create customer:",k),k}finally{s.value=!1}}async function l(E,k){var w;s.value=!0,n.value=null;try{const A=await ke.put(`/api/customers/${E}`,k),y=t.value.findIndex(T=>T.id===E);return y!==-1&&(t.value[y]={...t.value[y],...A.data}),((w=e.value)==null?void 0:w.id)===E&&(e.value={...e.value,...A.data}),A.data}catch(A){throw n.value=A.message||"更新客户失败",console.error("Failed to update customer:",A),A}finally{s.value=!1}}async function u(E){s.value=!0,n.value=null;try{await ke.delete(`/api/customers/${E}`),t.value=t.value.filter(k=>k.id!==E),r.value--}catch(k){throw n.value=k.message||"删除客户失败",console.error("Failed to delete customer:",k),k}finally{s.value=!1}}async function f(E,k){return l(E,{status:k})}async function h(E){s.value=!0,n.value=null;try{return(await ke.get("/api/customers/search",{params:{phone:E}})).data}catch(k){throw n.value=k.message||"搜索客户失败",console.error("Failed to search customers:",k),k}finally{s.value=!1}}async function d(E,k=1,w=10){s.value=!0,n.value=null;try{return(await ke.get(`/api/customers/${E}/quotes`,{params:{page:k,pageSize:w}})).data}catch(A){throw n.value=A.message||"获取客户报价记录失败",console.error("Failed to fetch customer quotes:",A),A}finally{s.value=!1}}async function v(E,k=1,w=20){s.value=!0,n.value=null;try{return(await ke.get(`/api/customers/${E}/activities`,{params:{page:k,pageSize:w}})).data}catch(A){throw n.value=A.message||"获取客户活动记录失败",console.error("Failed to fetch customer activities:",A),A}finally{s.value=!1}}async function m(E,k){var w;s.value=!0,n.value=null;try{const A=await ke.post(`/api/customers/${E}/activities`,k);return((w=e.value)==null?void 0:w.id)===E&&e.value.recent_activities&&e.value.recent_activities.unshift(A.data),A.data}catch(A){throw n.value=A.message||"添加客户活动记录失败",console.error("Failed to add customer activity:",A),A}finally{s.value=!1}}async function g(E={}){s.value=!0,n.value=null;try{const k=await ke.get("/api/customers/export",{params:{...E,format:E.format||"excel"},responseType:"blob"}),w=new Blob([k.data],{type:E.format==="csv"?"text/csv":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),A=window.URL.createObjectURL(w),y=document.createElement("a");y.href=A;const T=`customers_${new Date().toISOString().split("T")[0]}.${E.format||"xlsx"}`;y.download=T,y.click(),window.URL.revokeObjectURL(A)}catch(k){throw n.value=k.message||"导出客户数据失败",console.error("Failed to export customers:",k),k}finally{s.value=!1}}async function b(E,k){s.value=!0,n.value=null;try{const w=await ke.post("/api/customers/merge",{primary_customer_id:E,duplicate_customer_id:k});t.value=t.value.filter(y=>y.id!==k),r.value--;const A=t.value.findIndex(y=>y.id===E);return A!==-1&&(t.value[A]=w.data),w.data}catch(w){throw n.value=w.message||"合并客户失败",console.error("Failed to merge customers:",w),w}finally{s.value=!1}}async function p(){s.value=!0,n.value=null;try{return(await ke.get("/api/customers/statistics")).data}catch(E){throw n.value=E.message||"获取客户统计失败",console.error("Failed to fetch customer statistics:",E),E}finally{s.value=!1}}function x(){n.value=null}function _(){e.value=null}function B(E){return t.value.find(k=>k.phone===E)}function D(E){return E.customer_type==="business"&&E.company?`${E.company} (${E.name})`:E.name}function F(E){return E.status==="active"}return{customers:t,currentCustomer:e,totalCount:r,loading:s,error:n,statistics:i,fetchCustomers:o,fetchCustomerById:a,createCustomer:c,updateCustomer:l,deleteCustomer:u,updateCustomerStatus:f,searchCustomersByPhone:h,getCustomerQuotes:d,getCustomerActivities:v,addCustomerActivity:m,exportCustomers:g,mergeCustomers:b,getCustomerStatistics:p,clearError:x,clearCurrentCustomer:_,findCustomerByPhone:B,getCustomerDisplayName:D,isCustomerActive:F}}),Sp=Ds("products",()=>{const t=ue([]),e=ue([]),r=ue(null),s=ue(null),n=ue(!1),i=ue(null),o=ue(1),a=ue(20),c=ue(0),l=ue(""),u=ue(""),f=ue(null),h=Ce(()=>Math.ceil(c.value/a.value)),d=Ce(()=>t.value.filter(w=>w.is_active)),v=Ce(()=>{const w=new Set;return t.value.forEach(A=>{A.category&&w.add(A.category)}),Array.from(w).sort()}),m=Ce(()=>{let w=[...t.value];if(l.value){const A=l.value.toLowerCase();w=w.filter(y=>{var T;return y.name.toLowerCase().includes(A)||y.model.toLowerCase().includes(A)||((T=y.description)==null?void 0:T.toLowerCase().includes(A))})}return u.value&&(w=w.filter(A=>A.category===u.value)),f.value!==null&&(w=w.filter(A=>A.is_active===f.value)),w});async function g(w){var A,y;n.value=!0,i.value=null;try{const T={page:o.value,page_size:a.value,...w},P=await ot.getProducts(T);P.success&&P.data?(t.value=P.data,c.value=((A=P.pagination)==null?void 0:A.total)||P.data.length):i.value=((y=P.error)==null?void 0:y.message)||"获取产品列表失败"}catch(T){i.value="网络错误，请稍后重试",console.error("Fetch products error:",T)}finally{n.value=!1}}async function b(w){var A;n.value=!0,i.value=null;try{const y=await ot.getProduct(w);return y.success&&y.data?(r.value=y.data,y.data):(i.value=((A=y.error)==null?void 0:A.message)||"获取产品详情失败",null)}catch(y){return i.value="网络错误，请稍后重试",console.error("Fetch product error:",y),null}finally{n.value=!1}}async function p(w){var A;n.value=!0,i.value=null;try{const y=await ot.createProduct(w);return y.success&&y.data?(t.value.unshift(y.data),c.value++,{success:!0,data:y.data}):(i.value=((A=y.error)==null?void 0:A.message)||"创建产品失败",{success:!1,error:i.value})}catch(y){return i.value="网络错误，请稍后重试",console.error("Create product error:",y),{success:!1,error:i.value}}finally{n.value=!1}}async function x(w,A){var y,T;n.value=!0,i.value=null;try{const P=await ot.updateProduct(w,A);if(P.success&&P.data){const W=t.value.findIndex(M=>M.id===w);return W>-1&&(t.value[W]=P.data),((y=r.value)==null?void 0:y.id)===w&&(r.value=P.data),{success:!0,data:P.data}}else return i.value=((T=P.error)==null?void 0:T.message)||"更新产品失败",{success:!1,error:i.value}}catch(P){return i.value="网络错误，请稍后重试",console.error("Update product error:",P),{success:!1,error:i.value}}finally{n.value=!1}}async function _(w){var A;n.value=!0,i.value=null;try{const y=await ot.deleteProduct(w);return y.success?(t.value=t.value.filter(T=>T.id!==w),c.value--,{success:!0}):(i.value=((A=y.error)==null?void 0:A.message)||"删除产品失败",{success:!1,error:i.value})}catch(y){return i.value="网络错误，请稍后重试",console.error("Delete product error:",y),{success:!1,error:i.value}}finally{n.value=!1}}async function B(w){var A;n.value=!0,i.value=null;try{const y=await ot.getAccessories(w);y.success&&y.data?e.value=y.data:i.value=((A=y.error)==null?void 0:A.message)||"获取配件列表失败"}catch(y){i.value="网络错误，请稍后重试",console.error("Fetch accessories error:",y)}finally{n.value=!1}}async function D(w){var A;if(!w.trim())return{success:!0,data:[]};n.value=!0,i.value=null;try{const y=await ot.searchProducts(w);return y.success?{success:!0,data:y.data||[]}:(i.value=((A=y.error)==null?void 0:A.message)||"搜索产品失败",{success:!1,error:i.value,data:[]})}catch(y){return i.value="网络错误，请稍后重试",console.error("Search products error:",y),{success:!1,error:i.value,data:[]}}finally{n.value=!1}}function F(){l.value="",u.value="",f.value=null,o.value=1}function E(w){o.value=w,g()}function k(w){a.value=w,o.value=1,g()}return{products:t,accessories:e,currentProduct:r,currentAccessory:s,isLoading:n,error:i,currentPage:o,pageSize:a,total:c,totalPages:h,searchKeyword:l,categoryFilter:u,statusFilter:f,activeProducts:d,productCategories:v,filteredProducts:m,fetchProducts:g,fetchProduct:b,createProduct:p,updateProduct:x,deleteProduct:_,fetchAccessories:B,searchProducts:D,resetFilters:F,setPage:E,setPageSize:k}}),Bp=Ds("quotes",()=>{const t=ue([]),e=ue(null),r=ue(!1),s=ue(null),n=ue(1),i=ue(20),o=ue(0),a=ue(""),c=ue(""),l=ue(null),u=ue(""),f=Ce(()=>Math.ceil(o.value/i.value)),h=Ce(()=>t.value.filter(y=>y.status==="pending")),d=Ce(()=>t.value.filter(y=>y.status==="approved")),v=Ce(()=>t.value.filter(y=>y.status==="rejected")),m=Ce(()=>t.value.reduce((y,T)=>y+T.total_price,0)),g=Ce(()=>{let y=[...t.value];if(a.value){const T=a.value.toLowerCase();y=y.filter(P=>{var W,M,V,Y;return P.quote_no.toLowerCase().includes(T)||((M=(W=P.customer)==null?void 0:W.name)==null?void 0:M.toLowerCase().includes(T))||((Y=(V=P.customer)==null?void 0:V.phone)==null?void 0:Y.includes(T))})}if(c.value&&(y=y.filter(T=>T.status===c.value)),l.value){const[T,P]=l.value;y=y.filter(W=>{const M=new Date(W.created_at);return M>=new Date(T)&&M<=new Date(P)})}return y});async function b(y){var T,P;r.value=!0,s.value=null;try{const W={page:n.value,page_size:i.value,sort_by:"created_at",sort_order:"desc",...y},M=await Ue.getQuotes(W);M.success&&M.data?(t.value=M.data,o.value=((T=M.pagination)==null?void 0:T.total)||M.data.length):s.value=((P=M.error)==null?void 0:P.message)||"获取报价单列表失败"}catch(W){s.value="网络错误，请稍后重试",console.error("Fetch quotes error:",W)}finally{r.value=!1}}async function p(y){var T;r.value=!0,s.value=null;try{const P=await Ue.getQuote(y);return P.success&&P.data?(e.value=P.data,P.data):(s.value=((T=P.error)==null?void 0:T.message)||"获取报价单详情失败",null)}catch(P){return s.value="网络错误，请稍后重试",console.error("Fetch quote error:",P),null}finally{r.value=!1}}async function x(y){var T,P;r.value=!0,s.value=null;try{const W=await Ue.approveQuote(y);if(W.success&&W.data){const M=t.value.findIndex(V=>V.id===y);return M>-1&&(t.value[M]=W.data),((T=e.value)==null?void 0:T.id)===y&&(e.value=W.data),{success:!0,data:W.data}}else return s.value=((P=W.error)==null?void 0:P.message)||"审批失败",{success:!1,error:s.value}}catch(W){return s.value="网络错误，请稍后重试",console.error("Approve quote error:",W),{success:!1,error:s.value}}finally{r.value=!1}}async function _(y,T){var P,W;r.value=!0,s.value=null;try{const M=await Ue.rejectQuote(y,T);if(M.success&&M.data){const V=t.value.findIndex(Y=>Y.id===y);return V>-1&&(t.value[V]=M.data),((P=e.value)==null?void 0:P.id)===y&&(e.value=M.data),{success:!0,data:M.data}}else return s.value=((W=M.error)==null?void 0:W.message)||"拒绝失败",{success:!1,error:s.value}}catch(M){return s.value="网络错误，请稍后重试",console.error("Reject quote error:",M),{success:!1,error:s.value}}finally{r.value=!1}}async function B(y){var T;r.value=!0,s.value=null;try{const P=await Ue.deleteQuote(y);return P.success?(t.value=t.value.filter(W=>W.id!==y),o.value--,{success:!0}):(s.value=((T=P.error)==null?void 0:T.message)||"删除报价单失败",{success:!1,error:s.value})}catch(P){return s.value="网络错误，请稍后重试",console.error("Delete quote error:",P),{success:!1,error:s.value}}finally{r.value=!1}}async function D(y){var T;r.value=!0,s.value=null;try{const P=await Ue.exportQuotes(y);if(P.success&&P.data){const W=P.data,M=window.URL.createObjectURL(W),V=document.createElement("a");return V.href=M,V.download=`quotes_${y.startDate}_${y.endDate}.xlsx`,document.body.appendChild(V),V.click(),window.URL.revokeObjectURL(M),document.body.removeChild(V),{success:!0}}else return s.value=((T=P.error)==null?void 0:T.message)||"导出失败",{success:!1,error:s.value}}catch(P){return s.value="网络错误，请稍后重试",console.error("Export quotes error:",P),{success:!1,error:s.value}}finally{r.value=!1}}async function F(y){var T;if(!y.trim())return{success:!0,data:[]};r.value=!0,s.value=null;try{const P=await Ue.getQuotesByPhone(y);return P.success?{success:!0,data:P.data||[]}:(s.value=((T=P.error)==null?void 0:T.message)||"搜索失败",{success:!1,error:s.value,data:[]})}catch(P){return s.value="网络错误，请稍后重试",console.error("Search quotes by phone error:",P),{success:!1,error:s.value,data:[]}}finally{r.value=!1}}function E(){a.value="",c.value="",l.value=null,u.value="",n.value=1}function k(y){n.value=y,b()}function w(y){i.value=y,n.value=1,b()}function A(){const y=t.value.length,T=h.value.length,P=d.value.length,W=v.value.length,M=m.value,V=h.value.reduce((le,ae)=>le+ae.total_price,0),Y=d.value.reduce((le,ae)=>le+ae.total_price,0);return{counts:{total:y,pending:T,approved:P,rejected:W},amounts:{total:M,pending:V,approved:Y}}}return{quotes:t,currentQuote:e,isLoading:r,error:s,currentPage:n,pageSize:i,total:o,totalPages:f,searchKeyword:a,statusFilter:c,dateRange:l,customerPhone:u,pendingQuotes:h,approvedQuotes:d,rejectedQuotes:v,totalQuotesAmount:m,filteredQuotes:g,fetchQuotes:b,fetchQuote:p,approveQuote:x,rejectQuote:_,deleteQuote:B,exportQuotes:D,searchByPhone:F,resetFilters:E,setPage:k,setPageSize:w,getQuoteStats:A}}),Dp=Ds("users",()=>{const t=ue([]),e=ue(null),r=ue(0),s=ue(!1),n=ue(null),i=Ce(()=>{const p={total:t.value.length,active:0,inactive:0,admin:0,sales_manager:0,sales_rep:0,viewer:0};return t.value.forEach(x=>{switch(x.status==="active"?p.active++:p.inactive++,x.role){case"admin":p.admin++;break;case"sales_manager":p.sales_manager++;break;case"sales_rep":p.sales_rep++;break;case"viewer":p.viewer++;break}}),p});async function o(p={}){s.value=!0,n.value=null;try{const x=await ke.get("/api/users",{params:{page:p.page||1,pageSize:p.pageSize||20,search:p.search,role:p.role,status:p.status,department:p.department,sortBy:p.sortBy||"created_at",sortOrder:p.sortOrder||"desc"}});t.value=x.data.data,r.value=x.data.total}catch(x){n.value=x.message||"获取用户列表失败",console.error("Failed to fetch users:",x)}finally{s.value=!1}}async function a(p){s.value=!0,n.value=null;try{const x=await ke.get(`/api/users/${p}`);return e.value=x.data,x.data}catch(x){throw n.value=x.message||"获取用户详情失败",console.error("Failed to fetch user:",x),x}finally{s.value=!1}}async function c(p){s.value=!0,n.value=null;try{const x=await ke.post("/api/users",p);return t.value.unshift(x.data),r.value++,x.data}catch(x){throw n.value=x.message||"创建用户失败",console.error("Failed to create user:",x),x}finally{s.value=!1}}async function l(p,x){var _;s.value=!0,n.value=null;try{const B=await ke.put(`/api/users/${p}`,x),D=t.value.findIndex(F=>F.id===p);return D!==-1&&(t.value[D]=B.data),((_=e.value)==null?void 0:_.id)===p&&(e.value=B.data),B.data}catch(B){throw n.value=B.message||"更新用户失败",console.error("Failed to update user:",B),B}finally{s.value=!1}}async function u(p){s.value=!0,n.value=null;try{await ke.delete(`/api/users/${p}`),t.value=t.value.filter(x=>x.id!==p),r.value--}catch(x){throw n.value=x.message||"删除用户失败",console.error("Failed to delete user:",x),x}finally{s.value=!1}}async function f(p){return l(p,{status:"active"})}async function h(p){return l(p,{status:"inactive"})}async function d(p,x){return l(p,{role:x})}async function v(p){s.value=!0,n.value=null;try{return(await ke.post(`/api/users/${p}/reset-password`)).data}catch(x){throw n.value=x.message||"重置密码失败",console.error("Failed to reset password:",x),x}finally{s.value=!1}}async function m(p,x){s.value=!0,n.value=null;try{return(await ke.post("/api/users/invite",{email:p,role:x})).data}catch(_){throw n.value=_.message||"邀请用户失败",console.error("Failed to invite user:",_),_}finally{s.value=!1}}async function g(p={}){s.value=!0,n.value=null;try{const x=await ke.get("/api/users/export",{params:p,responseType:"blob"}),_=new Blob([x.data],{type:"text/csv"}),B=window.URL.createObjectURL(_),D=document.createElement("a");D.href=B,D.download=`users_${new Date().toISOString().split("T")[0]}.csv`,D.click(),window.URL.revokeObjectURL(B)}catch(x){throw n.value=x.message||"导出用户失败",console.error("Failed to export users:",x),x}finally{s.value=!1}}function b(){n.value=null}return{users:t,currentUser:e,totalCount:r,loading:s,error:n,statistics:i,fetchUsers:o,fetchUserById:a,createUser:c,updateUser:l,deleteUser:u,activateUser:f,deactivateUser:h,updateUserRole:d,resetUserPassword:v,inviteUser:m,exportUsers:g,clearError:b}});class kp{constructor(){_t(this,"channels",new Map);_t(this,"isConnected",!1);_t(this,"reconnectAttempts",0);_t(this,"maxReconnectAttempts",5);_t(this,"reconnectDelay",1e3)}async initialize(){console.log("🔄 Initializing real-time service...");try{await this.subscribeToCustomers(),await this.subscribeToProducts(),await this.subscribeToQuotes(),await this.subscribeToUsers(),this.isConnected=!0,this.reconnectAttempts=0,console.log("✅ Real-time service initialized successfully")}catch(e){console.error("❌ Failed to initialize real-time service:",e),this.handleConnectionError()}}async subscribeToCustomers(){const e=be.channel("customers-channel").on("postgres_changes",{event:"*",schema:"public",table:"customers"},r=>this.handleCustomersChange(r)).subscribe(r=>{console.log("📊 Customers subscription status:",r)});this.channels.set("customers",e)}async subscribeToProducts(){const e=be.channel("products-channel").on("postgres_changes",{event:"*",schema:"public",table:"products"},r=>this.handleProductsChange(r)).subscribe(r=>{console.log("🛍️ Products subscription status:",r)});this.channels.set("products",e)}async subscribeToQuotes(){const e=be.channel("quotes-channel").on("postgres_changes",{event:"*",schema:"public",table:"quotes"},r=>this.handleQuotesChange(r)).subscribe(r=>{console.log("📄 Quotes subscription status:",r)});this.channels.set("quotes",e)}async subscribeToUsers(){const e=ws();if(!e.user||!["admin","sales_manager"].includes(e.user.role)){console.log("⚠️ User subscription skipped - insufficient permissions");return}const r=be.channel("users-channel").on("postgres_changes",{event:"*",schema:"public",table:"users"},s=>this.handleUsersChange(s)).subscribe(s=>{console.log("👥 Users subscription status:",s)});this.channels.set("users",r)}handleCustomersChange(e){var s,n;console.log("📊 Customer change detected:",e.eventType,e.new||e.old);const r=Ap();switch(e.eventType){case"INSERT":e.new&&(r.customers.unshift(e.new),r.totalCount++,this.showChangeNotification("客户","新增",e.new.name));break;case"UPDATE":if(e.new){const i=r.customers.findIndex(o=>o.id===e.new.id);i!==-1&&(r.customers[i]={...r.customers[i],...e.new}),((s=r.currentCustomer)==null?void 0:s.id)===e.new.id&&(r.currentCustomer={...r.currentCustomer,...e.new}),this.showChangeNotification("客户","更新",e.new.name)}break;case"DELETE":e.old&&(r.customers=r.customers.filter(i=>i.id!==e.old.id),r.totalCount--,((n=r.currentCustomer)==null?void 0:n.id)===e.old.id&&(r.currentCustomer=null),this.showChangeNotification("客户","删除",e.old.name));break}}handleProductsChange(e){var s,n;console.log("🛍️ Product change detected:",e.eventType,e.new||e.old);const r=Sp();switch(e.eventType){case"INSERT":e.new&&(r.products.unshift(e.new),r.total++,this.showChangeNotification("产品","新增",e.new.name));break;case"UPDATE":if(e.new){const i=r.products.findIndex(o=>o.id===e.new.id);i!==-1&&(r.products[i]={...r.products[i],...e.new}),((s=r.currentProduct)==null?void 0:s.id)===e.new.id&&(r.currentProduct={...r.currentProduct,...e.new}),this.showChangeNotification("产品","更新",e.new.name)}break;case"DELETE":e.old&&(r.products=r.products.filter(i=>i.id!==e.old.id),r.total--,((n=r.currentProduct)==null?void 0:n.id)===e.old.id&&(r.currentProduct=null),this.showChangeNotification("产品","删除",e.old.name));break}}handleQuotesChange(e){var s,n;console.log("📄 Quote change detected:",e.eventType,e.new||e.old);const r=Bp();switch(e.eventType){case"INSERT":e.new&&(r.quotes.unshift(e.new),r.totalCount++,this.showChangeNotification("报价单","新增",e.new.quote_no));break;case"UPDATE":if(e.new){const i=r.quotes.findIndex(o=>o.id===e.new.id);i!==-1&&(r.quotes[i]={...r.quotes[i],...e.new}),((s=r.currentQuote)==null?void 0:s.id)===e.new.id&&(r.currentQuote={...r.currentQuote,...e.new}),e.old&&e.old.status!==e.new.status?this.showStatusChangeNotification("报价单",e.new.quote_no,e.old.status,e.new.status):this.showChangeNotification("报价单","更新",e.new.quote_no)}break;case"DELETE":e.old&&(r.quotes=r.quotes.filter(i=>i.id!==e.old.id),r.totalCount--,((n=r.currentQuote)==null?void 0:n.id)===e.old.id&&(r.currentQuote=null),this.showChangeNotification("报价单","删除",e.old.quote_no));break}}handleUsersChange(e){var s,n;console.log("👥 User change detected:",e.eventType,e.new||e.old);const r=Dp();switch(e.eventType){case"INSERT":e.new&&(r.users.unshift(e.new),r.totalCount++,this.showChangeNotification("用户","新增",e.new.name||e.new.username));break;case"UPDATE":if(e.new){const i=r.users.findIndex(o=>o.id===e.new.id);i!==-1&&(r.users[i]={...r.users[i],...e.new}),((s=r.currentUser)==null?void 0:s.id)===e.new.id&&(r.currentUser={...r.currentUser,...e.new}),this.showChangeNotification("用户","更新",e.new.name||e.new.username)}break;case"DELETE":e.old&&(r.users=r.users.filter(i=>i.id!==e.old.id),r.totalCount--,((n=r.currentUser)==null?void 0:n.id)===e.old.id&&(r.currentUser=null),this.showChangeNotification("用户","删除",e.old.name||e.old.username));break}}showChangeNotification(e,r,s){var o;const n=getCurrentPages(),i=n[n.length-1];(o=i==null?void 0:i.route)!=null&&o.includes("/edit")||uni.showToast({title:`${e}${r}: ${s}`,icon:"none",duration:2e3})}showStatusChangeNotification(e,r,s,n){const i={pending:"待审批",approved:"已批准",rejected:"已拒绝",completed:"已完成",draft:"草稿",active:"活跃",inactive:"停用"},o=i[s]||s,a=i[n]||n;uni.showToast({title:`${e} ${r} 状态变更: ${o} → ${a}`,icon:"none",duration:3e3})}handleConnectionError(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,console.log(`🔄 Attempting to reconnect... (${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout(()=>{this.initialize()},this.reconnectDelay*this.reconnectAttempts)):(console.error("❌ Max reconnection attempts reached. Real-time updates disabled."),uni.showToast({title:"实时更新连接失败",icon:"none",duration:3e3}))}async disconnect(){console.log("🔌 Disconnecting real-time service...");for(const[e,r]of this.channels)await be.removeChannel(r),console.log(`📡 Unsubscribed from ${e}`);this.channels.clear(),this.isConnected=!1,console.log("✅ Real-time service disconnected")}async reconnect(){await this.disconnect(),await this.initialize()}getConnectionStatus(){return{isConnected:this.isConnected,channelCount:this.channels.size,channels:Array.from(this.channels.keys())}}async subscribeToTable(e,r){const s=`${e}-channel`;if(this.channels.has(s)){console.warn(`⚠️ Already subscribed to ${e}`);return}const n=be.channel(s).on("postgres_changes",{event:"*",schema:"public",table:e},r).subscribe(i=>{console.log(`📡 ${e} subscription status:`,i)});this.channels.set(s,n)}async unsubscribeFromTable(e){const r=`${e}-channel`,s=this.channels.get(r);s&&(await be.removeChannel(s),this.channels.delete(r),console.log(`📡 Unsubscribed from ${e}`))}}const Gr=new kp,Fp={class:"app-container"},Tp=Bo({__name:"App.standard",setup(t){return hn(async()=>{console.log("App Mounted"),Cp();const e=ws();await e.initializeAuth(),e.isAuthenticated&&await Gr.initialize()}),document.addEventListener("visibilitychange",async()=>{const e=ws();document.hidden?(console.log("App Hidden"),Gr.getConnectionStatus().isConnected&&await Gr.disconnect()):(console.log("App Shown"),await e.checkAuthStatus(),e.isAuthenticated&&!Gr.getConnectionStatus().isConnected&&await Gr.reconnect())}),dn(()=>{console.log("App Unmounted")}),(e,r)=>{const s=Cf("router-view");return Xs(),sh("div",Fp,[Ge(s)])}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Dr=typeof document<"u";function zl(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Rp(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&zl(t.default)}const _e=Object.assign;function Jn(t,e){const r={};for(const s in e){const n=e[s];r[s]=gt(n)?n.map(t):t(n)}return r}const us=()=>{},gt=Array.isArray,Wl=/#/g,Pp=/&/g,Op=/\//g,Ip=/=/g,$p=/\?/g,Kl=/\+/g,jp=/%5B/g,Lp=/%5D/g,Vl=/%5E/g,Up=/%60/g,Gl=/%7B/g,Np=/%7C/g,Ql=/%7D/g,qp=/%20/g;function jo(t){return encodeURI(""+t).replace(Np,"|").replace(jp,"[").replace(Lp,"]")}function Hp(t){return jo(t).replace(Gl,"{").replace(Ql,"}").replace(Vl,"^")}function ao(t){return jo(t).replace(Kl,"%2B").replace(qp,"+").replace(Wl,"%23").replace(Pp,"%26").replace(Up,"`").replace(Gl,"{").replace(Ql,"}").replace(Vl,"^")}function Mp(t){return ao(t).replace(Ip,"%3D")}function zp(t){return jo(t).replace(Wl,"%23").replace($p,"%3F")}function Wp(t){return t==null?"":zp(t).replace(Op,"%2F")}function bs(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Kp=/\/$/,Vp=t=>t.replace(Kp,"");function Xn(t,e,r="/"){let s,n={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),n=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=Xp(s??e,r),{fullPath:s+(i&&"?")+i+o,path:s,query:n,hash:bs(o)}}function Gp(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Za(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Qp(t,e,r){const s=e.matched.length-1,n=r.matched.length-1;return s>-1&&s===n&&Lr(e.matched[s],r.matched[n])&&Jl(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Lr(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Jl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!Jp(t[r],e[r]))return!1;return!0}function Jp(t,e){return gt(t)?ec(t,e):gt(e)?ec(e,t):t===e}function ec(t,e){return gt(e)?t.length===e.length&&t.every((r,s)=>r===e[s]):t.length===1&&t[0]===e}function Xp(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),s=t.split("/"),n=s[s.length-1];(n===".."||n===".")&&s.push("");let i=r.length-1,o,a;for(o=0;o<s.length;o++)if(a=s[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+s.slice(o).join("/")}const Ut={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Es;(function(t){t.pop="pop",t.push="push"})(Es||(Es={}));var fs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(fs||(fs={}));function Yp(t){if(!t)if(Dr){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Vp(t)}const Zp=/^[^#]+#/;function ev(t,e){return t.replace(Zp,"#")+e}function tv(t,e){const r=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-r.left-(e.left||0),top:s.top-r.top-(e.top||0)}}const Sn=()=>({left:window.scrollX,top:window.scrollY});function rv(t){let e;if("el"in t){const r=t.el,s=typeof r=="string"&&r.startsWith("#"),n=typeof r=="string"?s?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!n)return;e=tv(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function tc(t,e){return(history.state?history.state.position-e:-1)+t}const co=new Map;function sv(t,e){co.set(t,e)}function nv(t){const e=co.get(t);return co.delete(t),e}let iv=()=>location.protocol+"//"+location.host;function Xl(t,e){const{pathname:r,search:s,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,c=n.slice(a);return c[0]!=="/"&&(c="/"+c),Za(c,"")}return Za(r,t)+s+n}function ov(t,e,r,s){let n=[],i=[],o=null;const a=({state:h})=>{const d=Xl(t,location),v=r.value,m=e.value;let g=0;if(h){if(r.value=d,e.value=h,o&&o===v){o=null;return}g=m?h.position-m.position:0}else s(d);n.forEach(b=>{b(r.value,v,{delta:g,type:Es.pop,direction:g?g>0?fs.forward:fs.back:fs.unknown})})};function c(){o=r.value}function l(h){n.push(h);const d=()=>{const v=n.indexOf(h);v>-1&&n.splice(v,1)};return i.push(d),d}function u(){const{history:h}=window;h.state&&h.replaceState(_e({},h.state,{scroll:Sn()}),"")}function f(){for(const h of i)h();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function rc(t,e,r,s=!1,n=!1){return{back:t,current:e,forward:r,replaced:s,position:window.history.length,scroll:n?Sn():null}}function av(t){const{history:e,location:r}=window,s={value:Xl(t,r)},n={value:e.state};n.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const f=t.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:iv()+t+c;try{e[u?"replaceState":"pushState"](l,"",h),n.value=l}catch(d){console.error(d),r[u?"replace":"assign"](h)}}function o(c,l){const u=_e({},e.state,rc(n.value.back,c,n.value.forward,!0),l,{position:n.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=_e({},n.value,e.state,{forward:c,scroll:Sn()});i(u.current,u,!0);const f=_e({},rc(s.value,c,null),{position:u.position+1},l);i(c,f,!1),s.value=c}return{location:s,state:n,push:a,replace:o}}function cv(t){t=Yp(t);const e=av(t),r=ov(t,e.state,e.location,e.replace);function s(i,o=!0){o||r.pauseListeners(),history.go(i)}const n=_e({location:"",base:t,go:s,createHref:ev.bind(null,t)},e,r);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function lv(t){return typeof t=="string"||t&&typeof t=="object"}function Yl(t){return typeof t=="string"||typeof t=="symbol"}const Zl=Symbol("");var sc;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sc||(sc={}));function Ur(t,e){return _e(new Error,{type:t,[Zl]:!0},e)}function At(t,e){return t instanceof Error&&Zl in t&&(e==null||!!(t.type&e))}const nc="[^/]+?",uv={sensitive:!1,strict:!1,start:!0,end:!0},fv=/[.+*?^${}()[\]/\\]/g;function hv(t,e){const r=_e({},uv,e),s=[];let n=r.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];r.strict&&!l.length&&(n+="/");for(let f=0;f<l.length;f++){const h=l[f];let d=40+(r.sensitive?.25:0);if(h.type===0)f||(n+="/"),n+=h.value.replace(fv,"\\$&"),d+=40;else if(h.type===1){const{value:v,repeatable:m,optional:g,regexp:b}=h;i.push({name:v,repeatable:m,optional:g});const p=b||nc;if(p!==nc){d+=10;try{new RegExp(`(${p})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${v}" (${p}): `+_.message)}}let x=m?`((?:${p})(?:/(?:${p}))*)`:`(${p})`;f||(x=g&&l.length<2?`(?:/${x})`:"/"+x),g&&(x+="?"),n+=x,d+=20,g&&(d+=-8),m&&(d+=-20),p===".*"&&(d+=-50)}u.push(d)}s.push(u)}if(r.strict&&r.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}r.strict||(n+="/?"),r.end?n+="$":r.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const d=u[h]||"",v=i[h-1];f[v.name]=d&&v.repeatable?d.split("/"):d}return f}function c(l){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const d of h)if(d.type===0)u+=d.value;else if(d.type===1){const{value:v,repeatable:m,optional:g}=d,b=v in l?l[v]:"";if(gt(b)&&!m)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const p=gt(b)?b.join("/"):b;if(!p)if(g)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${v}"`);u+=p}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function dv(t,e){let r=0;for(;r<t.length&&r<e.length;){const s=e[r]-t[r];if(s)return s;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function eu(t,e){let r=0;const s=t.score,n=e.score;for(;r<s.length&&r<n.length;){const i=dv(s[r],n[r]);if(i)return i;r++}if(Math.abs(n.length-s.length)===1){if(ic(s))return 1;if(ic(n))return-1}return n.length-s.length}function ic(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xv={type:0,value:""},pv=/[a-zA-Z0-9_]/;function vv(t){if(!t)return[[]];if(t==="/")return[[xv]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${r})/"${l}": ${d}`)}let r=0,s=r;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,c,l="",u="";function f(){l&&(r===0?i.push({type:0,value:l}):r===1||r===2||r===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function h(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){s=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):h();break;case 4:h(),r=s;break;case 1:c==="("?r=2:pv.test(c)?h():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),n}function gv(t,e,r){const s=hv(vv(t.path),r),n=_e(s,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function _v(t,e){const r=[],s=new Map;e=lc({strict:!1,end:!0,sensitive:!1},e);function n(f){return s.get(f)}function i(f,h,d){const v=!d,m=ac(f);m.aliasOf=d&&d.record;const g=lc(e,f),b=[m];if("alias"in f){const _=typeof f.alias=="string"?[f.alias]:f.alias;for(const B of _)b.push(ac(_e({},m,{components:d?d.record.components:m.components,path:B,aliasOf:d?d.record:m})))}let p,x;for(const _ of b){const{path:B}=_;if(h&&B[0]!=="/"){const D=h.record.path,F=D[D.length-1]==="/"?"":"/";_.path=h.record.path+(B&&F+B)}if(p=gv(_,h,g),d?d.alias.push(p):(x=x||p,x!==p&&x.alias.push(p),v&&f.name&&!cc(p)&&o(f.name)),tu(p)&&c(p),m.children){const D=m.children;for(let F=0;F<D.length;F++)i(D[F],p,d&&d.children[F])}d=d||p}return x?()=>{o(x)}:us}function o(f){if(Yl(f)){const h=s.get(f);h&&(s.delete(f),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(f);h>-1&&(r.splice(h,1),f.record.name&&s.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function c(f){const h=wv(f,r);r.splice(h,0,f),f.record.name&&!cc(f)&&s.set(f.record.name,f)}function l(f,h){let d,v={},m,g;if("name"in f&&f.name){if(d=s.get(f.name),!d)throw Ur(1,{location:f});g=d.record.name,v=_e(oc(h.params,d.keys.filter(x=>!x.optional).concat(d.parent?d.parent.keys.filter(x=>x.optional):[]).map(x=>x.name)),f.params&&oc(f.params,d.keys.map(x=>x.name))),m=d.stringify(v)}else if(f.path!=null)m=f.path,d=r.find(x=>x.re.test(m)),d&&(v=d.parse(m),g=d.record.name);else{if(d=h.name?s.get(h.name):r.find(x=>x.re.test(h.path)),!d)throw Ur(1,{location:f,currentLocation:h});g=d.record.name,v=_e({},h.params,f.params),m=d.stringify(v)}const b=[];let p=d;for(;p;)b.unshift(p.record),p=p.parent;return{name:g,path:m,params:v,matched:b,meta:yv(b)}}t.forEach(f=>i(f));function u(){r.length=0,s.clear()}return{addRoute:i,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function oc(t,e){const r={};for(const s of e)s in t&&(r[s]=t[s]);return r}function ac(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:mv(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function mv(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const s in t.components)e[s]=typeof r=="object"?r[s]:r;return e}function cc(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function yv(t){return t.reduce((e,r)=>_e(e,r.meta),{})}function lc(t,e){const r={};for(const s in t)r[s]=s in e?e[s]:t[s];return r}function wv(t,e){let r=0,s=e.length;for(;r!==s;){const i=r+s>>1;eu(t,e[i])<0?s=i:r=i+1}const n=bv(t);return n&&(s=e.lastIndexOf(n,s-1)),s}function bv(t){let e=t;for(;e=e.parent;)if(tu(e)&&eu(t,e)===0)return e}function tu({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Ev(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<s.length;++n){const i=s[n].replace(Kl," "),o=i.indexOf("="),a=bs(o<0?i:i.slice(0,o)),c=o<0?null:bs(i.slice(o+1));if(a in e){let l=e[a];gt(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function uc(t){let e="";for(let r in t){const s=t[r];if(r=Mp(r),s==null){s!==void 0&&(e+=(e.length?"&":"")+r);continue}(gt(s)?s.map(i=>i&&ao(i)):[s&&ao(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function Cv(t){const e={};for(const r in t){const s=t[r];s!==void 0&&(e[r]=gt(s)?s.map(n=>n==null?null:""+n):s==null?s:""+s)}return e}const Av=Symbol(""),fc=Symbol(""),Bn=Symbol(""),Lo=Symbol(""),lo=Symbol("");function Qr(){let t=[];function e(s){return t.push(s),()=>{const n=t.indexOf(s);n>-1&&t.splice(n,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Wt(t,e,r,s,n,i=o=>o()){const o=s&&(s.enterCallbacks[n]=s.enterCallbacks[n]||[]);return()=>new Promise((a,c)=>{const l=h=>{h===!1?c(Ur(4,{from:r,to:e})):h instanceof Error?c(h):lv(h)?c(Ur(2,{from:e,to:h})):(o&&s.enterCallbacks[n]===o&&typeof h=="function"&&o.push(h),a())},u=i(()=>t.call(s&&s.instances[n],e,r,l));let f=Promise.resolve(u);t.length<3&&(f=f.then(l)),f.catch(h=>c(h))})}function Yn(t,e,r,s,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(zl(c)){const u=(c.__vccOpts||c)[e];u&&i.push(Wt(u,r,s,o,a,n))}else{let l=c();i.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=Rp(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const d=(f.__vccOpts||f)[e];return d&&Wt(d,r,s,o,a,n)()}))}}return i}function hc(t){const e=lt(Bn),r=lt(Lo),s=Ce(()=>{const c=Tr(t.to);return e.resolve(c)}),n=Ce(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const h=f.findIndex(Lr.bind(null,u));if(h>-1)return h;const d=dc(c[l-2]);return l>1&&dc(u)===d&&f[f.length-1].path!==d?f.findIndex(Lr.bind(null,c[l-2])):h}),i=Ce(()=>n.value>-1&&Fv(r.params,s.value.params)),o=Ce(()=>n.value>-1&&n.value===r.matched.length-1&&Jl(r.params,s.value.params));function a(c={}){if(kv(c)){const l=e[Tr(t.replace)?"replace":"push"](Tr(t.to)).catch(us);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:s,href:Ce(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}function Sv(t){return t.length===1?t[0]:t}const Bv=Bo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:hc,setup(t,{slots:e}){const r=As(hc(t)),{options:s}=lt(Bn),n=Ce(()=>({[xc(t.activeClass,s.linkActiveClass,"router-link-active")]:r.isActive,[xc(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&Sv(e.default(r));return t.custom?i:To("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:n.value},i)}}}),Dv=Bv;function kv(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Fv(t,e){for(const r in e){const s=e[r],n=t[r];if(typeof s=="string"){if(s!==n)return!1}else if(!gt(n)||n.length!==s.length||s.some((i,o)=>i!==n[o]))return!1}return!0}function dc(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const xc=(t,e,r)=>t??e??r,Tv=Bo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const s=lt(lo),n=Ce(()=>t.route||s.value),i=lt(fc,0),o=Ce(()=>{let l=Tr(i);const{matched:u}=n.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=Ce(()=>n.value.matched[o.value]);Hs(fc,Ce(()=>o.value+1)),Hs(Av,a),Hs(lo,n);const c=ue();return Or(()=>[c.value,a.value,t.name],([l,u,f],[h,d,v])=>{u&&(u.instances[f]=l,d&&d!==u&&l&&l===h&&(u.leaveGuards.size||(u.leaveGuards=d.leaveGuards),u.updateGuards.size||(u.updateGuards=d.updateGuards))),l&&u&&(!d||!Lr(u,d)||!h)&&(u.enterCallbacks[f]||[]).forEach(m=>m(l))},{flush:"post"}),()=>{const l=n.value,u=t.name,f=a.value,h=f&&f.components[u];if(!h)return pc(r.default,{Component:h,route:l});const d=f.props[u],v=d?d===!0?l.params:typeof d=="function"?d(l):d:null,g=To(h,_e({},v,e,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return pc(r.default,{Component:g,route:l})||g}}});function pc(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const Rv=Tv;function Pv(t){const e=_v(t.routes,t),r=t.parseQuery||Ev,s=t.stringifyQuery||uc,n=t.history,i=Qr(),o=Qr(),a=Qr(),c=Ju(Ut);let l=Ut;Dr&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Jn.bind(null,O=>""+O),f=Jn.bind(null,Wp),h=Jn.bind(null,bs);function d(O,q){let X,ee;return Yl(O)?(X=e.getRecordMatcher(O),ee=q):ee=O,e.addRoute(ee,X)}function v(O){const q=e.getRecordMatcher(O);q&&e.removeRoute(q)}function m(){return e.getRoutes().map(O=>O.record)}function g(O){return!!e.getRecordMatcher(O)}function b(O,q){if(q=_e({},q||c.value),typeof O=="string"){const R=Xn(r,O,q.path),$=e.resolve({path:R.path},q),L=n.createHref(R.fullPath);return _e(R,$,{params:h($.params),hash:bs(R.hash),redirectedFrom:void 0,href:L})}let X;if(O.path!=null)X=_e({},O,{path:Xn(r,O.path,q.path).path});else{const R=_e({},O.params);for(const $ in R)R[$]==null&&delete R[$];X=_e({},O,{params:f(R)}),q.params=f(q.params)}const ee=e.resolve(X,q),ve=O.hash||"";ee.params=u(h(ee.params));const C=Gp(s,_e({},O,{hash:Hp(ve),path:ee.path})),S=n.createHref(C);return _e({fullPath:C,hash:ve,query:s===uc?Cv(O.query):O.query||{}},ee,{redirectedFrom:void 0,href:S})}function p(O){return typeof O=="string"?Xn(r,O,c.value.path):_e({},O)}function x(O,q){if(l!==O)return Ur(8,{from:q,to:O})}function _(O){return F(O)}function B(O){return _(_e(p(O),{replace:!0}))}function D(O){const q=O.matched[O.matched.length-1];if(q&&q.redirect){const{redirect:X}=q;let ee=typeof X=="function"?X(O):X;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=p(ee):{path:ee},ee.params={}),_e({query:O.query,hash:O.hash,params:ee.path!=null?{}:O.params},ee)}}function F(O,q){const X=l=b(O),ee=c.value,ve=O.state,C=O.force,S=O.replace===!0,R=D(X);if(R)return F(_e(p(R),{state:typeof R=="object"?_e({},ve,R.state):ve,force:C,replace:S}),q||X);const $=X;$.redirectedFrom=q;let L;return!C&&Qp(s,ee,X)&&(L=Ur(16,{to:$,from:ee}),I(ee,ee,!0,!1)),(L?Promise.resolve(L):w($,ee)).catch(j=>At(j)?At(j,2)?j:ae(j):Y(j,$,ee)).then(j=>{if(j){if(At(j,2))return F(_e({replace:S},p(j.to),{state:typeof j.to=="object"?_e({},ve,j.to.state):ve,force:C}),q||$)}else j=y($,ee,!0,S,ve);return A($,ee,j),j})}function E(O,q){const X=x(O,q);return X?Promise.reject(X):Promise.resolve()}function k(O){const q=N.values().next().value;return q&&typeof q.runWithContext=="function"?q.runWithContext(O):O()}function w(O,q){let X;const[ee,ve,C]=Ov(O,q);X=Yn(ee.reverse(),"beforeRouteLeave",O,q);for(const R of ee)R.leaveGuards.forEach($=>{X.push(Wt($,O,q))});const S=E.bind(null,O,q);return X.push(S),fe(X).then(()=>{X=[];for(const R of i.list())X.push(Wt(R,O,q));return X.push(S),fe(X)}).then(()=>{X=Yn(ve,"beforeRouteUpdate",O,q);for(const R of ve)R.updateGuards.forEach($=>{X.push(Wt($,O,q))});return X.push(S),fe(X)}).then(()=>{X=[];for(const R of C)if(R.beforeEnter)if(gt(R.beforeEnter))for(const $ of R.beforeEnter)X.push(Wt($,O,q));else X.push(Wt(R.beforeEnter,O,q));return X.push(S),fe(X)}).then(()=>(O.matched.forEach(R=>R.enterCallbacks={}),X=Yn(C,"beforeRouteEnter",O,q,k),X.push(S),fe(X))).then(()=>{X=[];for(const R of o.list())X.push(Wt(R,O,q));return X.push(S),fe(X)}).catch(R=>At(R,8)?R:Promise.reject(R))}function A(O,q,X){a.list().forEach(ee=>k(()=>ee(O,q,X)))}function y(O,q,X,ee,ve){const C=x(O,q);if(C)return C;const S=q===Ut,R=Dr?history.state:{};X&&(ee||S?n.replace(O.fullPath,_e({scroll:S&&R&&R.scroll},ve)):n.push(O.fullPath,ve)),c.value=O,I(O,q,X,S),ae()}let T;function P(){T||(T=n.listen((O,q,X)=>{if(!ye.listening)return;const ee=b(O),ve=D(ee);if(ve){F(_e(ve,{replace:!0,force:!0}),ee).catch(us);return}l=ee;const C=c.value;Dr&&sv(tc(C.fullPath,X.delta),Sn()),w(ee,C).catch(S=>At(S,12)?S:At(S,2)?(F(_e(p(S.to),{force:!0}),ee).then(R=>{At(R,20)&&!X.delta&&X.type===Es.pop&&n.go(-1,!1)}).catch(us),Promise.reject()):(X.delta&&n.go(-X.delta,!1),Y(S,ee,C))).then(S=>{S=S||y(ee,C,!1),S&&(X.delta&&!At(S,8)?n.go(-X.delta,!1):X.type===Es.pop&&At(S,20)&&n.go(-1,!1)),A(ee,C,S)}).catch(us)}))}let W=Qr(),M=Qr(),V;function Y(O,q,X){ae(O);const ee=M.list();return ee.length?ee.forEach(ve=>ve(O,q,X)):console.error(O),Promise.reject(O)}function le(){return V&&c.value!==Ut?Promise.resolve():new Promise((O,q)=>{W.add([O,q])})}function ae(O){return V||(V=!O,P(),W.list().forEach(([q,X])=>O?X(O):q()),W.reset()),O}function I(O,q,X,ee){const{scrollBehavior:ve}=t;if(!Dr||!ve)return Promise.resolve();const C=!X&&nv(tc(O.fullPath,0))||(ee||!X)&&history.state&&history.state.scroll||null;return Ao().then(()=>ve(O,q,C)).then(S=>S&&rv(S)).catch(S=>Y(S,O,q))}const U=O=>n.go(O);let z;const N=new Set,ye={currentRoute:c,listening:!0,addRoute:d,removeRoute:v,clearRoutes:e.clearRoutes,hasRoute:g,getRoutes:m,resolve:b,options:t,push:_,replace:B,go:U,back:()=>U(-1),forward:()=>U(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:M.add,isReady:le,install(O){const q=this;O.component("RouterLink",Dv),O.component("RouterView",Rv),O.config.globalProperties.$router=q,Object.defineProperty(O.config.globalProperties,"$route",{enumerable:!0,get:()=>Tr(c)}),Dr&&!z&&c.value===Ut&&(z=!0,_(n.location).catch(ve=>{}));const X={};for(const ve in Ut)Object.defineProperty(X,ve,{get:()=>c.value[ve],enumerable:!0});O.provide(Bn,q),O.provide(Lo,w0(X)),O.provide(lo,c);const ee=O.unmount;N.add(O),O.unmount=function(){N.delete(O),N.size<1&&(l=Ut,T&&T(),T=null,c.value=Ut,z=!1,V=!1),ee()}}};function fe(O){return O.reduce((q,X)=>q.then(()=>k(X)),Promise.resolve())}return ye}function Ov(t,e){const r=[],s=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>Lr(l,a))?s.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(l=>Lr(l,c))||n.push(c))}return[r,s,n]}function l1(){return lt(Bn)}function u1(t){return lt(Lo)}const Iv=()=>De(()=>import("./index-CZJWB32D.js"),__vite__mapDeps([0,1,2])),$v=()=>De(()=>import("./create-DkD1EY45.js"),__vite__mapDeps([3,4,1,5,6,7,8])),jv=()=>De(()=>import("./preview-D1C_T0CM.js"),__vite__mapDeps([9,4,1,5,10])),Lv=()=>De(()=>import("./index-DSETpFfI.js"),__vite__mapDeps([11,4,1,5,6,7,12])),Uv=()=>De(()=>import("./index-C3dOjtqn.js"),__vite__mapDeps([13,14,4,1,5,6,7,15])),Nv=()=>De(()=>import("./index-BcqpE6YR.js"),__vite__mapDeps([16,17,1,18])),qv=()=>De(()=>import("./index-l6JdEgeQ.js"),__vite__mapDeps([19,20,1,21,17,22])),Hv=()=>De(()=>import("./index-ClMK8STu.js"),__vite__mapDeps([23,24,1,25,26])),Mv=()=>De(()=>import("./detail-BEFBPYY1.js"),__vite__mapDeps([27,28])),zv=()=>De(()=>import("./index-CPPMRCQs.js"),__vite__mapDeps([29,20,1,21,24,25,30])),Wv=()=>De(()=>import("./edit-BDBZNk0u.js"),__vite__mapDeps([31,20,1,21,32])),Kv=()=>De(()=>import("./index-B3N7EY9-.js"),__vite__mapDeps([33,1,34])),Vv=()=>De(()=>import("./index-BVfTmehC.js"),__vite__mapDeps([35,24,1,25,36])),Gv=()=>De(()=>import("./detail-B9PSaX-W.js"),__vite__mapDeps([37,1,38])),Qv=()=>De(()=>import("./edit-BTwOer-1.js"),__vite__mapDeps([39,40])),Jv=()=>De(()=>import("./index-17E_L-lL.js"),__vite__mapDeps([41,42,1,43,44])),Xv=()=>De(()=>import("./index-C0l8NfA7.js"),__vite__mapDeps([45,42,1,43,46])),Yv=()=>De(()=>import("./integration-B4-rthj9.js"),__vite__mapDeps([47,14,4,1,5,48,49,50])),Zv=()=>De(()=>import("./mobile-adaptation-m1JjfRcd.js"),__vite__mapDeps([51,4,1,5,48,49,52])),eg=[{path:"/",name:"Home",redirect:t=>t.query.admin||t.hash==="#admin"?"/admin/login":"/sales"},{path:"/sales",name:"Sales",component:Iv,meta:{title:"耶氏台球报价系统"}},{path:"/sales/quote/create",name:"SalesQuoteCreate",component:$v,meta:{title:"新建报价"}},{path:"/sales/quote/preview",name:"SalesQuotePreview",component:jv,meta:{title:"报价预览"}},{path:"/sales/history",name:"SalesHistory",component:Lv,meta:{title:"我的报价"}},{path:"/sales/settings",name:"SalesSettings",component:Uv,meta:{title:"应用设置"}},{path:"/admin",redirect:"/admin/login"},{path:"/admin/login",name:"AdminLogin",component:Nv,meta:{title:"登录",allowGuest:!0}},{path:"/admin/dashboard",name:"AdminDashboard",component:qv,meta:{title:"仪表盘",requiresAuth:!0,requiresPermission:"dashboard:read"}},{path:"/admin/quotes",name:"AdminQuotes",component:Hv,meta:{title:"报价单管理",requiresAuth:!0,requiresPermission:"quotes:read"}},{path:"/admin/quotes/detail",name:"AdminQuoteDetail",component:Mv,meta:{title:"报价单详情",requiresAuth:!0,requiresPermission:"quotes:read"}},{path:"/admin/products",name:"AdminProducts",component:zv,meta:{title:"产品管理",requiresAuth:!0,requiresPermission:"products:read"}},{path:"/admin/products/edit",name:"AdminProductEdit",component:Wv,meta:{title:"编辑产品",requiresAuth:!0,requiresPermission:"products:write"}},{path:"/admin/users",name:"AdminUsers",component:Kv,meta:{title:"用户管理",requiresAuth:!0,requiresPermission:"users:read"}},{path:"/admin/customers",name:"AdminCustomers",component:Vv,meta:{title:"客户管理",requiresAuth:!0,requiresPermission:"customers:read"}},{path:"/admin/customers/detail",name:"AdminCustomerDetail",component:Gv,meta:{title:"客户详情",requiresAuth:!0,requiresPermission:"customers:read"}},{path:"/admin/customers/edit",name:"AdminCustomerEdit",component:Qv,meta:{title:"编辑客户",requiresAuth:!0,requiresPermission:"customers:write"}},{path:"/admin/logs",name:"AdminLogs",component:Jv,meta:{title:"操作日志",requiresAuth:!0,requiresPermission:"logs:read"}},{path:"/admin/settings",name:"AdminSettings",component:Xv,meta:{title:"系统设置",requiresAuth:!0,requiresPermission:"settings:read"}},{path:"/test/integration",name:"TestIntegration",component:Yv,meta:{title:"集成测试"}},{path:"/test/mobile-adaptation",name:"TestMobileAdaptation",component:Zv,meta:{title:"移动端适配测试"}},{path:"/:pathMatch(.*)*",name:"NotFound",redirect:"/sales"}],Dn=Pv({history:cv("/"),routes:eg,scrollBehavior(t,e,r){return r||{top:0}}});Dn.beforeEach(async(t,e,r)=>{var s;(s=t.meta)!=null&&s.title&&(document.title=t.meta.title),r()});Dn.afterEach((t,e)=>{console.log("Route changed:",t.path)});var tg={exports:{}};function rg(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zn={exports:{}};const sg={},ng=Object.freeze(Object.defineProperty({__proto__:null,default:sg},Symbol.toStringTag,{value:"Module"})),ig=ml(ng);var vc;function de(){return vc||(vc=1,function(t,e){(function(r,s){t.exports=s()})(se,function(){var r=r||function(s,n){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof se<"u"&&se.crypto&&(i=se.crypto),!i&&typeof rg=="function")try{i=ig}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function p(){}return function(x){var _;return p.prototype=x,_=new p,p.prototype=null,_}}(),c={},l=c.lib={},u=l.Base=function(){return{extend:function(p){var x=a(this);return p&&x.mixIn(p),(!x.hasOwnProperty("init")||this.init===x.init)&&(x.init=function(){x.$super.init.apply(this,arguments)}),x.init.prototype=x,x.$super=this,x},create:function(){var p=this.extend();return p.init.apply(p,arguments),p},init:function(){},mixIn:function(p){for(var x in p)p.hasOwnProperty(x)&&(this[x]=p[x]);p.hasOwnProperty("toString")&&(this.toString=p.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),f=l.WordArray=u.extend({init:function(p,x){p=this.words=p||[],x!=n?this.sigBytes=x:this.sigBytes=p.length*4},toString:function(p){return(p||d).stringify(this)},concat:function(p){var x=this.words,_=p.words,B=this.sigBytes,D=p.sigBytes;if(this.clamp(),B%4)for(var F=0;F<D;F++){var E=_[F>>>2]>>>24-F%4*8&255;x[B+F>>>2]|=E<<24-(B+F)%4*8}else for(var k=0;k<D;k+=4)x[B+k>>>2]=_[k>>>2];return this.sigBytes+=D,this},clamp:function(){var p=this.words,x=this.sigBytes;p[x>>>2]&=4294967295<<32-x%4*8,p.length=s.ceil(x/4)},clone:function(){var p=u.clone.call(this);return p.words=this.words.slice(0),p},random:function(p){for(var x=[],_=0;_<p;_+=4)x.push(o());return new f.init(x,p)}}),h=c.enc={},d=h.Hex={stringify:function(p){for(var x=p.words,_=p.sigBytes,B=[],D=0;D<_;D++){var F=x[D>>>2]>>>24-D%4*8&255;B.push((F>>>4).toString(16)),B.push((F&15).toString(16))}return B.join("")},parse:function(p){for(var x=p.length,_=[],B=0;B<x;B+=2)_[B>>>3]|=parseInt(p.substr(B,2),16)<<24-B%8*4;return new f.init(_,x/2)}},v=h.Latin1={stringify:function(p){for(var x=p.words,_=p.sigBytes,B=[],D=0;D<_;D++){var F=x[D>>>2]>>>24-D%4*8&255;B.push(String.fromCharCode(F))}return B.join("")},parse:function(p){for(var x=p.length,_=[],B=0;B<x;B++)_[B>>>2]|=(p.charCodeAt(B)&255)<<24-B%4*8;return new f.init(_,x)}},m=h.Utf8={stringify:function(p){try{return decodeURIComponent(escape(v.stringify(p)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(p){return v.parse(unescape(encodeURIComponent(p)))}},g=l.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(p){typeof p=="string"&&(p=m.parse(p)),this._data.concat(p),this._nDataBytes+=p.sigBytes},_process:function(p){var x,_=this._data,B=_.words,D=_.sigBytes,F=this.blockSize,E=F*4,k=D/E;p?k=s.ceil(k):k=s.max((k|0)-this._minBufferSize,0);var w=k*F,A=s.min(w*4,D);if(w){for(var y=0;y<w;y+=F)this._doProcessBlock(B,y);x=B.splice(0,w),_.sigBytes-=A}return new f.init(x,A)},clone:function(){var p=u.clone.call(this);return p._data=this._data.clone(),p},_minBufferSize:0});l.Hasher=g.extend({cfg:u.extend(),init:function(p){this.cfg=this.cfg.extend(p),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(p){return this._append(p),this._process(),this},finalize:function(p){p&&this._append(p);var x=this._doFinalize();return x},blockSize:16,_createHelper:function(p){return function(x,_){return new p.init(_).finalize(x)}},_createHmacHelper:function(p){return function(x,_){return new b.HMAC.init(p,_).finalize(x)}}});var b=c.algo={};return c}(Math);return r})}(Zn)),Zn.exports}var ei={exports:{}},gc;function kn(){return gc||(gc=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){return function(s){var n=r,i=n.lib,o=i.Base,a=i.WordArray,c=n.x64={};c.Word=o.extend({init:function(l,u){this.high=l,this.low=u}}),c.WordArray=o.extend({init:function(l,u){l=this.words=l||[],u!=s?this.sigBytes=u:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,u=l.length,f=[],h=0;h<u;h++){var d=l[h];f.push(d.high),f.push(d.low)}return a.create(f,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),u=l.words=this.words.slice(0),f=u.length,h=0;h<f;h++)u[h]=u[h].clone();return l}})}(),r})}(ei)),ei.exports}var ti={exports:{}},_c;function og(){return _c||(_c=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){return function(){if(typeof ArrayBuffer=="function"){var s=r,n=s.lib,i=n.WordArray,o=i.init,a=i.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var l=c.byteLength,u=[],f=0;f<l;f++)u[f>>>2]|=c[f]<<24-f%4*8;o.call(this,u,l)}else o.apply(this,arguments)};a.prototype=i}}(),r.lib.WordArray})}(ti)),ti.exports}var ri={exports:{}},mc;function ag(){return mc||(mc=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){return function(){var s=r,n=s.lib,i=n.WordArray,o=s.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var d=l[h>>>2]>>>16-h%4*8&65535;f.push(String.fromCharCode(d))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=c.charCodeAt(f)<<16-f%2*16;return i.create(u,l*2)}},o.Utf16LE={stringify:function(c){for(var l=c.words,u=c.sigBytes,f=[],h=0;h<u;h+=2){var d=a(l[h>>>2]>>>16-h%4*8&65535);f.push(String.fromCharCode(d))}return f.join("")},parse:function(c){for(var l=c.length,u=[],f=0;f<l;f++)u[f>>>1]|=a(c.charCodeAt(f)<<16-f%2*16);return i.create(u,l*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(ri)),ri.exports}var si={exports:{}},yc;function pr(){return yc||(yc=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){return function(){var s=r,n=s.lib,i=n.WordArray,o=s.enc;o.Base64={stringify:function(c){var l=c.words,u=c.sigBytes,f=this._map;c.clamp();for(var h=[],d=0;d<u;d+=3)for(var v=l[d>>>2]>>>24-d%4*8&255,m=l[d+1>>>2]>>>24-(d+1)%4*8&255,g=l[d+2>>>2]>>>24-(d+2)%4*8&255,b=v<<16|m<<8|g,p=0;p<4&&d+p*.75<u;p++)h.push(f.charAt(b>>>6*(3-p)&63));var x=f.charAt(64);if(x)for(;h.length%4;)h.push(x);return h.join("")},parse:function(c){var l=c.length,u=this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var h=0;h<u.length;h++)f[u.charCodeAt(h)]=h}var d=u.charAt(64);if(d){var v=c.indexOf(d);v!==-1&&(l=v)}return a(c,l,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,l,u){for(var f=[],h=0,d=0;d<l;d++)if(d%4){var v=u[c.charCodeAt(d-1)]<<d%4*2,m=u[c.charCodeAt(d)]>>>6-d%4*2,g=v|m;f[h>>>2]|=g<<24-h%4*8,h++}return i.create(f,h)}}(),r.enc.Base64})}(si)),si.exports}var ni={exports:{}},wc;function cg(){return wc||(wc=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){return function(){var s=r,n=s.lib,i=n.WordArray,o=s.enc;o.Base64url={stringify:function(c,l){l===void 0&&(l=!0);var u=c.words,f=c.sigBytes,h=l?this._safe_map:this._map;c.clamp();for(var d=[],v=0;v<f;v+=3)for(var m=u[v>>>2]>>>24-v%4*8&255,g=u[v+1>>>2]>>>24-(v+1)%4*8&255,b=u[v+2>>>2]>>>24-(v+2)%4*8&255,p=m<<16|g<<8|b,x=0;x<4&&v+x*.75<f;x++)d.push(h.charAt(p>>>6*(3-x)&63));var _=h.charAt(64);if(_)for(;d.length%4;)d.push(_);return d.join("")},parse:function(c,l){l===void 0&&(l=!0);var u=c.length,f=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var d=0;d<f.length;d++)h[f.charCodeAt(d)]=d}var v=f.charAt(64);if(v){var m=c.indexOf(v);m!==-1&&(u=m)}return a(c,u,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,l,u){for(var f=[],h=0,d=0;d<l;d++)if(d%4){var v=u[c.charCodeAt(d-1)]<<d%4*2,m=u[c.charCodeAt(d)]>>>6-d%4*2,g=v|m;f[h>>>2]|=g<<24-h%4*8,h++}return i.create(f,h)}}(),r.enc.Base64url})}(ni)),ni.exports}var ii={exports:{}},bc;function vr(){return bc||(bc=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){return function(s){var n=r,i=n.lib,o=i.WordArray,a=i.Hasher,c=n.algo,l=[];(function(){for(var m=0;m<64;m++)l[m]=s.abs(s.sin(m+1))*4294967296|0})();var u=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,g){for(var b=0;b<16;b++){var p=g+b,x=m[p];m[p]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360}var _=this._hash.words,B=m[g+0],D=m[g+1],F=m[g+2],E=m[g+3],k=m[g+4],w=m[g+5],A=m[g+6],y=m[g+7],T=m[g+8],P=m[g+9],W=m[g+10],M=m[g+11],V=m[g+12],Y=m[g+13],le=m[g+14],ae=m[g+15],I=_[0],U=_[1],z=_[2],N=_[3];I=f(I,U,z,N,B,7,l[0]),N=f(N,I,U,z,D,12,l[1]),z=f(z,N,I,U,F,17,l[2]),U=f(U,z,N,I,E,22,l[3]),I=f(I,U,z,N,k,7,l[4]),N=f(N,I,U,z,w,12,l[5]),z=f(z,N,I,U,A,17,l[6]),U=f(U,z,N,I,y,22,l[7]),I=f(I,U,z,N,T,7,l[8]),N=f(N,I,U,z,P,12,l[9]),z=f(z,N,I,U,W,17,l[10]),U=f(U,z,N,I,M,22,l[11]),I=f(I,U,z,N,V,7,l[12]),N=f(N,I,U,z,Y,12,l[13]),z=f(z,N,I,U,le,17,l[14]),U=f(U,z,N,I,ae,22,l[15]),I=h(I,U,z,N,D,5,l[16]),N=h(N,I,U,z,A,9,l[17]),z=h(z,N,I,U,M,14,l[18]),U=h(U,z,N,I,B,20,l[19]),I=h(I,U,z,N,w,5,l[20]),N=h(N,I,U,z,W,9,l[21]),z=h(z,N,I,U,ae,14,l[22]),U=h(U,z,N,I,k,20,l[23]),I=h(I,U,z,N,P,5,l[24]),N=h(N,I,U,z,le,9,l[25]),z=h(z,N,I,U,E,14,l[26]),U=h(U,z,N,I,T,20,l[27]),I=h(I,U,z,N,Y,5,l[28]),N=h(N,I,U,z,F,9,l[29]),z=h(z,N,I,U,y,14,l[30]),U=h(U,z,N,I,V,20,l[31]),I=d(I,U,z,N,w,4,l[32]),N=d(N,I,U,z,T,11,l[33]),z=d(z,N,I,U,M,16,l[34]),U=d(U,z,N,I,le,23,l[35]),I=d(I,U,z,N,D,4,l[36]),N=d(N,I,U,z,k,11,l[37]),z=d(z,N,I,U,y,16,l[38]),U=d(U,z,N,I,W,23,l[39]),I=d(I,U,z,N,Y,4,l[40]),N=d(N,I,U,z,B,11,l[41]),z=d(z,N,I,U,E,16,l[42]),U=d(U,z,N,I,A,23,l[43]),I=d(I,U,z,N,P,4,l[44]),N=d(N,I,U,z,V,11,l[45]),z=d(z,N,I,U,ae,16,l[46]),U=d(U,z,N,I,F,23,l[47]),I=v(I,U,z,N,B,6,l[48]),N=v(N,I,U,z,y,10,l[49]),z=v(z,N,I,U,le,15,l[50]),U=v(U,z,N,I,w,21,l[51]),I=v(I,U,z,N,V,6,l[52]),N=v(N,I,U,z,E,10,l[53]),z=v(z,N,I,U,W,15,l[54]),U=v(U,z,N,I,D,21,l[55]),I=v(I,U,z,N,T,6,l[56]),N=v(N,I,U,z,ae,10,l[57]),z=v(z,N,I,U,A,15,l[58]),U=v(U,z,N,I,Y,21,l[59]),I=v(I,U,z,N,k,6,l[60]),N=v(N,I,U,z,M,10,l[61]),z=v(z,N,I,U,F,15,l[62]),U=v(U,z,N,I,P,21,l[63]),_[0]=_[0]+I|0,_[1]=_[1]+U|0,_[2]=_[2]+z|0,_[3]=_[3]+N|0},_doFinalize:function(){var m=this._data,g=m.words,b=this._nDataBytes*8,p=m.sigBytes*8;g[p>>>5]|=128<<24-p%32;var x=s.floor(b/4294967296),_=b;g[(p+64>>>9<<4)+15]=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,g[(p+64>>>9<<4)+14]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,m.sigBytes=(g.length+1)*4,this._process();for(var B=this._hash,D=B.words,F=0;F<4;F++){var E=D[F];D[F]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}return B},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function f(m,g,b,p,x,_,B){var D=m+(g&b|~g&p)+x+B;return(D<<_|D>>>32-_)+g}function h(m,g,b,p,x,_,B){var D=m+(g&p|b&~p)+x+B;return(D<<_|D>>>32-_)+g}function d(m,g,b,p,x,_,B){var D=m+(g^b^p)+x+B;return(D<<_|D>>>32-_)+g}function v(m,g,b,p,x,_,B){var D=m+(b^(g|~p))+x+B;return(D<<_|D>>>32-_)+g}n.MD5=a._createHelper(u),n.HmacMD5=a._createHmacHelper(u)}(Math),r.MD5})}(ii)),ii.exports}var oi={exports:{}},Ec;function ru(){return Ec||(Ec=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){return function(){var s=r,n=s.lib,i=n.WordArray,o=n.Hasher,a=s.algo,c=[],l=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,f){for(var h=this._hash.words,d=h[0],v=h[1],m=h[2],g=h[3],b=h[4],p=0;p<80;p++){if(p<16)c[p]=u[f+p]|0;else{var x=c[p-3]^c[p-8]^c[p-14]^c[p-16];c[p]=x<<1|x>>>31}var _=(d<<5|d>>>27)+b+c[p];p<20?_+=(v&m|~v&g)+1518500249:p<40?_+=(v^m^g)+1859775393:p<60?_+=(v&m|v&g|m&g)-1894007588:_+=(v^m^g)-899497514,b=g,g=m,m=v<<30|v>>>2,v=d,d=_}h[0]=h[0]+d|0,h[1]=h[1]+v|0,h[2]=h[2]+m|0,h[3]=h[3]+g|0,h[4]=h[4]+b|0},_doFinalize:function(){var u=this._data,f=u.words,h=this._nDataBytes*8,d=u.sigBytes*8;return f[d>>>5]|=128<<24-d%32,f[(d+64>>>9<<4)+14]=Math.floor(h/4294967296),f[(d+64>>>9<<4)+15]=h,u.sigBytes=f.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});s.SHA1=o._createHelper(l),s.HmacSHA1=o._createHmacHelper(l)}(),r.SHA1})}(oi)),oi.exports}var ai={exports:{}},Cc;function Uo(){return Cc||(Cc=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){return function(s){var n=r,i=n.lib,o=i.WordArray,a=i.Hasher,c=n.algo,l=[],u=[];(function(){function d(b){for(var p=s.sqrt(b),x=2;x<=p;x++)if(!(b%x))return!1;return!0}function v(b){return(b-(b|0))*4294967296|0}for(var m=2,g=0;g<64;)d(m)&&(g<8&&(l[g]=v(s.pow(m,1/2))),u[g]=v(s.pow(m,1/3)),g++),m++})();var f=[],h=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(d,v){for(var m=this._hash.words,g=m[0],b=m[1],p=m[2],x=m[3],_=m[4],B=m[5],D=m[6],F=m[7],E=0;E<64;E++){if(E<16)f[E]=d[v+E]|0;else{var k=f[E-15],w=(k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3,A=f[E-2],y=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;f[E]=w+f[E-7]+y+f[E-16]}var T=_&B^~_&D,P=g&b^g&p^b&p,W=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),M=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),V=F+M+T+u[E]+f[E],Y=W+P;F=D,D=B,B=_,_=x+V|0,x=p,p=b,b=g,g=V+Y|0}m[0]=m[0]+g|0,m[1]=m[1]+b|0,m[2]=m[2]+p|0,m[3]=m[3]+x|0,m[4]=m[4]+_|0,m[5]=m[5]+B|0,m[6]=m[6]+D|0,m[7]=m[7]+F|0},_doFinalize:function(){var d=this._data,v=d.words,m=this._nDataBytes*8,g=d.sigBytes*8;return v[g>>>5]|=128<<24-g%32,v[(g+64>>>9<<4)+14]=s.floor(m/4294967296),v[(g+64>>>9<<4)+15]=m,d.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA256=a._createHelper(h),n.HmacSHA256=a._createHmacHelper(h)}(Math),r.SHA256})}(ai)),ai.exports}var ci={exports:{}},Ac;function lg(){return Ac||(Ac=1,function(t,e){(function(r,s,n){t.exports=s(de(),Uo())})(se,function(r){return function(){var s=r,n=s.lib,i=n.WordArray,o=s.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=a._doFinalize.call(this);return l.sigBytes-=4,l}});s.SHA224=a._createHelper(c),s.HmacSHA224=a._createHmacHelper(c)}(),r.SHA224})}(ci)),ci.exports}var li={exports:{}},Sc;function su(){return Sc||(Sc=1,function(t,e){(function(r,s,n){t.exports=s(de(),kn())})(se,function(r){return function(){var s=r,n=s.lib,i=n.Hasher,o=s.x64,a=o.Word,c=o.WordArray,l=s.algo;function u(){return a.create.apply(a,arguments)}var f=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],h=[];(function(){for(var v=0;v<80;v++)h[v]=u()})();var d=l.SHA512=i.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(v,m){for(var g=this._hash.words,b=g[0],p=g[1],x=g[2],_=g[3],B=g[4],D=g[5],F=g[6],E=g[7],k=b.high,w=b.low,A=p.high,y=p.low,T=x.high,P=x.low,W=_.high,M=_.low,V=B.high,Y=B.low,le=D.high,ae=D.low,I=F.high,U=F.low,z=E.high,N=E.low,ye=k,fe=w,O=A,q=y,X=T,ee=P,ve=W,C=M,S=V,R=Y,$=le,L=ae,j=I,J=U,G=z,K=N,H=0;H<80;H++){var Z,Q,te=h[H];if(H<16)Q=te.high=v[m+H*2]|0,Z=te.low=v[m+H*2+1]|0;else{var ne=h[H-15],ce=ne.high,pe=ne.low,ge=(ce>>>1|pe<<31)^(ce>>>8|pe<<24)^ce>>>7,$e=(pe>>>1|ce<<31)^(pe>>>8|ce<<24)^(pe>>>7|ce<<25),je=h[H-2],Le=je.high,He=je.low,tr=(Le>>>19|He<<13)^(Le<<3|He>>>29)^Le>>>6,Hr=(He>>>19|Le<<13)^(He<<3|Le>>>29)^(He>>>6|Le<<26),Me=h[H-7],nt=Me.high,Ts=Me.low,Mr=h[H-16],nu=Mr.high,qo=Mr.low;Z=$e+Ts,Q=ge+nt+(Z>>>0<$e>>>0?1:0),Z=Z+Hr,Q=Q+tr+(Z>>>0<Hr>>>0?1:0),Z=Z+qo,Q=Q+nu+(Z>>>0<qo>>>0?1:0),te.high=Q,te.low=Z}var iu=S&$^~S&j,Ho=R&L^~R&J,ou=ye&O^ye&X^O&X,au=fe&q^fe&ee^q&ee,cu=(ye>>>28|fe<<4)^(ye<<30|fe>>>2)^(ye<<25|fe>>>7),Mo=(fe>>>28|ye<<4)^(fe<<30|ye>>>2)^(fe<<25|ye>>>7),lu=(S>>>14|R<<18)^(S>>>18|R<<14)^(S<<23|R>>>9),uu=(R>>>14|S<<18)^(R>>>18|S<<14)^(R<<23|S>>>9),zo=f[H],fu=zo.high,Wo=zo.low,tt=K+uu,$t=G+lu+(tt>>>0<K>>>0?1:0),tt=tt+Ho,$t=$t+iu+(tt>>>0<Ho>>>0?1:0),tt=tt+Wo,$t=$t+fu+(tt>>>0<Wo>>>0?1:0),tt=tt+Z,$t=$t+Q+(tt>>>0<Z>>>0?1:0),Ko=Mo+au,hu=cu+ou+(Ko>>>0<Mo>>>0?1:0);G=j,K=J,j=$,J=L,$=S,L=R,R=C+tt|0,S=ve+$t+(R>>>0<C>>>0?1:0)|0,ve=X,C=ee,X=O,ee=q,O=ye,q=fe,fe=tt+Ko|0,ye=$t+hu+(fe>>>0<tt>>>0?1:0)|0}w=b.low=w+fe,b.high=k+ye+(w>>>0<fe>>>0?1:0),y=p.low=y+q,p.high=A+O+(y>>>0<q>>>0?1:0),P=x.low=P+ee,x.high=T+X+(P>>>0<ee>>>0?1:0),M=_.low=M+C,_.high=W+ve+(M>>>0<C>>>0?1:0),Y=B.low=Y+R,B.high=V+S+(Y>>>0<R>>>0?1:0),ae=D.low=ae+L,D.high=le+$+(ae>>>0<L>>>0?1:0),U=F.low=U+J,F.high=I+j+(U>>>0<J>>>0?1:0),N=E.low=N+K,E.high=z+G+(N>>>0<K>>>0?1:0)},_doFinalize:function(){var v=this._data,m=v.words,g=this._nDataBytes*8,b=v.sigBytes*8;m[b>>>5]|=128<<24-b%32,m[(b+128>>>10<<5)+30]=Math.floor(g/4294967296),m[(b+128>>>10<<5)+31]=g,v.sigBytes=m.length*4,this._process();var p=this._hash.toX32();return p},clone:function(){var v=i.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});s.SHA512=i._createHelper(d),s.HmacSHA512=i._createHmacHelper(d)}(),r.SHA512})}(li)),li.exports}var ui={exports:{}},Bc;function ug(){return Bc||(Bc=1,function(t,e){(function(r,s,n){t.exports=s(de(),kn(),su())})(se,function(r){return function(){var s=r,n=s.x64,i=n.Word,o=n.WordArray,a=s.algo,c=a.SHA512,l=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var u=c._doFinalize.call(this);return u.sigBytes-=16,u}});s.SHA384=c._createHelper(l),s.HmacSHA384=c._createHmacHelper(l)}(),r.SHA384})}(ui)),ui.exports}var fi={exports:{}},Dc;function fg(){return Dc||(Dc=1,function(t,e){(function(r,s,n){t.exports=s(de(),kn())})(se,function(r){return function(s){var n=r,i=n.lib,o=i.WordArray,a=i.Hasher,c=n.x64,l=c.Word,u=n.algo,f=[],h=[],d=[];(function(){for(var g=1,b=0,p=0;p<24;p++){f[g+5*b]=(p+1)*(p+2)/2%64;var x=b%5,_=(2*g+3*b)%5;g=x,b=_}for(var g=0;g<5;g++)for(var b=0;b<5;b++)h[g+5*b]=b+(2*g+3*b)%5*5;for(var B=1,D=0;D<24;D++){for(var F=0,E=0,k=0;k<7;k++){if(B&1){var w=(1<<k)-1;w<32?E^=1<<w:F^=1<<w-32}B&128?B=B<<1^113:B<<=1}d[D]=l.create(F,E)}})();var v=[];(function(){for(var g=0;g<25;g++)v[g]=l.create()})();var m=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],b=0;b<25;b++)g[b]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,b){for(var p=this._state,x=this.blockSize/2,_=0;_<x;_++){var B=g[b+2*_],D=g[b+2*_+1];B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360;var F=p[_];F.high^=D,F.low^=B}for(var E=0;E<24;E++){for(var k=0;k<5;k++){for(var w=0,A=0,y=0;y<5;y++){var F=p[k+5*y];w^=F.high,A^=F.low}var T=v[k];T.high=w,T.low=A}for(var k=0;k<5;k++)for(var P=v[(k+4)%5],W=v[(k+1)%5],M=W.high,V=W.low,w=P.high^(M<<1|V>>>31),A=P.low^(V<<1|M>>>31),y=0;y<5;y++){var F=p[k+5*y];F.high^=w,F.low^=A}for(var Y=1;Y<25;Y++){var w,A,F=p[Y],le=F.high,ae=F.low,I=f[Y];I<32?(w=le<<I|ae>>>32-I,A=ae<<I|le>>>32-I):(w=ae<<I-32|le>>>64-I,A=le<<I-32|ae>>>64-I);var U=v[h[Y]];U.high=w,U.low=A}var z=v[0],N=p[0];z.high=N.high,z.low=N.low;for(var k=0;k<5;k++)for(var y=0;y<5;y++){var Y=k+5*y,F=p[Y],ye=v[Y],fe=v[(k+1)%5+5*y],O=v[(k+2)%5+5*y];F.high=ye.high^~fe.high&O.high,F.low=ye.low^~fe.low&O.low}var F=p[0],q=d[E];F.high^=q.high,F.low^=q.low}},_doFinalize:function(){var g=this._data,b=g.words;this._nDataBytes*8;var p=g.sigBytes*8,x=this.blockSize*32;b[p>>>5]|=1<<24-p%32,b[(s.ceil((p+1)/x)*x>>>5)-1]|=128,g.sigBytes=b.length*4,this._process();for(var _=this._state,B=this.cfg.outputLength/8,D=B/8,F=[],E=0;E<D;E++){var k=_[E],w=k.high,A=k.low;w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,F.push(A),F.push(w)}return new o.init(F,B)},clone:function(){for(var g=a.clone.call(this),b=g._state=this._state.slice(0),p=0;p<25;p++)b[p]=b[p].clone();return g}});n.SHA3=a._createHelper(m),n.HmacSHA3=a._createHmacHelper(m)}(Math),r.SHA3})}(fi)),fi.exports}var hi={exports:{}},kc;function hg(){return kc||(kc=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(s){var n=r,i=n.lib,o=i.WordArray,a=i.Hasher,c=n.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),f=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),v=o.create([1352829926,1548603684,1836072691,2053994217,0]),m=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(D,F){for(var E=0;E<16;E++){var k=F+E,w=D[k];D[k]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}var A=this._hash.words,y=d.words,T=v.words,P=l.words,W=u.words,M=f.words,V=h.words,Y,le,ae,I,U,z,N,ye,fe,O;z=Y=A[0],N=le=A[1],ye=ae=A[2],fe=I=A[3],O=U=A[4];for(var q,E=0;E<80;E+=1)q=Y+D[F+P[E]]|0,E<16?q+=g(le,ae,I)+y[0]:E<32?q+=b(le,ae,I)+y[1]:E<48?q+=p(le,ae,I)+y[2]:E<64?q+=x(le,ae,I)+y[3]:q+=_(le,ae,I)+y[4],q=q|0,q=B(q,M[E]),q=q+U|0,Y=U,U=I,I=B(ae,10),ae=le,le=q,q=z+D[F+W[E]]|0,E<16?q+=_(N,ye,fe)+T[0]:E<32?q+=x(N,ye,fe)+T[1]:E<48?q+=p(N,ye,fe)+T[2]:E<64?q+=b(N,ye,fe)+T[3]:q+=g(N,ye,fe)+T[4],q=q|0,q=B(q,V[E]),q=q+O|0,z=O,O=fe,fe=B(ye,10),ye=N,N=q;q=A[1]+ae+fe|0,A[1]=A[2]+I+O|0,A[2]=A[3]+U+z|0,A[3]=A[4]+Y+N|0,A[4]=A[0]+le+ye|0,A[0]=q},_doFinalize:function(){var D=this._data,F=D.words,E=this._nDataBytes*8,k=D.sigBytes*8;F[k>>>5]|=128<<24-k%32,F[(k+64>>>9<<4)+14]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,D.sigBytes=(F.length+1)*4,this._process();for(var w=this._hash,A=w.words,y=0;y<5;y++){var T=A[y];A[y]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return w},clone:function(){var D=a.clone.call(this);return D._hash=this._hash.clone(),D}});function g(D,F,E){return D^F^E}function b(D,F,E){return D&F|~D&E}function p(D,F,E){return(D|~F)^E}function x(D,F,E){return D&E|F&~E}function _(D,F,E){return D^(F|~E)}function B(D,F){return D<<F|D>>>32-F}n.RIPEMD160=a._createHelper(m),n.HmacRIPEMD160=a._createHmacHelper(m)}(),r.RIPEMD160})}(hi)),hi.exports}var di={exports:{}},Fc;function No(){return Fc||(Fc=1,function(t,e){(function(r,s){t.exports=s(de())})(se,function(r){(function(){var s=r,n=s.lib,i=n.Base,o=s.enc,a=o.Utf8,c=s.algo;c.HMAC=i.extend({init:function(l,u){l=this._hasher=new l.init,typeof u=="string"&&(u=a.parse(u));var f=l.blockSize,h=f*4;u.sigBytes>h&&(u=l.finalize(u)),u.clamp();for(var d=this._oKey=u.clone(),v=this._iKey=u.clone(),m=d.words,g=v.words,b=0;b<f;b++)m[b]^=1549556828,g[b]^=909522486;d.sigBytes=v.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var u=this._hasher,f=u.finalize(l);u.reset();var h=u.finalize(this._oKey.clone().concat(f));return h}})})()})}(di)),di.exports}var xi={exports:{}},Tc;function dg(){return Tc||(Tc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Uo(),No())})(se,function(r){return function(){var s=r,n=s.lib,i=n.Base,o=n.WordArray,a=s.algo,c=a.SHA256,l=a.HMAC,u=a.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,h){for(var d=this.cfg,v=l.create(d.hasher,f),m=o.create(),g=o.create([1]),b=m.words,p=g.words,x=d.keySize,_=d.iterations;b.length<x;){var B=v.update(h).finalize(g);v.reset();for(var D=B.words,F=D.length,E=B,k=1;k<_;k++){E=v.finalize(E),v.reset();for(var w=E.words,A=0;A<F;A++)D[A]^=w[A]}m.concat(B),p[0]++}return m.sigBytes=x*4,m}});s.PBKDF2=function(f,h,d){return u.create(d).compute(f,h)}}(),r.PBKDF2})}(xi)),xi.exports}var pi={exports:{}},Rc;function er(){return Rc||(Rc=1,function(t,e){(function(r,s,n){t.exports=s(de(),ru(),No())})(se,function(r){return function(){var s=r,n=s.lib,i=n.Base,o=n.WordArray,a=s.algo,c=a.MD5,l=a.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:c,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var h,d=this.cfg,v=d.hasher.create(),m=o.create(),g=m.words,b=d.keySize,p=d.iterations;g.length<b;){h&&v.update(h),h=v.update(u).finalize(f),v.reset();for(var x=1;x<p;x++)h=v.finalize(h),v.reset();m.concat(h)}return m.sigBytes=b*4,m}});s.EvpKDF=function(u,f,h){return l.create(h).compute(u,f)}}(),r.EvpKDF})}(pi)),pi.exports}var vi={exports:{}},Pc;function Ie(){return Pc||(Pc=1,function(t,e){(function(r,s,n){t.exports=s(de(),er())})(se,function(r){r.lib.Cipher||function(s){var n=r,i=n.lib,o=i.Base,a=i.WordArray,c=i.BufferedBlockAlgorithm,l=n.enc;l.Utf8;var u=l.Base64,f=n.algo,h=f.EvpKDF,d=i.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(w,A){return this.create(this._ENC_XFORM_MODE,w,A)},createDecryptor:function(w,A){return this.create(this._DEC_XFORM_MODE,w,A)},init:function(w,A,y){this.cfg=this.cfg.extend(y),this._xformMode=w,this._key=A,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(w){return this._append(w),this._process()},finalize:function(w){w&&this._append(w);var A=this._doFinalize();return A},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function w(A){return typeof A=="string"?k:D}return function(A){return{encrypt:function(y,T,P){return w(T).encrypt(A,y,T,P)},decrypt:function(y,T,P){return w(T).decrypt(A,y,T,P)}}}}()});i.StreamCipher=d.extend({_doFinalize:function(){var w=this._process(!0);return w},blockSize:1});var v=n.mode={},m=i.BlockCipherMode=o.extend({createEncryptor:function(w,A){return this.Encryptor.create(w,A)},createDecryptor:function(w,A){return this.Decryptor.create(w,A)},init:function(w,A){this._cipher=w,this._iv=A}}),g=v.CBC=function(){var w=m.extend();w.Encryptor=w.extend({processBlock:function(y,T){var P=this._cipher,W=P.blockSize;A.call(this,y,T,W),P.encryptBlock(y,T),this._prevBlock=y.slice(T,T+W)}}),w.Decryptor=w.extend({processBlock:function(y,T){var P=this._cipher,W=P.blockSize,M=y.slice(T,T+W);P.decryptBlock(y,T),A.call(this,y,T,W),this._prevBlock=M}});function A(y,T,P){var W,M=this._iv;M?(W=M,this._iv=s):W=this._prevBlock;for(var V=0;V<P;V++)y[T+V]^=W[V]}return w}(),b=n.pad={},p=b.Pkcs7={pad:function(w,A){for(var y=A*4,T=y-w.sigBytes%y,P=T<<24|T<<16|T<<8|T,W=[],M=0;M<T;M+=4)W.push(P);var V=a.create(W,T);w.concat(V)},unpad:function(w){var A=w.words[w.sigBytes-1>>>2]&255;w.sigBytes-=A}};i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:g,padding:p}),reset:function(){var w;d.reset.call(this);var A=this.cfg,y=A.iv,T=A.mode;this._xformMode==this._ENC_XFORM_MODE?w=T.createEncryptor:(w=T.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==w?this._mode.init(this,y&&y.words):(this._mode=w.call(T,this,y&&y.words),this._mode.__creator=w)},_doProcessBlock:function(w,A){this._mode.processBlock(w,A)},_doFinalize:function(){var w,A=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(A.pad(this._data,this.blockSize),w=this._process(!0)):(w=this._process(!0),A.unpad(w)),w},blockSize:128/32});var x=i.CipherParams=o.extend({init:function(w){this.mixIn(w)},toString:function(w){return(w||this.formatter).stringify(this)}}),_=n.format={},B=_.OpenSSL={stringify:function(w){var A,y=w.ciphertext,T=w.salt;return T?A=a.create([1398893684,1701076831]).concat(T).concat(y):A=y,A.toString(u)},parse:function(w){var A,y=u.parse(w),T=y.words;return T[0]==1398893684&&T[1]==1701076831&&(A=a.create(T.slice(2,4)),T.splice(0,4),y.sigBytes-=16),x.create({ciphertext:y,salt:A})}},D=i.SerializableCipher=o.extend({cfg:o.extend({format:B}),encrypt:function(w,A,y,T){T=this.cfg.extend(T);var P=w.createEncryptor(y,T),W=P.finalize(A),M=P.cfg;return x.create({ciphertext:W,key:y,iv:M.iv,algorithm:w,mode:M.mode,padding:M.padding,blockSize:w.blockSize,formatter:T.format})},decrypt:function(w,A,y,T){T=this.cfg.extend(T),A=this._parse(A,T.format);var P=w.createDecryptor(y,T).finalize(A.ciphertext);return P},_parse:function(w,A){return typeof w=="string"?A.parse(w,this):w}}),F=n.kdf={},E=F.OpenSSL={execute:function(w,A,y,T,P){if(T||(T=a.random(64/8)),P)var W=h.create({keySize:A+y,hasher:P}).compute(w,T);else var W=h.create({keySize:A+y}).compute(w,T);var M=a.create(W.words.slice(A),y*4);return W.sigBytes=A*4,x.create({key:W,iv:M,salt:T})}},k=i.PasswordBasedCipher=D.extend({cfg:D.cfg.extend({kdf:E}),encrypt:function(w,A,y,T){T=this.cfg.extend(T);var P=T.kdf.execute(y,w.keySize,w.ivSize,T.salt,T.hasher);T.iv=P.iv;var W=D.encrypt.call(this,w,A,P.key,T);return W.mixIn(P),W},decrypt:function(w,A,y,T){T=this.cfg.extend(T),A=this._parse(A,T.format);var P=T.kdf.execute(y,w.keySize,w.ivSize,A.salt,T.hasher);T.iv=P.iv;var W=D.decrypt.call(this,w,A,P.key,T);return W}})}()})}(vi)),vi.exports}var gi={exports:{}},Oc;function xg(){return Oc||(Oc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return r.mode.CFB=function(){var s=r.lib.BlockCipherMode.extend();s.Encryptor=s.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize;n.call(this,i,o,c,a),this._prevBlock=i.slice(o,o+c)}}),s.Decryptor=s.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,l=i.slice(o,o+c);n.call(this,i,o,c,a),this._prevBlock=l}});function n(i,o,a,c){var l,u=this._iv;u?(l=u.slice(0),this._iv=void 0):l=this._prevBlock,c.encryptBlock(l,0);for(var f=0;f<a;f++)i[o+f]^=l[f]}return s}(),r.mode.CFB})}(gi)),gi.exports}var _i={exports:{}},Ic;function pg(){return Ic||(Ic=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return r.mode.CTR=function(){var s=r.lib.BlockCipherMode.extend(),n=s.Encryptor=s.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._counter;l&&(u=this._counter=l.slice(0),this._iv=void 0);var f=u.slice(0);a.encryptBlock(f,0),u[c-1]=u[c-1]+1|0;for(var h=0;h<c;h++)i[o+h]^=f[h]}});return s.Decryptor=n,s}(),r.mode.CTR})}(_i)),_i.exports}var mi={exports:{}},$c;function vg(){return $c||($c=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var s=r.lib.BlockCipherMode.extend();function n(a){if((a>>24&255)===255){var c=a>>16&255,l=a>>8&255,u=a&255;c===255?(c=0,l===255?(l=0,u===255?u=0:++u):++l):++c,a=0,a+=c<<16,a+=l<<8,a+=u}else a+=1<<24;return a}function i(a){return(a[0]=n(a[0]))===0&&(a[1]=n(a[1])),a}var o=s.Encryptor=s.extend({processBlock:function(a,c){var l=this._cipher,u=l.blockSize,f=this._iv,h=this._counter;f&&(h=this._counter=f.slice(0),this._iv=void 0),i(h);var d=h.slice(0);l.encryptBlock(d,0);for(var v=0;v<u;v++)a[c+v]^=d[v]}});return s.Decryptor=o,s}(),r.mode.CTRGladman})}(mi)),mi.exports}var yi={exports:{}},jc;function gg(){return jc||(jc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return r.mode.OFB=function(){var s=r.lib.BlockCipherMode.extend(),n=s.Encryptor=s.extend({processBlock:function(i,o){var a=this._cipher,c=a.blockSize,l=this._iv,u=this._keystream;l&&(u=this._keystream=l.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var f=0;f<c;f++)i[o+f]^=u[f]}});return s.Decryptor=n,s}(),r.mode.OFB})}(yi)),yi.exports}var wi={exports:{}},Lc;function _g(){return Lc||(Lc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return r.mode.ECB=function(){var s=r.lib.BlockCipherMode.extend();return s.Encryptor=s.extend({processBlock:function(n,i){this._cipher.encryptBlock(n,i)}}),s.Decryptor=s.extend({processBlock:function(n,i){this._cipher.decryptBlock(n,i)}}),s}(),r.mode.ECB})}(wi)),wi.exports}var bi={exports:{}},Uc;function mg(){return Uc||(Uc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return r.pad.AnsiX923={pad:function(s,n){var i=s.sigBytes,o=n*4,a=o-i%o,c=i+a-1;s.clamp(),s.words[c>>>2]|=a<<24-c%4*8,s.sigBytes+=a},unpad:function(s){var n=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=n}},r.pad.Ansix923})}(bi)),bi.exports}var Ei={exports:{}},Nc;function yg(){return Nc||(Nc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return r.pad.Iso10126={pad:function(s,n){var i=n*4,o=i-s.sigBytes%i;s.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(s){var n=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=n}},r.pad.Iso10126})}(Ei)),Ei.exports}var Ci={exports:{}},qc;function wg(){return qc||(qc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return r.pad.Iso97971={pad:function(s,n){s.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(s,n)},unpad:function(s){r.pad.ZeroPadding.unpad(s),s.sigBytes--}},r.pad.Iso97971})}(Ci)),Ci.exports}var Ai={exports:{}},Hc;function bg(){return Hc||(Hc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return r.pad.ZeroPadding={pad:function(s,n){var i=n*4;s.clamp(),s.sigBytes+=i-(s.sigBytes%i||i)},unpad:function(s){for(var n=s.words,i=s.sigBytes-1,i=s.sigBytes-1;i>=0;i--)if(n[i>>>2]>>>24-i%4*8&255){s.sigBytes=i+1;break}}},r.pad.ZeroPadding})}(Ai)),Ai.exports}var Si={exports:{}},Mc;function Eg(){return Mc||(Mc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(Si)),Si.exports}var Bi={exports:{}},zc;function Cg(){return zc||(zc=1,function(t,e){(function(r,s,n){t.exports=s(de(),Ie())})(se,function(r){return function(s){var n=r,i=n.lib,o=i.CipherParams,a=n.enc,c=a.Hex,l=n.format;l.Hex={stringify:function(u){return u.ciphertext.toString(c)},parse:function(u){var f=c.parse(u);return o.create({ciphertext:f})}}}(),r.format.Hex})}(Bi)),Bi.exports}var Di={exports:{}},Wc;function Ag(){return Wc||(Wc=1,function(t,e){(function(r,s,n){t.exports=s(de(),pr(),vr(),er(),Ie())})(se,function(r){return function(){var s=r,n=s.lib,i=n.BlockCipher,o=s.algo,a=[],c=[],l=[],u=[],f=[],h=[],d=[],v=[],m=[],g=[];(function(){for(var x=[],_=0;_<256;_++)_<128?x[_]=_<<1:x[_]=_<<1^283;for(var B=0,D=0,_=0;_<256;_++){var F=D^D<<1^D<<2^D<<3^D<<4;F=F>>>8^F&255^99,a[B]=F,c[F]=B;var E=x[B],k=x[E],w=x[k],A=x[F]*257^F*16843008;l[B]=A<<24|A>>>8,u[B]=A<<16|A>>>16,f[B]=A<<8|A>>>24,h[B]=A;var A=w*16843009^k*65537^E*257^B*16843008;d[F]=A<<24|A>>>8,v[F]=A<<16|A>>>16,m[F]=A<<8|A>>>24,g[F]=A,B?(B=E^x[x[x[w^E]]],D^=x[x[D]]):B=D=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],p=o.AES=i.extend({_doReset:function(){var x;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var _=this._keyPriorReset=this._key,B=_.words,D=_.sigBytes/4,F=this._nRounds=D+6,E=(F+1)*4,k=this._keySchedule=[],w=0;w<E;w++)w<D?k[w]=B[w]:(x=k[w-1],w%D?D>6&&w%D==4&&(x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255]):(x=x<<8|x>>>24,x=a[x>>>24]<<24|a[x>>>16&255]<<16|a[x>>>8&255]<<8|a[x&255],x^=b[w/D|0]<<24),k[w]=k[w-D]^x);for(var A=this._invKeySchedule=[],y=0;y<E;y++){var w=E-y;if(y%4)var x=k[w];else var x=k[w-4];y<4||w<=4?A[y]=x:A[y]=d[a[x>>>24]]^v[a[x>>>16&255]]^m[a[x>>>8&255]]^g[a[x&255]]}}},encryptBlock:function(x,_){this._doCryptBlock(x,_,this._keySchedule,l,u,f,h,a)},decryptBlock:function(x,_){var B=x[_+1];x[_+1]=x[_+3],x[_+3]=B,this._doCryptBlock(x,_,this._invKeySchedule,d,v,m,g,c);var B=x[_+1];x[_+1]=x[_+3],x[_+3]=B},_doCryptBlock:function(x,_,B,D,F,E,k,w){for(var A=this._nRounds,y=x[_]^B[0],T=x[_+1]^B[1],P=x[_+2]^B[2],W=x[_+3]^B[3],M=4,V=1;V<A;V++){var Y=D[y>>>24]^F[T>>>16&255]^E[P>>>8&255]^k[W&255]^B[M++],le=D[T>>>24]^F[P>>>16&255]^E[W>>>8&255]^k[y&255]^B[M++],ae=D[P>>>24]^F[W>>>16&255]^E[y>>>8&255]^k[T&255]^B[M++],I=D[W>>>24]^F[y>>>16&255]^E[T>>>8&255]^k[P&255]^B[M++];y=Y,T=le,P=ae,W=I}var Y=(w[y>>>24]<<24|w[T>>>16&255]<<16|w[P>>>8&255]<<8|w[W&255])^B[M++],le=(w[T>>>24]<<24|w[P>>>16&255]<<16|w[W>>>8&255]<<8|w[y&255])^B[M++],ae=(w[P>>>24]<<24|w[W>>>16&255]<<16|w[y>>>8&255]<<8|w[T&255])^B[M++],I=(w[W>>>24]<<24|w[y>>>16&255]<<16|w[T>>>8&255]<<8|w[P&255])^B[M++];x[_]=Y,x[_+1]=le,x[_+2]=ae,x[_+3]=I},keySize:256/32});s.AES=i._createHelper(p)}(),r.AES})}(Di)),Di.exports}var ki={exports:{}},Kc;function Sg(){return Kc||(Kc=1,function(t,e){(function(r,s,n){t.exports=s(de(),pr(),vr(),er(),Ie())})(se,function(r){return function(){var s=r,n=s.lib,i=n.WordArray,o=n.BlockCipher,a=s.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],f=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=o.extend({_doReset:function(){for(var b=this._key,p=b.words,x=[],_=0;_<56;_++){var B=c[_]-1;x[_]=p[B>>>5]>>>31-B%32&1}for(var D=this._subKeys=[],F=0;F<16;F++){for(var E=D[F]=[],k=u[F],_=0;_<24;_++)E[_/6|0]|=x[(l[_]-1+k)%28]<<31-_%6,E[4+(_/6|0)]|=x[28+(l[_+24]-1+k)%28]<<31-_%6;E[0]=E[0]<<1|E[0]>>>31;for(var _=1;_<7;_++)E[_]=E[_]>>>(_-1)*4+3;E[7]=E[7]<<5|E[7]>>>27}for(var w=this._invSubKeys=[],_=0;_<16;_++)w[_]=D[15-_]},encryptBlock:function(b,p){this._doCryptBlock(b,p,this._subKeys)},decryptBlock:function(b,p){this._doCryptBlock(b,p,this._invSubKeys)},_doCryptBlock:function(b,p,x){this._lBlock=b[p],this._rBlock=b[p+1],v.call(this,4,252645135),v.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),v.call(this,1,1431655765);for(var _=0;_<16;_++){for(var B=x[_],D=this._lBlock,F=this._rBlock,E=0,k=0;k<8;k++)E|=f[k][((F^B[k])&h[k])>>>0];this._lBlock=F,this._rBlock=D^E}var w=this._lBlock;this._lBlock=this._rBlock,this._rBlock=w,v.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),b[p]=this._lBlock,b[p+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(b,p){var x=(this._lBlock>>>b^this._rBlock)&p;this._rBlock^=x,this._lBlock^=x<<b}function m(b,p){var x=(this._rBlock>>>b^this._lBlock)&p;this._lBlock^=x,this._rBlock^=x<<b}s.DES=o._createHelper(d);var g=a.TripleDES=o.extend({_doReset:function(){var b=this._key,p=b.words;if(p.length!==2&&p.length!==4&&p.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var x=p.slice(0,2),_=p.length<4?p.slice(0,2):p.slice(2,4),B=p.length<6?p.slice(0,2):p.slice(4,6);this._des1=d.createEncryptor(i.create(x)),this._des2=d.createEncryptor(i.create(_)),this._des3=d.createEncryptor(i.create(B))},encryptBlock:function(b,p){this._des1.encryptBlock(b,p),this._des2.decryptBlock(b,p),this._des3.encryptBlock(b,p)},decryptBlock:function(b,p){this._des3.decryptBlock(b,p),this._des2.encryptBlock(b,p),this._des1.decryptBlock(b,p)},keySize:192/32,ivSize:64/32,blockSize:64/32});s.TripleDES=o._createHelper(g)}(),r.TripleDES})}(ki)),ki.exports}var Fi={exports:{}},Vc;function Bg(){return Vc||(Vc=1,function(t,e){(function(r,s,n){t.exports=s(de(),pr(),vr(),er(),Ie())})(se,function(r){return function(){var s=r,n=s.lib,i=n.StreamCipher,o=s.algo,a=o.RC4=i.extend({_doReset:function(){for(var u=this._key,f=u.words,h=u.sigBytes,d=this._S=[],v=0;v<256;v++)d[v]=v;for(var v=0,m=0;v<256;v++){var g=v%h,b=f[g>>>2]>>>24-g%4*8&255;m=(m+d[v]+b)%256;var p=d[v];d[v]=d[m],d[m]=p}this._i=this._j=0},_doProcessBlock:function(u,f){u[f]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var u=this._S,f=this._i,h=this._j,d=0,v=0;v<4;v++){f=(f+1)%256,h=(h+u[f])%256;var m=u[f];u[f]=u[h],u[h]=m,d|=u[(u[f]+u[h])%256]<<24-v*8}return this._i=f,this._j=h,d}s.RC4=i._createHelper(a);var l=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)c.call(this)}});s.RC4Drop=i._createHelper(l)}(),r.RC4})}(Fi)),Fi.exports}var Ti={exports:{}},Gc;function Dg(){return Gc||(Gc=1,function(t,e){(function(r,s,n){t.exports=s(de(),pr(),vr(),er(),Ie())})(se,function(r){return function(){var s=r,n=s.lib,i=n.StreamCipher,o=s.algo,a=[],c=[],l=[],u=o.Rabbit=i.extend({_doReset:function(){for(var h=this._key.words,d=this.cfg.iv,v=0;v<4;v++)h[v]=(h[v]<<8|h[v]>>>24)&16711935|(h[v]<<24|h[v]>>>8)&4278255360;var m=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],g=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var v=0;v<4;v++)f.call(this);for(var v=0;v<8;v++)g[v]^=m[v+4&7];if(d){var b=d.words,p=b[0],x=b[1],_=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,B=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,D=_>>>16|B&4294901760,F=B<<16|_&65535;g[0]^=_,g[1]^=D,g[2]^=B,g[3]^=F,g[4]^=_,g[5]^=D,g[6]^=B,g[7]^=F;for(var v=0;v<4;v++)f.call(this)}},_doProcessBlock:function(h,d){var v=this._X;f.call(this),a[0]=v[0]^v[5]>>>16^v[3]<<16,a[1]=v[2]^v[7]>>>16^v[5]<<16,a[2]=v[4]^v[1]>>>16^v[7]<<16,a[3]=v[6]^v[3]>>>16^v[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,h[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,d=this._C,v=0;v<8;v++)c[v]=d[v];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var v=0;v<8;v++){var m=h[v]+d[v],g=m&65535,b=m>>>16,p=((g*g>>>17)+g*b>>>15)+b*b,x=((m&4294901760)*m|0)+((m&65535)*m|0);l[v]=p^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s.Rabbit=i._createHelper(u)}(),r.Rabbit})}(Ti)),Ti.exports}var Ri={exports:{}},Qc;function kg(){return Qc||(Qc=1,function(t,e){(function(r,s,n){t.exports=s(de(),pr(),vr(),er(),Ie())})(se,function(r){return function(){var s=r,n=s.lib,i=n.StreamCipher,o=s.algo,a=[],c=[],l=[],u=o.RabbitLegacy=i.extend({_doReset:function(){var h=this._key.words,d=this.cfg.iv,v=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],m=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var g=0;g<4;g++)f.call(this);for(var g=0;g<8;g++)m[g]^=v[g+4&7];if(d){var b=d.words,p=b[0],x=b[1],_=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,B=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,D=_>>>16|B&4294901760,F=B<<16|_&65535;m[0]^=_,m[1]^=D,m[2]^=B,m[3]^=F,m[4]^=_,m[5]^=D,m[6]^=B,m[7]^=F;for(var g=0;g<4;g++)f.call(this)}},_doProcessBlock:function(h,d){var v=this._X;f.call(this),a[0]=v[0]^v[5]>>>16^v[3]<<16,a[1]=v[2]^v[7]>>>16^v[5]<<16,a[2]=v[4]^v[1]>>>16^v[7]<<16,a[3]=v[6]^v[3]>>>16^v[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,h[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function f(){for(var h=this._X,d=this._C,v=0;v<8;v++)c[v]=d[v];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<c[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<c[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<c[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<c[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<c[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<c[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<c[6]>>>0?1:0)|0,this._b=d[7]>>>0<c[7]>>>0?1:0;for(var v=0;v<8;v++){var m=h[v]+d[v],g=m&65535,b=m>>>16,p=((g*g>>>17)+g*b>>>15)+b*b,x=((m&4294901760)*m|0)+((m&65535)*m|0);l[v]=p^x}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}s.RabbitLegacy=i._createHelper(u)}(),r.RabbitLegacy})}(Ri)),Ri.exports}var Pi={exports:{}},Jc;function Fg(){return Jc||(Jc=1,function(t,e){(function(r,s,n){t.exports=s(de(),pr(),vr(),er(),Ie())})(se,function(r){return function(){var s=r,n=s.lib,i=n.BlockCipher,o=s.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function f(g,b){let p=b>>24&255,x=b>>16&255,_=b>>8&255,B=b&255,D=g.sbox[0][p]+g.sbox[1][x];return D=D^g.sbox[2][_],D=D+g.sbox[3][B],D}function h(g,b,p){let x=b,_=p,B;for(let D=0;D<a;++D)x=x^g.pbox[D],_=f(g,x)^_,B=x,x=_,_=B;return B=x,x=_,_=B,_=_^g.pbox[a],x=x^g.pbox[a+1],{left:x,right:_}}function d(g,b,p){let x=b,_=p,B;for(let D=a+1;D>1;--D)x=x^g.pbox[D],_=f(g,x)^_,B=x,x=_,_=B;return B=x,x=_,_=B,_=_^g.pbox[1],x=x^g.pbox[0],{left:x,right:_}}function v(g,b,p){for(let F=0;F<4;F++){g.sbox[F]=[];for(let E=0;E<256;E++)g.sbox[F][E]=l[F][E]}let x=0;for(let F=0;F<a+2;F++)g.pbox[F]=c[F]^b[x],x++,x>=p&&(x=0);let _=0,B=0,D=0;for(let F=0;F<a+2;F+=2)D=h(g,_,B),_=D.left,B=D.right,g.pbox[F]=_,g.pbox[F+1]=B;for(let F=0;F<4;F++)for(let E=0;E<256;E+=2)D=h(g,_,B),_=D.left,B=D.right,g.sbox[F][E]=_,g.sbox[F][E+1]=B;return!0}var m=o.Blowfish=i.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var g=this._keyPriorReset=this._key,b=g.words,p=g.sigBytes/4;v(u,b,p)}},encryptBlock:function(g,b){var p=h(u,g[b],g[b+1]);g[b]=p.left,g[b+1]=p.right},decryptBlock:function(g,b){var p=d(u,g[b],g[b+1]);g[b]=p.left,g[b+1]=p.right},blockSize:64/32,keySize:128/32,ivSize:64/32});s.Blowfish=i._createHelper(m)}(),r.Blowfish})}(Pi)),Pi.exports}(function(t,e){(function(r,s,n){t.exports=s(de(),kn(),og(),ag(),pr(),cg(),vr(),ru(),Uo(),lg(),su(),ug(),fg(),hg(),No(),dg(),er(),Ie(),xg(),pg(),vg(),gg(),_g(),mg(),yg(),wg(),bg(),Eg(),Cg(),Ag(),Sg(),Bg(),Dg(),kg(),Fg())})(se,function(r){return r})})(tg);function Tg(t){return Jh()}class Rg{showModal(e){try{const r=window.confirm(e.title&&e.content?`${e.title}

${e.content}`:e.content||e.title||"确认操作?");e.success&&e.success({confirm:r,cancel:!r})}catch(r){e.fail&&e.fail(r)}finally{e.complete&&e.complete()}}showToast(e){try{const r=document.createElement("div");r.style.cssText=`
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: 16px 24px;
        border-radius: 8px;
        font-size: 14px;
        z-index: 10000;
        max-width: 200px;
        text-align: center;
        word-break: break-all;
        pointer-events: none;
      `;let s="";switch(e.icon){case"success":s="✓ ";break;case"error":s="✗ ";break;case"loading":s="⟳ ";break;default:break}r.textContent=s+e.title,document.body.appendChild(r);const n=e.duration||1500;setTimeout(()=>{r.parentNode&&document.body.removeChild(r)},n),e.success&&e.success()}catch(r){e.fail&&e.fail(r)}finally{e.complete&&e.complete()}}hideToast(){document.querySelectorAll('[style*="z-index: 10000"]').forEach(r=>{r.parentNode&&r.parentNode.removeChild(r)})}navigateTo(e){try{let r=e.url;r.startsWith("/")&&(r=r.substring(1)),r=r.replace(/^pages\//,"/").replace(/\/index$/,""),window.location.hash?window.location.hash="#"+r:window.location.pathname=r,e.success&&e.success()}catch(r){e.fail&&e.fail(r)}finally{e.complete&&e.complete()}}navigateBack(e){try{const r=(e==null?void 0:e.delta)||1;window.history.go(-r),e!=null&&e.success&&e.success()}catch(r){e!=null&&e.fail&&e.fail(r)}finally{e!=null&&e.complete&&e.complete()}}setNavigationBarTitle(e){try{document.title=e.title,e.success&&e.success()}catch(r){e.fail&&e.fail(r)}finally{e.complete&&e.complete()}}getStorageSync(e){try{const r=localStorage.getItem(e);if(r===null)return;try{return JSON.parse(r)}catch{return r}}catch(r){console.warn("Failed to get storage item:",e,r);return}}setStorageSync(e,r){try{const s=typeof r=="string"?r:JSON.stringify(r);localStorage.setItem(e,s)}catch(s){throw console.warn("Failed to set storage item:",e,s),s}}removeStorageSync(e){try{localStorage.removeItem(e)}catch(r){throw console.warn("Failed to remove storage item:",e,r),r}}getStorageInfoSync(){try{const e=Object.keys(localStorage);let r=0;for(const s of e){const n=localStorage.getItem(s);n&&(r+=s.length+n.length)}return{keys:e,currentSize:r*2,limitSize:10*1024*1024}}catch(e){return console.warn("Failed to get storage info:",e),{keys:[],currentSize:0,limitSize:0}}}}function Pg(){typeof window<"u"&&!window.uni&&(window.uni=new Rg,console.log("UniApp compatibility layer initialized for web environment"))}Pg();const Fn=Vh(Tp),Og=Tg();Fn.use(Og);Fn.use(Dn);Fn.config.errorHandler=(t,e,r)=>{console.error("Vue Error:",t),console.error("Component:",e),console.error("Info:",r),window.uni?window.uni.showToast({title:"应用出现错误，请刷新页面",icon:"error",duration:3e3}):alert("应用出现错误，请刷新页面")};console.log("YesSales Standard Web Application Starting...");console.log("Environment:","production");console.log("Base URL:",Dn.options.history.base);Fn.mount("#app");export{c1 as $,po as A,o1 as B,wt as C,Ml as D,u1 as E,Ze as F,Tr as G,Ds as H,Bp as I,Lg as J,Sp as K,ws as L,dn as M,Dp as N,Ap as O,lt as P,Ue as Q,Vg as R,Wg as S,qg as T,zg as U,a1 as V,bp as W,Gr as X,ke as Y,Hg as Z,De as _,al as a,Ng as b,sh as c,Bo as d,Ug as e,jg as f,Xs as g,As as h,Ce as i,Ge as j,lf as k,Xa as l,zi as m,vo as n,hn as o,oh as p,i1 as q,ue as r,n1 as s,Du as t,l1 as u,$g as v,Or as w,Mg as x,Cf as y,Kg as z};
