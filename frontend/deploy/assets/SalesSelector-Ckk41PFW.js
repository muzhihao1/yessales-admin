import{d as y,c as o,b as u,a as f,n as h,t as n,g as r,i as m,j as w,y as B,k as C}from"./index.standard-DHpxIVC0.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const _={class:"sales-form-item"},I=["value","type","placeholder","maxlength","disabled"],q={key:1,class:"sales-form-error"},$={key:2,class:"sales-form-help"},j=y({__name:"SalesInput",props:{modelValue:{default:""},label:{},placeholder:{},required:{type:Boolean,default:!1},type:{default:"text"},maxlength:{default:140},disabled:{type:Boolean,default:!1},error:{},help:{}},emits:["update:modelValue","blur","focus"],setup(b,{emit:v}){const a=v,t=l=>{const i=l.target;a("update:modelValue",i.value)},p=l=>{a("blur",l)},d=l=>{a("focus",l)};return(l,i)=>(r(),o("view",_,[l.label?(r(),o("label",{key:0,class:h(["sales-form-label",{required:l.required}])},n(l.label),3)):u("",!0),f("input",{class:h(["sales-input",{"sales-input-error":!!l.error,"sales-input-disabled":l.disabled}]),value:l.modelValue,type:l.type,placeholder:l.placeholder,maxlength:l.maxlength,disabled:l.disabled,onInput:t,onBlur:p,onFocus:d},null,42,I),l.error?(r(),o("view",q,n(l.error),1)):u("",!0),l.help&&!l.error?(r(),o("view",$,n(l.help),1)):u("",!0)]))}}),E=V(j,[["__scopeId","data-v-a14cec89"]]),N={class:"sales-form-item"},O={class:"sales-selector-text"},F={key:1,class:"sales-form-error"},K={key:2,class:"sales-form-help"},z=y({__name:"SalesSelector",props:{modelValue:{default:""},options:{default:()=>[]},label:{},placeholder:{default:"请选择"},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{},help:{},mode:{default:"selector"},rangeKey:{default:"label"}},emits:["update:modelValue","change","cancel"],setup(b,{emit:v}){const a=b,t=v,p=m(()=>a.options.length>0&&typeof a.options[0]=="object"),d=m(()=>p.value?a.options:a.options.map(e=>({label:String(e),value:e}))),l=m(()=>{if(a.mode==="time"||a.mode==="date")return a.modelValue||"";const e=d.value.findIndex(s=>s.value===a.modelValue);return e>=0?e:0}),i=m(()=>{if(a.mode==="time"||a.mode==="date")return a.modelValue||"";if(!a.modelValue&&a.modelValue!==0)return"";if(p.value){const e=a.options.find(s=>s.value===a.modelValue);return(e==null?void 0:e.label)||""}return String(a.modelValue)}),k=e=>{if(a.mode==="time"||a.mode==="date"){const c=e.detail.value;t("update:modelValue",c),t("change",c);return}const s=e.detail.value;if(s>=0&&s<d.value.length){const g=d.value[s].value;t("update:modelValue",g),t("change",g)}},S=()=>{t("cancel")};return(e,s)=>{const c=B("picker");return r(),o("view",N,[e.label?(r(),o("label",{key:0,class:h(["sales-form-label",{required:e.required}])},n(e.label),3)):u("",!0),w(c,{mode:e.mode,value:l.value,range:d.value,"range-key":e.rangeKey,disabled:e.disabled,onChange:k,onCancel:S},{default:C(()=>[f("view",{class:h(["sales-selector",{"sales-selector-placeholder":!i.value,"sales-selector-error":!!e.error,"sales-selector-disabled":e.disabled}])},[f("text",O,n(i.value||e.placeholder),1),s[0]||(s[0]=f("text",{class:"sales-selector-arrow"},"▼",-1))],2)]),_:1},8,["mode","value","range","range-key","disabled"]),e.error?(r(),o("view",F,n(e.error),1)):u("",!0),e.help&&!e.error?(r(),o("view",K,n(e.help),1)):u("",!0)])}}}),R=V(z,[["__scopeId","data-v-f6cce421"]]);export{E as S,R as a};
