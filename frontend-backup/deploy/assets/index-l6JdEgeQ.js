import{A as T}from"./AdminLayout-CwVGqELj.js";import{u as $}from"./useAuth-wzWGH3hv.js";import{d as I,r as p,o as A,c as a,j as O,k as q,g as l,a as e,t as s,G as M,F as d,f as u,b as Q,A as _,n as g}from"./index.standard-DHpxIVC0.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const F={class:"dashboard-page"},N={class:"page-header"},V={class:"page-subtitle"},j={class:"stat-cards"},z={class:"stat-content"},L={class:"stat-value"},E={class:"stat-label"},G={key:0,class:"stat-trend"},H={class:"chart-section"},U={class:"chart-card"},J={class:"card-header"},K={class:"chart-tabs"},P=["onClick"],R={class:"recent-section"},W={class:"quote-list"},X={key:0,class:"empty-state"},Y={key:1,class:"quote-table"},Z={class:"col col-no"},ee={class:"col col-customer"},te={class:"col col-amount"},oe={class:"col col-status"},se={class:"col col-date"},ae={class:"col col-action"},le=["onClick"],ne={class:"quick-actions"},ce={class:"action-grid"},ie=["onClick"],re={class:"action-label"},de=I({__name:"index",setup(ue){const w=$(),b=p("week"),v=p([]),i=p([{key:"total",label:"æ€»æŠ¥ä»·å•",value:"0",icon:"ðŸ“‹",color:"#2563eb",bgColor:"#eff6ff",trend:12.5},{key:"pending",label:"å¾…å®¡æ ¸",value:"0",icon:"â³",color:"#f59e0b",bgColor:"#fffbeb",trend:-3.2},{key:"approved",label:"å·²é€šè¿‡",value:"0",icon:"âœ…",color:"#22c55e",bgColor:"#f0fdf4",trend:8.7},{key:"revenue",label:"æ€»é‡‘é¢",value:"Â¥0",icon:"ðŸ’°",color:"#6366f1",bgColor:"#eef2ff",trend:15.3}]),m=[{key:"week",label:"æœ¬å‘¨"},{key:"month",label:"æœ¬æœˆ"},{key:"year",label:"æœ¬å¹´"}],f=[{key:"new-quote",label:"æ–°å»ºæŠ¥ä»·",icon:"âž•",color:"#2563eb",bgColor:"#eff6ff"},{key:"add-product",label:"æ·»åŠ äº§å“",icon:"ðŸ“¦",color:"#22c55e",bgColor:"#f0fdf4"},{key:"view-reports",label:"æŸ¥çœ‹æŠ¥è¡¨",icon:"ðŸ“Š",color:"#6366f1",bgColor:"#eef2ff"},{key:"export-data",label:"å¯¼å‡ºæ•°æ®",icon:"ðŸ“¤",color:"#f59e0b",bgColor:"#fffbeb"}],x=n=>({pending:"å¾…å®¡æ ¸",approved:"å·²é€šè¿‡",rejected:"å·²æ‹’ç»",completed:"å·²å®Œæˆ"})[n]||n,h=n=>{const o=new Date(n),r=(o.getMonth()+1).toString().padStart(2,"0"),t=o.getDate().toString().padStart(2,"0"),c=o.getHours().toString().padStart(2,"0"),k=o.getMinutes().toString().padStart(2,"0");return`${r}-${t} ${c}:${k}`},y=()=>{uni.navigateTo({url:"/pages/admin/quotes/index"})},S=n=>{uni.navigateTo({url:`/pages/admin/quotes/detail?id=${n}`})},C=n=>{switch(n){case"new-quote":uni.navigateTo({url:"/pages/sales/quote/create"});break;case"add-product":uni.navigateTo({url:"/pages/admin/products/edit"});break;case"view-reports":uni.navigateTo({url:"/pages/admin/reports/index"});break;case"export-data":uni.showToast({title:"åŠŸèƒ½å¼€å‘ä¸­",icon:"none"});break}},D=async()=>{i.value[0].value="156",i.value[1].value="23",i.value[2].value="98",i.value[3].value="Â¥128,560",v.value=[{id:"1",quote_no:"20240120-001",customer_id:"1",total_price:12580,status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),customer:{id:"1",name:"å¼ å…ˆç”Ÿ",phone:"13800138000",created_at:new Date().toISOString()}},{id:"2",quote_no:"20240120-002",customer_id:"2",total_price:25800,status:"approved",created_at:new Date(Date.now()-864e5).toISOString(),updated_at:new Date().toISOString(),customer:{id:"2",name:"æŽå¥³å£«",phone:"13900139000",created_at:new Date().toISOString()}}]};return A(()=>{D()}),(n,o)=>(l(),a("view",F,[O(T,null,{default:q(()=>{var r;return[e("view",N,[o[0]||(o[0]=e("text",{class:"page-title"},"ä»ªè¡¨ç›˜",-1)),e("text",V,"æ¬¢è¿Žå›žæ¥ï¼Œ"+s(((r=M(w).adminUser)==null?void 0:r.name)||"ç®¡ç†å‘˜"),1)]),e("view",j,[(l(!0),a(d,null,u(i.value,t=>(l(),a("view",{class:"stat-card",key:t.key},[e("view",{class:"stat-icon",style:_({backgroundColor:t.bgColor})},[e("text",{style:_({color:t.color})},s(t.icon),5)],4),e("view",z,[e("text",L,s(t.value),1),e("text",E,s(t.label),1)]),t.trend?(l(),a("view",G,[e("text",{class:g(["trend-value",t.trend>0?"up":"down"])},s(t.trend>0?"+":"")+s(t.trend)+"% ",3),o[1]||(o[1]=e("text",{class:"trend-label"},"è¾ƒä¸Šæœˆ",-1))])):Q("",!0)]))),128))]),e("view",H,[e("view",U,[e("view",J,[o[2]||(o[2]=e("text",{class:"card-title"},"é”€å”®è¶‹åŠ¿",-1)),e("view",K,[(l(),a(d,null,u(m,t=>e("text",{key:t.key,class:g(["tab-item",{active:b.value===t.key}]),onClick:c=>b.value=t.key},s(t.label),11,P)),64))])]),o[3]||(o[3]=e("view",{class:"chart-container"},[e("view",{class:"chart-placeholder"},[e("text",null,"é”€å”®è¶‹åŠ¿å›¾è¡¨")])],-1))])]),e("view",R,[e("view",{class:"section-header"},[o[4]||(o[4]=e("text",{class:"section-title"},"æœ€è¿‘æŠ¥ä»·å•",-1)),e("text",{class:"section-link",onClick:y},"æŸ¥çœ‹å…¨éƒ¨ â†’")]),e("view",W,[v.value.length===0?(l(),a("view",X,o[5]||(o[5]=[e("text",{class:"empty-text"},"æš‚æ— æŠ¥ä»·å•æ•°æ®",-1)]))):(l(),a("view",Y,[o[6]||(o[6]=e("view",{class:"table-header"},[e("text",{class:"col col-no"},"æŠ¥ä»·å•å·"),e("text",{class:"col col-customer"},"å®¢æˆ·"),e("text",{class:"col col-amount"},"é‡‘é¢"),e("text",{class:"col col-status"},"çŠ¶æ€"),e("text",{class:"col col-date"},"åˆ›å»ºæ—¶é—´"),e("text",{class:"col col-action"},"æ“ä½œ")],-1)),(l(!0),a(d,null,u(v.value,t=>{var c;return l(),a("view",{key:t.id,class:"table-row"},[e("text",Z,s(t.quote_no),1),e("text",ee,s(((c=t.customer)==null?void 0:c.name)||"-"),1),e("text",te,"Â¥"+s(t.total_price.toFixed(2)),1),e("view",oe,[e("text",{class:g(["status-badge",`status-${t.status}`])},s(x(t.status)),3)]),e("text",se,s(h(t.created_at)),1),e("view",ae,[e("text",{class:"action-link",onClick:k=>S(t.id)},"æŸ¥çœ‹",8,le)])])}),128))]))])]),e("view",ne,[o[7]||(o[7]=e("text",{class:"section-title"},"å¿«æ·æ“ä½œ",-1)),e("view",ce,[(l(),a(d,null,u(f,t=>e("view",{key:t.key,class:"action-item",onClick:c=>C(t.key)},[e("view",{class:"action-icon",style:_({backgroundColor:t.bgColor})},[e("text",{style:_({color:t.color})},s(t.icon),5)],4),e("text",re,s(t.label),1)],8,ie)),64))])])]}),_:1})]))}}),be=B(de,[["__scopeId","data-v-a7a5320d"]]);export{be as default};
